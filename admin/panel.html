<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - PERGUNU</title>
    <link rel="stylesheet" href="../assets/css/admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .admin-container {
            display: flex;
            min-height: 100vh;
            font-family: 'Poppins', sans-serif;
        }
        
        .admin-sidebar {
            width: 250px;
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
        }
        
        .admin-logo {
            text-align: center;
            padding: 20px;
            border-bottom: 1px solid #34495e;
        }
        
        .admin-logo img {
            height: 50px;
        }
        
        .admin-menu {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }
        
        .admin-menu li {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
        }
        
        .admin-menu li i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .admin-menu li:hover {
            background-color: #34495e;
        }
        
        .admin-menu li.active {
            background-color: #3498db;
        }
        
        .admin-footer {
            padding: 20px;
            border-top: 1px solid #34495e;
        }
        
        .btn-logout {
            width: 100%;
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-logout i {
            margin-right: 8px;
        }
        
        .admin-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .admin-header {
            background-color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .header-left h2 {
            margin: 0;
            font-size: 1.5rem;
            color: #2c3e50;
        }
        
        .breadcrumb {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .admin-profile {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .admin-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .admin-content {
            flex: 1;
            padding: 20px;
            background-color: #f5f5f5;
            overflow-y: auto;
        }
        
        .admin-section {
            display: none;
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .admin-section.active {
            display: block;
        }
        
        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 1.5rem;
        }
        
        .stat-info h3 {
            margin: 0;
            font-size: 1.8rem;
            color: #2c3e50;
        }
        
        .stat-info p {
            margin: 5px 0 0;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .recent-activity {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .recent-activity h3 {
            margin-top: 0;
            display: flex;
            align-items: center;
            color: #2c3e50;
        }
        
        .recent-activity h3 i {
            margin-right: 10px;
            color: #3498db;
        }
        
        /* Code Management Styles */
        .code-management-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .code-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .code-header {
            background-color: #3498db;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
        }
        
        .code-header i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .code-header h4 {
            margin: 0;
        }
        
        .code-body {
            padding: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .form-group input, 
        .form-group select, 
        .form-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Poppins', sans-serif;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background-color: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-secondary {
            background-color: #95a5a6;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #7f8c8d;
        }
        
        /* Participants Table Styles */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-header h3 {
            margin: 0;
            display: flex;
            align-items: center;
            color: #2c3e50;
        }
        
        .section-header h3 i {
            margin-right: 10px;
            color: #3498db;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        .participants-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
        }
        
        .filter-group label {
            margin-right: 10px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .participants-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .participants-table th, 
        .participants-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .participants-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .participants-table tbody tr:hover {
            background-color: #f8f9fa;
        }
        
        .table-pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            gap: 10px;
        }
        
        .btn-pagination {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ddd;
            background-color: white;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .btn-pagination:hover {
            background-color: #f8f9fa;
        }
        
        .page-numbers {
            display: flex;
            gap: 5px;
        }
        
        /* Exam Control Styles */
        .exam-control-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .control-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .control-header {
            background-color: #3498db;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
        }
        
        .control-header i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .control-header h4 {
            margin: 0;
        }
        
        .control-body {
            padding: 20px;
        }
        
        .toggle-switch {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .toggle-switch input[type="checkbox"] {
            display: none;
        }
        
        .toggle-switch label {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            background-color: #ccc;
            border-radius: 12px;
            margin-right: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .toggle-switch label:after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }
        
        .toggle-switch input[type="checkbox"]:checked + label {
            background-color: #2ecc71;
        }
        
        .toggle-switch input[type="checkbox"]:checked + label:after {
            transform: translateX(26px);
        }
        
        /* Certificate Styles */
        .certificate-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .certificate-preview {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .certificate-template {
            width: 100%;
            height: 400px;
            background-color: white;
            border: 1px solid #ddd;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .certificate-settings {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        /* Settings Styles */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .settings-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .settings-header {
            background-color: #3498db;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
        }
        
        .settings-header i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .settings-header h4 {
            margin: 0;
        }
        
        .settings-body {
            padding: 20px;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
        }
        
        .modal-header {
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .modal-header h3 {
            margin: 0;
            color: #2c3e50;
        }
        
        .modal-footer {
            padding-top: 15px;
            border-top: 1px solid #ddd;
            margin-top: 20px;
            text-align: right;
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .stats-grid, 
            .code-management-grid,
            .exam-control-grid,
            .certificate-controls,
            .settings-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .admin-container {
                flex-direction: column;
            }
            
            .admin-sidebar {
                width: 100%;
                height: auto;
            }
            
            .admin-menu {
                display: flex;
                overflow-x: auto;
                white-space: nowrap;
            }
            
            .admin-menu li {
                display: inline-block;
            }
            
            .participants-filters {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .filter-group {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .filter-group label {
                min-width: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div class="admin-logo">
                <img src="../assets/images/logo.png" alt="PERGUNU Logo">
                <h3>Admin Panel</h3>
            </div>
            
            <ul class="admin-menu">
                <li class="active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </li>
                <li data-section="code-management">
                    <i class="fas fa-key"></i> Manajemen Kode
                </li>
                <li data-section="participants">
                    <i class="fas fa-users"></i> Data Peserta
                </li>
                <li data-section="questions">
                    <i class="fas fa-book"></i> Bank Soal
                </li>
                <li data-section="exam-control">
                    <i class="fas fa-tasks"></i> Kontrol Ujian
                </li>
                <li data-section="certificate">
                    <i class="fas fa-certificate"></i> Sertifikat
                </li>
                <li data-section="settings">
                    <i class="fas fa-cog"></i> Pengaturan
                </li>
                <li data-section="reports">
                    <i class="fas fa-chart-bar"></i> Laporan
                </li>
            </ul>
            
            <div class="admin-footer">
                <button class="btn btn-logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="admin-main">
            <div class="admin-header">
                <div class="header-left">
                    <h2 id="adminSectionTitle">Dashboard</h2>
                    <div class="breadcrumb" id="adminBreadcrumb">
                        <span>Admin</span> / <span>Dashboard</span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="admin-profile">
                        <img src="../assets/images/admin-avatar.png" alt="Admin">
                        <span>Admin</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
            </div>
            
            <div class="admin-content">
                <!-- Dashboard Section -->
                <div class="admin-section active" id="dashboard">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon" style="background-color: #4e73df;">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalParticipants">0</h3>
                                <p>Total Peserta</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background-color: #1cc88a;">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalQuestions">0</h3>
                                <p>Total Soal</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background-color: #f6c23e;">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalCertificates">0</h3>
                                <p>Sertifikat Diterbitkan</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background-color: #e74a3b;">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="avgScore">0</h3>
                                <p>Rata-rata Nilai</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recent-activity">
                        <h3><i class="fas fa-history"></i> Aktivitas Terkini</h3>
                        <div class="activity-list" id="recentActivity">
                            <!-- Activities will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Code Management Section -->
                <div class="admin-section" id="code-management">
                    <h3><i class="fas fa-key"></i> Manajemen Kode Akses</h3>
                    
                    <div class="code-management-grid">
                        <div class="code-card">
                            <div class="code-header">
                                <i class="fas fa-sign-in-alt"></i>
                                <h4>Kode Login Peserta</h4>
                            </div>
                            <div class="code-body">
                                <div class="form-group">
                                    <label>Kode Login Baru</label>
                                    <input type="password" id="newLoginCode" placeholder="Masukkan kode baru">
                                </div>
                                <div class="form-group">
                                    <label>Kode Login Saat Ini</label>
                                    <input type="text" id="currentLoginCode" value="12345" readonly>
                                </div>
                                <button class="btn btn-primary" onclick="saveCode('login')">
                                    <i class="fas fa-save"></i> Simpan Kode
                                </button>
                            </div>
                        </div>
                        
                        <div class="code-card">
                            <div class="code-header">
                                <i class="fas fa-unlock-alt"></i>
                                <h4>Kode Ujian CPNS/P3K</h4>
                            </div>
                            <div class="code-body">
                                <div class="form-group">
                                    <label>Kode Baru</label>
                                    <input type="password" id="newCPNSCode" placeholder="Masukkan kode baru">
                                </div>
                                <div class="form-group">
                                    <label>Kode Saat Ini</label>
                                    <input type="text" id="currentCPNSCode" value="OPENLOCK-1945" readonly>
                                </div>
                                <button class="btn btn-primary" onclick="saveCode('cpns')">
                                    <i class="fas fa-save"></i> Simpan Kode
                                </button>
                            </div>
                        </div>
                        
                        <div class="code-card">
                            <div class="code-header">
                                <i class="fas fa-book"></i>
                                <h4>Kode Bank Soal</h4>
                            </div>
                            <div class="code-body">
                                <div class="form-group">
                                    <label>Kode Baru</label>
                                    <input type="password" id="newBankCode" placeholder="Masukkan kode baru">
                                </div>
                                <div class="form-group">
                                    <label>Kode Saat Ini</label>
                                    <input type="text" id="currentBankCode" value="OPENLOCK-1926" readonly>
                                </div>
                                <button class="btn btn-primary" onclick="saveCode('bank')">
                                    <i class="fas fa-save"></i> Simpan Kode
                                </button>
                            </div>
                        </div>
                        
                        <div class="code-card">
                            <div class="code-header">
                                <i class="fas fa-user-shield"></i>
                                <h4>Kode Admin</h4>
                            </div>
                            <div class="code-body">
                                <div class="form-group">
                                    <label>Kode Baru</label>
                                    <input type="password" id="newAdminCode" placeholder="Masukkan kode baru">
                                </div>
                                <div class="form-group">
                                    <label>Kode Saat Ini</label>
                                    <input type="text" id="currentAdminCode" value="65614222" readonly>
                                </div>
                                <button class="btn btn-primary" onclick="saveCode('admin')">
                                    <i class="fas fa-save"></i> Simpan Kode
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Participants Section -->
                <div class="admin-section" id="participants">
                    <div class="section-header">
                        <h3><i class="fas fa-users"></i> Manajemen Peserta</h3>
                        <div class="header-actions">
                            <button class="btn btn-primary" id="exportParticipants">
                                <i class="fas fa-file-export"></i> Export Data
                            </button>
                            <button class="btn btn-success" id="refreshParticipants">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div class="participants-filters">
                        <div class="filter-group">
                            <label>Status:</label>
                            <select id="filterStatus">
                                <option value="">Semua</option>
                                <option value="pelajar">Pelajar</option>
                                <option value="umum">Umum</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label>Tanggal:</label>
                            <input type="date" id="filterDate">
                        </div>
                        
                        <div class="filter-group">
                            <label>Cari:</label>
                            <input type="text" id="searchParticipants" placeholder="Nama, email, atau NIS">
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <table class="participants-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllParticipants"></th>
                                    <th>Nama</th>
                                    <th>Status</th>
                                    <th>Sekolah/Instansi</th>
                                    <th>Kontak</th>
                                    <th>Ujian</th>
                                    <th>Nilai</th>
                                    <th>Tanggal</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="participantsTableBody">
                                <!-- Participants will be loaded here -->
                                <tr>
                                    <td><input type="checkbox"></td>
                                    <td>Uswatun Hasanah</td>
                                    <td>Pelajar</td>
                                    <td>SMA Negeri 1 Situbondo</td>
                                    <td>uswatun@email.com</td>
                                    <td>IPS</td>
                                    <td>85</td>
                                    <td>16/05/2024</td>
                                    <td>
                                        <button class="btn btn-small btn-primary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox"></td>
                                    <td>Budi Santoso</td>
                                    <td>Umum</td>
                                    <td>PT Jaya Abadi</td>
                                    <td>budi@email.com</td>
                                    <td>CPNS/P3K</td>
                                    <td>72</td>
                                    <td>15/05/2024</td>
                                    <td>
                                        <button class="btn btn-small btn-primary">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-pagination">
                        <button class="btn btn-pagination" id="prevPage">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="page-numbers" id="pageNumbers">
                            <button class="btn btn-pagination active">1</button>
                            <button class="btn btn-pagination">2</button>
                            <button class="btn btn-pagination">3</button>
                        </div>
                        <button class="btn btn-pagination" id="nextPage">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Questions Section -->
                <div class="admin-section" id="questions">
                    <h3><i class="fas fa-book"></i> Bank Soal</h3>
                    <p>Fitur bank soal akan memungkinkan admin untuk menambah, mengedit, dan menghapus soal ujian.</p>
                    
                    <div class="question-management">
                        <button class="btn btn-primary">Tambah Soal Baru</button>
                        <button class="btn btn-secondary">Import Soal</button>
                    </div>
                    
                    <div class="question-list">
                        <!-- List of questions will be displayed here -->
                    </div>
                </div>
                
                <!-- Exam Control Section -->
                <div class="admin-section" id="exam-control">
                    <h3><i class="fas fa-tasks"></i> Kontrol Ujian</h3>
                    
                    <div class="exam-control-grid">
                        <div class="control-card">
                            <div class="control-header">
                                <i class="fas fa-power-off"></i>
                                <h4>Status Ujian</h4>
                            </div>
                            <div class="control-body">
                                <div class="toggle-switch">
                                    <input type="checkbox" id="examStatusToggle" checked>
                                    <label for="examStatusToggle"></label>
                                    <span id="examStatusText">Ujian Aktif</span>
                                </div>
                                <p>Nonaktifkan untuk maintenance</p>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <div class="control-header">
                                <i class="fas fa-clock"></i>
                                <h4>Timer Ujian</h4>
                            </div>
                            <div class="control-body">
                                <div class="form-group">
                                    <label>Durasi Ujian (menit)</label>
                                    <input type="number" id="examDuration" value="120" min="10" max="300">
                                </div>
                                <button class="btn btn-primary" id="saveExamDuration">
                                    <i class="fas fa-save"></i> Simpan
                                </button>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <div class="control-header">
                                <i class="fas fa-random"></i>
                                <h4>Acak Soal</h4>
                            </div>
                            <div class="control-body">
                                <div class="toggle-switch">
                                    <input type="checkbox" id="randomizeQuestions" checked>
                                    <label for="randomizeQuestions"></label>
                                    <span id="randomizeStatusText">Diacak</span>
                                </div>
                                <p>Acak urutan soal untuk setiap peserta</p>
                            </div>
                        </div>
                        
                        <div class="control-card">
                            <div class="control-header">
                                <i class="fas fa-sliders-h"></i>
                                <h4>Pengaturan Lanjutan</h4>
                            </div>
                            <div class="control-body">
                                <div class="form-group">
                                    <label>Jumlah Soal per Ujian</label>
                                    <select id="questionsPerExam">
                                        <option value="10">10 Soal</option>
                                        <option value="20">20 Soal</option>
                                        <option value="30">30 Soal</option>
                                        <option value="50">50 Soal</option>
                                        <option value="100">100 Soal</option>
                                        <option value="150" selected>150 Soal</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary" id="saveExamSettings">
                                    <i class="fas fa-save"></i> Simpan
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="exam-categories">
                        <h4><i class="fas fa-list"></i> Aktif/Nonaktif Kategori Ujian</h4>
                        <div class="categories-grid" id="examCategories">
                            <!-- Categories will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Certificate Section -->
                <div class="admin-section" id="certificate">
                    <h3><i class="fas fa-certificate"></i> Pengaturan Sertifikat</h3>
                    
                    <div class="certificate-controls">
                        <div class="certificate-preview">
                            <div class="certificate-template" id="certificateTemplate">
                                <h3 style="margin-top: 150px;">Sertifikat Ujian Online</h3>
                                <p>Diberikan kepada:</p>
                                <h2 style="margin: 20px 0;">[Nama Peserta]</h2>
                                <p>Telah menyelesaikan ujian dengan nilai:</p>
                                <h1 style="font-size: 3rem; margin: 20px 0;">[Nilai]</h1>
                                <p>Situbondo, [Tanggal]</p>
                                <div style="margin-top: 80px; width: 200px; border-top: 1px solid #000; display: inline-block; padding-top: 5px;">
                                    Moh. Nuril Hudha, S.Pd., M.Si.
                                </div>
                            </div>
                            <button class="btn btn-primary" id="updateCertificate">
                                <i class="fas fa-sync-alt"></i> Perbarui Preview
                            </button>
                        </div>
                        
                        <div class="certificate-settings">
                            <div class="form-group">
                                <label>Nama Ketua</label>
                                <input type="text" id="chairmanName" value="Moh. Nuril Hudha, S.Pd., M.Si.">
                            </div>
                            
                            <div class="form-group">
                                <label>Template Sertifikat</label>
                                <select id="certificateTemplateSelect">
                                    <option value="default">Default</option>
                                    <option value="elegant">Elegant</option>
                                    <option value="modern">Modern</option>
                                    <option value="classic">Classic</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>Pesan Motivasi</label>
                                <textarea id="motivationMessages" rows="5">
Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.
Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang materi ujian.
Hasil yang baik! Teruslah belajar untuk meningkatkan pemahaman Anda.
Anda telah menyelesaikan ujian ini. Tinjau kembali materi untuk meningkatkan hasil di masa depan.
Setiap perjalanan dimulai dengan langkah pertama. Gunakan hasil ini sebagai motivasi untuk belajar lebih giat lagi.
                                </textarea>
                            </div>
                            
                            <button class="btn btn-primary" id="saveCertificateSettings">
                                <i class="fas fa-save"></i> Simpan Pengaturan
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Section -->
                <div class="admin-section" id="settings">
                    <h3><i class="fas fa-cog"></i> Pengaturan Sistem</h3>
                    
                    <div class="settings-grid">
                        <div class="settings-card">
                            <div class="settings-header">
                                <i class="fas fa-bell"></i>
                                <h4>Notifikasi Pembuka</h4>
                            </div>
                            <div class="settings-body">
                                <div class="form-group">
                                    <label>Teks Sambutan</label>
                                    <textarea id="welcomeMessage" rows="3">Selamat Datang di Ujian Online PERGUNU SITUBONDO</textarea>
                                </div>
                                <button class="btn btn-primary" id="saveWelcomeMessage">
                                    <i class="fas fa-save"></i> Simpan
                                </button>
                            </div>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-header">
                                <i class="fas fa-info-circle"></i>
                                <h4>Informasi Berkala</h4>
                            </div>
                            <div class="settings-body">
                                <div class="form-group">
                                    <label>Teks Informasi</label>
                                    <textarea id="infoMessage" rows="3">Ujian online ini diselenggarakan oleh PERGUNU SITUBONDO sebagai bentuk pengembangan pendidikan berbasis teknologi.</textarea>
                                </div>
                                <button class="btn btn-primary" id="saveInfoMessage">
                                    <i class="fas fa-save"></i> Simpan
                                </button>
                            </div>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-header">
                                <i class="fas fa-volume-up"></i>
                                <h4>Pengaturan Audio</h4>
                            </div>
                            <div class="settings-body">
                                <div class="form-group">
                                    <label>Audio Pembuka</label>
                                    <input type="file" id="openingAudio" accept="audio/*">
                                </div>
                                <div class="form-group">
                                    <label>Audio Sertifikat</label>
                                    <input type="file" id="certificateAudio" accept="audio/*">
                                </div>
                                <button class="btn btn-primary" id="saveAudioSettings">
                                    <i class="fas fa-save"></i> Simpan
                                </button>
                            </div>
                        </div>
                        
                        <div class="settings-card">
                            <div class="settings-header">
                                <i class="fas fa-palette"></i>
                                <h4>Tema & Tampilan</h4>
                            </div>
                            <div class="settings-body">
                                <div class="form-group">
                                    <label>Warna Utama</label>
                                    <input type="color" id="primaryColor" value="#4a6cf7">
                                </div>
                                <div class="form-group">
                                    <label>Warna Sekunder</label>
                                    <input type="color" id="secondaryColor" value="#6c757d">
                                </div>
                                <button class="btn btn-primary" id="saveThemeSettings">
                                    <i class="fas fa-save"></i> Simpan Tema
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Participant Detail Modal -->
    <div class="modal" id="participantModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h3>Detail Peserta</h3>
            </div>
            <div class="modal-body" id="participantDetailContent">
                <div class="participant-info">
                    <div class="info-row">
                        <span class="info-label">Nama Lengkap:</span>
                        <span class="info-value">Uswatun Hasanah</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">uswatun@email.com</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Status:</span>
                        <span class="info-value">Pelajar</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Sekolah/Instansi:</span>
                        <span class="info-value">SMA Negeri 1 Situbondo</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Jenis Ujian:</span>
                        <span class="info-value">IPS</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Tanggal Ujian:</span>
                        <span class="info-value">16 Mei 2024</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Nilai:</span>
                        <span class="info-value">85</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="printCertificateBtn">
                    <i class="fas fa-print"></i> Cetak Sertifikat
                </button>
            </div>
        </div>
    </div>

    <script>
        // Switch between admin sections
        document.querySelectorAll('.admin-menu li').forEach(item => {
            item.addEventListener('click', function() {
                // Remove active class from all items
                document.querySelectorAll('.admin-menu li').forEach(li => {
                    li.classList.remove('active');
                });
                
                // Add active class to clicked item
                this.classList.add('active');
                
                // Hide all sections
                document.querySelectorAll('.admin-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Show selected section
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
                
                // Update section title and breadcrumb
                const sectionTitle = this.textContent.trim();
                document.getElementById('adminSectionTitle').textContent = sectionTitle;
                document.getElementById('adminBreadcrumb').innerHTML = `
                    <span>Admin</span> / <span>${sectionTitle}</span>
                `;
            });
        });
        
        // Save code function
        function saveCode(type) {
            let newCode, currentCode;
            
            switch(type) {
                case 'login':
                    newCode = document.getElementById('newLoginCode').value;
                    currentCode = document.getElementById('currentLoginCode');
                    break;
                case 'cpns':
                    newCode = document.getElementById('newCPNSCode').value;
                    currentCode = document.getElementById('currentCPNSCode');
                    break;
                case 'bank':
                    newCode = document.getElementById('newBankCode').value;
                    currentCode = document.getElementById('currentBankCode');
                    break;
                case 'admin':
                    newCode = document.getElementById('newAdminCode').value;
                    currentCode = document.getElementById('currentAdminCode');
                    break;
            }
            
            if (newCode && newCode.length >= 4) {
                currentCode.value = newCode;
                alert(`Kode ${type} berhasil diperbarui!`);
                
                // Clear the new code input
                switch(type) {
                    case 'login':
                        document.getElementById('newLoginCode').value = '';
                        break;
                    case 'cpns':
                        document.getElementById('newCPNSCode').value = '';
                        break;
                    case 'bank':
                        document.getElementById('newBankCode').value = '';
                        break;
                    case 'admin':
                        document.getElementById('newAdminCode').value = '';
                        break;
                }
            } else {
                alert('Kode harus terdiri dari minimal 4 karakter!');
            }
        }
        
        // Toggle exam status
        const examStatusToggle = document.getElementById('examStatusToggle');
        const examStatusText = document.getElementById('examStatusText');
        
        examStatusToggle.addEventListener('change', function() {
            if (this.checked) {
                examStatusText.textContent = 'Ujian Aktif';
            } else {
                examStatusText.textContent = 'Ujian Nonaktif';
            }
        });
        
        // Toggle randomize questions
        const randomizeQuestions = document.getElementById('randomizeQuestions');
        const randomizeStatusText = document.getElementById('randomizeStatusText');
        
        randomizeQuestions.addEventListener('change', function() {
            if (this.checked) {
                randomizeStatusText.textContent = 'Diacak';
            } else {
                randomizeStatusText.textContent = 'Tidak Diacak';
            }
        });
        
        // Modal functionality
        const modal = document.getElementById('participantModal');
        const closeModal = document.querySelector('.close-modal');
        const viewButtons = document.querySelectorAll('.btn-small.btn-primary');
        
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                modal.style.display = 'block';
            });
        });
        
        closeModal.addEventListener('click', function() {
            modal.style.display = 'none';
        });
        
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // Initialize dashboard stats
        function initializeDashboard() {
            document.getElementById('totalParticipants').textContent = '125';
            document.getElementById('totalQuestions').textContent = '350';
            document.getElementById('totalCertificates').textContent = '98';
            document.getElementById('avgScore').textContent = '78.5';
            
            // Load recent activities
            const activityList = document.getElementById('recentActivity');
            activityList.innerHTML = `
                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="activity-content">
                        <p>Peserta baru: Budi Santoso mendaftar untuk ujian CPNS/P3K</p>
                        <small>10 menit yang lalu</small>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="activity-content">
                        <p>Kode ujian CPNS/P3K diperbarui</p>
                        <small>1 jam yang lalu</small>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <div class="activity-content">
                        <p>Sertifikat untuk Uswatun Hasanah dicetak</p>
                        <small>3 jam yang lalu</small>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="activity-content">
                        <p>5 soal baru ditambahkan ke bank soal IPS</p>
                        <small>5 jam yang lalu</small>
                    </div>
                </div>
            `;
        }
        
        // Initialize admin panel
        window.addEventListener('load', function() {
            initializeDashboard();
            
            // Set current date in filter
            const today = new Date();
            const formattedDate = today.toISOString().substr(0, 10);
            document.getElementById('filterDate').value = formattedDate;
        });
    </script>
</body>
</html>
