<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online CPNS/P3K</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #FF6B35;
            --color-secondary: #FFA630;
            --color-tertiary: #EF8A17;
            --color-primary-dark: #D45B00;
            --color-primary-light: #FF9E4F;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
            --color-card-bg: rgba(255, 255, 255, 0.08);
            --color-card-border: rgba(255, 255, 255, 0.15);
            --color-text-light: #FFFFFF;
            --color-text-dark: #333333;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary-dark), var(--color-primary), var(--color-secondary));
            color: var(--color-text-light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            line-height: 1.6;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.6;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 20px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }

        h1, h2, h3, h4, h5, h6 {
            margin-bottom: 1rem;
            font-weight: 600;
            line-height: 1.3;
        }

        h1 { font-size: 2.2rem; }
        h2 { font-size: 1.8rem; }
        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.3rem; }
        h5 { font-size: 1.1rem; }
        h6 { font-size: 1rem; }

        p {
            margin-bottom: 1rem;
        }

        /* Card Styles */
        .card {
            background: var(--color-card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            transition: var(--transition);
            border: 1px solid var(--color-card-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(255, 166, 48, 0.3);
            margin: 8px 5px;
            text-align: center;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 166, 48, 0.4);
            background: linear-gradient(to right, var(--color-tertiary), var(--color-secondary));
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: var(--color-text-light);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(255, 166, 48, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--color-text-light);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(255, 166, 48, 0.3);
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 1.8rem;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: var(--color-text-light);
            transition: var(--transition);
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 2rem;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 2.2rem;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
            font-size: 0.9rem;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 2rem;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 1.5rem;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: var(--color-text-dark);
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary-dark);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: var(--color-text-dark);
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: var(--color-text-dark);
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary-dark);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: var(--box-shadow);
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            color: var(--color-text-dark);
            border-radius: var(--border-radius);
            padding: 30px;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary-dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--color-error);
            transform: rotate(90deg);
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .container {
                padding: 20px 15px;
            }
            
            .card {
                padding: 25px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 85%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 42px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.3rem; }
            
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 25px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 22px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 576px) {
            h1 { font-size: 1.6rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.2rem; }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                width: 100%;
                margin: 5px 0;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 32px;
            }
            
            .radio-group, .checkbox-group {
                flex-direction: column;
                gap: 8px;
            }
            
            .radio-label, .checkbox-label {
                padding: 8px 15px;
            }
            
            .exam-controls {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary-dark);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
            color: var(--color-text-dark);
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            background: white;
            font-size: 14px;
            color: var(--color-text-dark);
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 10px;
        }

        /* Bulk action controls */
        .bulk-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .selected-count {
            font-size: 14px;
            color: #666;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: var(--color-text-dark);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        /* GPS Button Styles */
        .gps-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 15px;
            background: linear-gradient(to right, #4CAF50, #2ecc71);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 5px;
            font-size: 14px;
            transition: var(--transition);
        }
        
        .gps-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .gps-btn i {
            margin-right: 5px;
        }
        
        .gps-result {
            margin-top: 5px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            font-size: 14px;
        }

        /* Search Box Styles */
        .search-box {
            position: relative;
            margin-bottom: 15px;
        }

        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 35px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
            color: var(--color-text-dark);
        }

        .search-box i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        /* Certificate Validation Styles */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid {
            background-color: #d4edda;
            color: #155724;
        }

        .invalid {
            background-color: #f8d7da;
            color: #721c24;
        }

        /* Certificate Info Styles */
        .certificate-info {
            margin-top: 15px;
            padding: 10px;
            background: #e2e3e5;
            border-radius: 5px;
            font-size: 13px;
        }

        /* Terms content scrollable */
        .terms-content {
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        /* Results summary grid */
        .results-summary {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .results-summary p {
            margin-bottom: 0.5rem;
        }

        /* Exam controls grid */
        .exam-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        /* Result actions grid */
        .result-actions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        /* Small text styles */
        .text-muted {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/logo.png" alt="PERGUNUSMART Logo" class="logo">
                <h1>Ujian Online CPNS/P3K</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online CPNS/P3K. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="agree-terms" class="checkbox-option">
                <label for="agree-terms" class="checkbox-label">Saya menyetujui</label>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" oninput="validateNameInput(this)">
            </div>
            
            <div class="form-group">
                <label for="address" class="form-label">Alamat</label>
                <input type="text" id="address" class="form-control" placeholder="Masukkan alamat lengkap">
                <button id="get-location-btn" class="gps-btn">
                    <i class="fas fa-map-marker-alt"></i> Gunakan GPS
                </button>
                <div id="gps-result" class="gps-result" style="display: none;"></div>
            </div>
            
            <div class="form-group">
                <label for="phone" class="form-label">Nomor WhatsApp Aktif</label>
                <input type="tel" id="phone" class="form-control" placeholder="Masukkan nomor WhatsApp" pattern="[0-9]{10,13}" oninput="validatePhoneInput(this)">
                <small class="text-muted">Contoh: 6281234567890 (10-13 digit)</small>
            </div>
            
            <div class="form-group">
                <label for="email" class="form-label">Email Alamat</label>
                <input type="email" id="email" class="form-control" placeholder="Masukkan alamat email" pattern="[a-z0-9._%+-]+@(gmail|yahoo|hotmail)\.com$">
                <small class="text-muted">Hanya menerima @gmail.com, @yahoo.com, atau @hotmail.com</small>
            </div>
            
            <div class="form-group">
                <label for="cpns-license" class="form-label">Kode Lisensi Ujian CPNS/P3K</label>
                <input type="password" id="cpns-license" class="form-control" placeholder="Masukkan kode lisensi">
                <small class="text-muted">Kode lisensi diberikan oleh admin</small>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Mulai Ujian Sekarang</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Alamat: <span id="result-address"></span></p>
                <p>WhatsApp: <span id="result-phone"></span></p>
                <p>Email: <span id="result-email"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Modals -->
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: var(--color-text-dark);">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: var(--color-text-dark);">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Lisensi CPNS Baru</label>
                            <input type="password" id="new-cpns-code" class="form-control" placeholder="Masukkan kode lisensi CPNS baru" style="color: var(--color-text-dark);">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: var(--color-text-dark);">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5">
                            </div>
                            <div class="admin-control-group">
                                <label class="admin-control-label">Jumlah Soal</label>
                                <input type="number" id="question-count" class="admin-control-input" value="30" min="1">
                            </div>
                        </div>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Acak Soal</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="randomize-questions" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="randomize-status">Aktif</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: var(--color-text-dark);">Selamat datang di sistem ujian online CPNS/P3K. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: var(--color-text-dark);">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: var(--color-text-dark);">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Motivasi Sertifikat</label>
                            <textarea id="motivation-message-input" class="form-control" rows="3" style="color: var(--color-text-dark);"></textarea>
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="participant-search" class="form-control" placeholder="Cari peserta..." style="color: var(--color-text-dark);">
                        </div>
                        <div class="bulk-actions">
                            <input type="checkbox" id="select-all-participants" class="select-all-checkbox">
                            <span class="selected-count" id="selected-count">0 dipilih</span>
                            <button id="edit-selected-btn" class="btn btn-info" disabled><i class="fas fa-edit"></i> Edit</button>
                            <button id="delete-selected-btn" class="btn btn-danger" disabled><i class="fas fa-trash"></i> Hapus</button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="select-all-header" class="select-checkbox"></th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>WhatsApp</th>
                                        <th>Email</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: var(--color-text-dark);">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;"></div>
                            <div id="certificate-info" class="certificate-info" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <input type="hidden" id="edit-participant-index">
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-address" class="form-label">Alamat</label>
                <input type="text" id="edit-address" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-phone" class="form-label">Nomor WhatsApp</label>
                <input type="tel" id="edit-phone" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-email" class="form-label">Email</label>
                <input type="email" id="edit-email" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai (%)</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: var(--color-text-dark);" readonly>
            </div>
            
            <div class="form-group" style="display: flex; justify-content: space-between;">
                <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
                <button id="cancel-edit-participant-btn" class="btn btn-danger">Batal</button>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="audio-opening" src="https://voca.ro/1a8eWbggFzfB" preload="auto"></audio>
    <audio id="audio-button-click" src="https://voca.ro/16oVT0NTCKF0" preload="auto"></audio>
    <audio id="audio-correct" src="https://voca.ro/1emZhDVU89XS" preload="auto"></audio>
    <audio id="audio-wrong" src="https://voca.ro/17HW0ShxqM9B" preload="auto"></audio>
    <audio id="audio-applause" src="https://voca.ro/13NRsLENyQRIs" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let originalQuestions = []; // Store original questions before randomization
        
        // Audio elements
        const audioOpening = document.getElementById('audio-opening');
        const audioButtonClick = document.getElementById('audio-button-click');
        const audioCorrect = document.getElementById('audio-correct');
        const audioWrong = document.getElementById('audio-wrong');
        const audioApplause = document.getElementById('audio-applause');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_CPNS_LICENSE_CODE = 'OPENLOCK-1945';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data with enhanced storage mechanism
        let participantsData = [];
        
        // Store admin settings with enhanced storage mechanism
        let adminSettings = {
            loginCode: DEFAULT_LOGIN_CODE,
            cpnsLicenseCode: DEFAULT_CPNS_LICENSE_CODE,
            adminPanelCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            questionCount: 100,
            randomizeQuestions: true,
            greetingMessage: "Selamat datang di sistem ujian online CPNS/P3K. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            motivationMessage: ""
        };
        
        // Initialize question bank with sample questions
        function initializeQuestionBank() {
            const initialQuestions = [
                        {
            question: "Berdasarkan Undang-Undang Nomor 23 Tahun 2014 tentang Pemerintahan Daerah, yang dimaksud dengan Otonomi Daerah adalah hak, wewenang, dan kewajiban daerah otonom untuk mengatur dan mengurus sendiri urusan pemerintahan dan kepentingan masyarakat setempat sesuai dengan...",
            options: [
                "A. Peraturan perundang-undangan",
                "B. Kebijakan kepala daerah",
                "C. Aspirasi masyarakat",
                "D. Peraturan daerah setempat",
                "E. Peraturan menteri dalam negeri"
            ],
            correctAnswer: 0,
            explanation: "Menurut Pasal 1 angka 6 UU 23/2014, Otonomi Daerah adalah hak, wewenang, dan kewajiban daerah otonom untuk mengatur dan mengurus sendiri urusan pemerintahan dan kepentingan masyarakat setempat dalam sistem Negara Kesatuan Republik Indonesia sesuai dengan peraturan perundang-undangan."
        },
        {
            question: "Dalam penyelenggaraan pemerintahan daerah, prinsip otonomi daerah menggunakan prinsip otonomi seluas-luasnya, nyata, dan bertanggung jawab. Yang dimaksud dengan prinsip otonomi nyata adalah...",
            options: [
                "A. Otonomi yang diberikan sesuai dengan kemampuan daerah",
                "B. Otonomi yang diberikan berdasarkan potensi dan kekhasan daerah",
                "C. Otonomi yang diberikan berdasarkan kebutuhan daerah",
                "D. Otonomi yang diberikan berdasarkan permintaan daerah",
                "E. Otonomi yang diberikan berdasarkan keputusan DPRD"
            ],
            correctAnswer: 1,
            explanation: "Prinsip otonomi nyata berarti otonomi yang diberikan berdasarkan potensi dan kekhasan daerah, sehingga daerah dapat mengembangkan potensinya secara optimal."
        },
        {
            question: "Menurut Undang-Undang Nomor 23 Tahun 2014, urusan pemerintahan absolut yang menjadi kewenangan Pemerintah Pusat meliputi hal-hal berikut, KECUALI...",
            options: [
                "A. Politik luar negeri",
                "B. Pertahanan",
                "C. Keamanan",
                "D. Pendidikan",
                "E. Yustisi"
            ],
            correctAnswer: 3,
            explanation: "Pendidikan merupakan urusan konkuren (dibagi antara pemerintah pusat dan daerah), bukan urusan absolut. Urusan absolut meliputi politik luar negeri, pertahanan, keamanan, yustisi, moneter dan fiskal nasional, serta agama."
        },
        {
            question: "Dalam sistem pemerintahan daerah, yang dimaksud dengan Dekonsentrasi adalah...",
            options: [
                "A. Pelimpahan wewenang dari pemerintah pusat kepada gubernur sebagai wakil pemerintah",
                "B. Penyerahan wewenang dari pemerintah pusat kepada daerah otonom",
                "C. Pemberian tugas dari pemerintah pusat kepada pemerintah daerah",
                "D. Pelimpahan urusan pemerintahan dari pemerintah pusat kepada instansi vertikal",
                "E. Pembagian urusan pemerintahan antara pemerintah pusat dan daerah"
            ],
            correctAnswer: 0,
            explanation: "Dekonsentrasi adalah pelimpahan wewenang dari pemerintah pusat kepada gubernur sebagai wakil pemerintah dan/atau kepada instansi vertikal di wilayah tertentu."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 18 Tahun 2016 tentang Perangkat Daerah, perangkat daerah yang bertugas membantu kepala daerah dalam penyusunan kebijakan dan koordinasi di bidang pemerintahan, pembangunan, dan kemasyarakatan adalah...",
            options: [
                "A. Sekretariat Daerah",
                "B. Dinas Daerah",
                "C. Badan Perencanaan Pembangunan Daerah",
                "D. Inspektorat",
                "E. Badan Kepegawaian Daerah"
            ],
            correctAnswer: 0,
            explanation: "Sekretariat Daerah merupakan perangkat daerah yang bertugas membantu kepala daerah dalam penyusunan kebijakan dan koordinasi di bidang pemerintahan, pembangunan, dan kemasyarakatan."
        },
        {
            question: "Dalam penyelenggaraan pemerintahan daerah, musyawarah perencanaan pembangunan (musrenbang) dilaksanakan untuk menyusun...",
            options: [
                "A. Rencana Pembangunan Jangka Panjang Daerah (RPJPD)",
                "B. Rencana Pembangunan Jangka Menengah Daerah (RPJMD)",
                "C. Rencana Kerja Pemerintah Daerah (RKPD)",
                "D. Rencana Strategis Satuan Kerja Perangkat Daerah (Renstra SKPD)",
                "E. Rencana Kerja Satuan Kerja Perangkat Daerah (Renja SKPD)"
            ],
            correctAnswer: 2,
            explanation: "Musrenbang dilaksanakan untuk menyusun RKPD (Rencana Kerja Pemerintah Daerah) sebagai penjabaran dari RPJMD."
        },
        {
            question: "Menurut Undang-Undang Nomor 23 Tahun 2014, kepala daerah dapat diberhentikan oleh Presiden melalui usulan Menteri Dalam Negeri dengan alasan berikut, KECUALI...",
            options: [
                "A. Berakhir masa jabatannya",
                "B. Tidak dapat melaksanakan tugas secara berkelanjutan",
                "C. Melanggar sumpah/janji jabatan",
                "D. Tidak melaksanakan kewajiban kepala daerah",
                "E. Melanggar larangan bagi kepala daerah"
            ],
            correctAnswer: 0,
            explanation: "Berakhirnya masa jabatan merupakan hal yang normal dan bukan alasan pemberhentian. Pemberhentian dilakukan karena alasan tertentu seperti pelanggaran atau ketidakmampuan melaksanakan tugas."
        },
        {
            question: "Dalam sistem pemerintahan daerah, yang termasuk tugas dan wewenang DPRD adalah...",
            options: [
                "A. Menetapkan Peraturan Daerah",
                "B. Mengangkat sekretaris daerah",
                "C. Menetapkan kebijakan pemerintah daerah",
                "D. Mengawasi pelaksanaan peraturan perundang-undangan",
                "E. Menetapkan APBD"
            ],
            correctAnswer: 0,
            explanation: "DPRD memiliki fungsi legislasi, anggaran, dan pengawasan. Salah satu tugas legislasi adalah menetapkan Peraturan Daerah bersama kepala daerah."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 12 Tahun 2017 tentang Pembinaan dan Pengawasan Penyelenggaraan Pemerintahan Daerah, yang dimaksud dengan pembinaan penyelenggaraan pemerintahan daerah adalah...",
            options: [
                "A. Proses pengawasan terhadap kinerja pemerintah daerah",
                "B. Upaya untuk meningkatkan kapasitas penyelenggaraan pemerintahan daerah",
                "C. Tindakan korektif terhadap penyimpangan dalam pemerintahan daerah",
                "D. Evaluasi terhadap laporan penyelenggaraan pemerintahan daerah",
                "E. Pemberian sanksi kepada pemerintah daerah yang melanggar"
            ],
            correctAnswer: 1,
            explanation: "Pembinaan adalah upaya untuk meningkatkan kapasitas penyelenggaraan pemerintahan daerah melalui pemberian pedoman, bimbingan, pelatihan, supervisi, dan evaluasi."
        },
        {
            question: "Dalam penyelenggaraan pemerintahan daerah, yang termasuk asas umum penyelenggaraan pemerintahan yang baik adalah...",
            options: [
                "A. Sentralisasi",
                "B. Desentralisasi",
                "C. Dekonsentrasi",
                "D. Proporsionalitas",
                "E. Tugas pembantuan"
            ],
            correctAnswer: 3,
            explanation: "Asas umum penyelenggaraan pemerintahan yang baik meliputi: kepastian hukum, tertib penyelenggaraan negara, kepentingan umum, keterbukaan, proporsionalitas, profesionalitas, akuntabilitas, efisiensi, dan efektivitas."
        },
        {
            question: "Menurut Undang-Undang Nomor 23 Tahun 2014, yang termasuk urusan pemerintahan wajib yang berkaitan dengan pelayanan dasar adalah...",
            options: [
                "A. Pertanian",
                "B. Perikanan",
                "C. Kesehatan",
                "D. Perdagangan",
                "E. Pariwisata"
            ],
            correctAnswer: 2,
            explanation: "Urusan wajib yang berkaitan dengan pelayanan dasar meliputi: pendidikan, kesehatan, pekerjaan umum dan penataan ruang, perumahan rakyat dan kawasan permukiman, ketenteraman, ketertiban umum, dan perlindungan masyarakat, serta sosial."
        },
        {
            question: "Dalam sistem pemerintahan daerah, yang dimaksud dengan tugas pembantuan adalah...",
            options: [
                "A. Penyerahan wewenang dari pemerintah pusat kepada daerah otonom",
                "B. Pelimpahan wewenang dari pemerintah pusat kepada gubernur sebagai wakil pemerintah",
                "C. Penugasan dari pemerintah kepada daerah untuk melaksanakan tugas tertentu",
                "D. Pembagian urusan pemerintahan antara pemerintah pusat dan daerah",
                "E. Pelimpahan urusan pemerintahan dari pemerintah pusat kepada instansi vertikal"
            ],
            correctAnswer: 2,
            explanation: "Tugas pembantuan adalah penugasan dari pemerintah kepada daerah dan/atau desa untuk melaksanakan tugas tertentu yang disertai pembiayaan, sarana, dan prasarana serta sumber daya manusia dengan kewajiban melaporkan pelaksanaannya dan mempertanggungjawabkannya kepada yang menugaskan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 18 Tahun 2016, perangkat daerah yang bertugas melaksanakan urusan pemerintahan yang menjadi kewenangan daerah adalah...",
            options: [
                "A. Sekretariat Daerah",
                "B. Dinas Daerah",
                "C. Badan",
                "D. Inspektorat",
                "E. Kantor"
            ],
            correctAnswer: 1,
            explanation: "Dinas Daerah adalah perangkat daerah yang bertugas melaksanakan urusan pemerintahan yang menjadi kewenangan daerah."
        },
        {
            question: "Dalam penyelenggaraan pemerintahan daerah, evaluasi rancangan Peraturan Daerah dilakukan oleh...",
            options: [
                "A. Mahkamah Agung",
                "B. Mahkamah Konstitusi",
                "C. Kementerian Dalam Negeri",
                "D. Badan Pemeriksa Keuangan",
                "E. Komisi Yudisial"
            ],
            correctAnswer: 2,
            explanation: "Evaluasi rancangan Peraturan Daerah dilakukan oleh Kementerian Dalam Negeri sebelum ditetapkan menjadi Peraturan Daerah."
        },
        {
            question: "Menurut Undang-Undang Nomor 23 Tahun 2014, kepala daerah dan wakil kepala daerah berhenti karena...",
            options: [
                "A. Mengundurkan diri",
                "B. Tidak hadir dalam rapat DPRD",
                "C. Tidak melaksanakan kunjungan kerja",
                "D. Tidak menandatangani Perda dalam waktu tertentu",
                "E. Tidak melaksanakan musrenbang"
            ],
            correctAnswer: 0,
            explanation: "Kepala daerah dan wakil kepala daerah berhenti karena: meninggal dunia, mengundurkan diri, atau diberhentikan."
        },
        {
            question: "Dalam sistem pemerintahan daerah, yang termasuk kewajiban kepala daerah adalah...",
            options: [
                "A. Memberikan laporan penyelenggaraan pemerintahan daerah kepada DPRD",
                "B. Menetapkan Peraturan Daerah",
                "C. Mengusulkan pengangkatan sekretaris daerah",
                "D. Menyusun rancangan APBD",
                "E. Mengawasi pelaksanaan Peraturan Daerah"
            ],
            correctAnswer: 0,
            explanation: "Salah satu kewajiban kepala daerah adalah memberikan laporan penyelenggaraan pemerintahan daerah kepada pemerintah dan DPRD, serta menginformasikan laporan penyelenggaraan pemerintahan daerah kepada masyarakat."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 12 Tahun 2017, pembinaan dan pengawasan penyelenggaraan pemerintahan daerah dilakukan oleh...",
            options: [
                "A. Presiden",
                "B. Menteri Dalam Negeri",
                "C. Gubernur",
                "D. DPRD",
                "E. Inspektorat Daerah"
            ],
            correctAnswer: 1,
            explanation: "Pembinaan dan pengawasan penyelenggaraan pemerintahan daerah dilakukan oleh Menteri Dalam Negeri untuk provinsi dan kabupaten/kota."
        },
        {
            question: "Dalam penyelenggaraan pemerintahan daerah, yang termasuk prinsip penyusunan APBD adalah...",
            options: [
                "A. Sentralisasi",
                "B. Dekonsentrasi",
                "C. Tugas pembantuan",
                "D. Keterbukaan",
                "E. Desentralisasi"
            ],
            correctAnswer: 3,
            explanation: "Prinsip penyusunan APBD meliputi: keterbukaan, partisipasi, akuntabilitas, efisiensi, efektivitas, dan berkeadilan."
        },
        {
            question: "Menurut Undang-Undang Nomor 23 Tahun 2014, yang termasuk hak DPRD adalah...",
            options: [
                "A. Menetapkan Peraturan Daerah",
                "B. Mengusulkan pengangkatan sekretaris daerah",
                "C. Menyusun rancangan APBD",
                "D. Meminta laporan kepada kepala daerah",
                "E. Mengawasi pelaksanaan Peraturan Daerah"
            ],
            correctAnswer: 3,
            explanation: "Hak DPRD meliputi: meminta keterangan kepada kepala daerah, mengadakan penyelidikan, menyatakan pendapat, dan hak lainnya yang diatur dalam peraturan perundang-undangan."
        },

        // Kepegawaian (20 soal)
        {
            question: "Berdasarkan Undang-Undang Nomor 5 Tahun 2014 tentang Aparatur Sipil Negara, yang dimaksud dengan Aparatur Sipil Negara adalah...",
            options: [
                "A. Pegawai negeri sipil dan pegawai pemerintah dengan perjanjian kerja",
                "B. Pegawai negeri sipil, pegawai pemerintah dengan perjanjian kerja, dan pegawai honorer",
                "C. Pegawai negeri sipil, pegawai pemerintah dengan perjanjian kerja, dan pejabat negara",
                "D. Pegawai negeri sipil, pegawai pemerintah dengan perjanjian kerja, dan pegawai swasta yang bekerja untuk pemerintah",
                "E. Pegawai negeri sipil, pegawai pemerintah dengan perjanjian kerja, dan pegawai BUMN/BUMD"
            ],
            correctAnswer: 0,
            explanation: "ASN adalah profesi bagi pegawai negeri sipil dan pegawai pemerintah dengan perjanjian kerja yang bekerja pada instansi pemerintah."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 11 Tahun 2017 tentang Manajemen Pegawai Negeri Sipil, yang termasuk prinsip manajemen ASN adalah...",
            options: [
                "A. Sentralisasi",
                "B. Kekeluargaan",
                "C. Keterbukaan",
                "D. Senioritas",
                "E. Kesukuan"
            ],
            correctAnswer: 2,
            explanation: "Prinsip manajemen ASN meliputi: kepastian hukum, profesionalitas, proporsionalitas, keterbukaan, akuntabilitas, efisiensi, efektivitas, dan nondiskriminatif."
        },
        {
            question: "Dalam sistem kepegawaian, yang termasuk hak Pegawai Negeri Sipil adalah...",
            options: [
                "A. Memperoleh gaji dan tunjangan",
                "B. Melakukan mogok kerja",
                "C. Bergabung dengan partai politik",
                "D. Mendirikan serikat pekerja independen",
                "E. Menolak tugas yang diberikan atasan"
            ],
            correctAnswer: 0,
            explanation: "Hak PNS meliputi: gaji, tunjangan, cuti, pensiun, jaminan kesehatan, dan hak lainnya sesuai ketentuan peraturan perundang-undangan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 17 Tahun 2020 tentang Perubahan atas Peraturan Pemerintah Nomor 11 Tahun 2017, yang termasuk larangan bagi Pegawai Negeri Sipil adalah...",
            options: [
                "A. Melaksanakan tugas kedinasan",
                "B. Mengikuti pendidikan dan pelatihan",
                "C. Menjadi anggota partai politik",
                "D. Menerima penghargaan",
                "E. Mengajukan kenaikan pangkat"
            ],
            correctAnswer: 2,
            explanation: "PNS dilarang menjadi anggota partai politik, kecuali bagi PNS yang menduduki jabatan tertentu di KPU, Bawaslu, dan KPPU."
        },
        {
            question: "Dalam sistem pengembangan kompetensi ASN, yang termasuk jenis pendidikan dan pelatihan adalah...",
            options: [
                "A. Diklat prajabatan dan diklat kepemimpinan",
                "B. Diklat teknis dan diklat fungsional",
                "C. Diklat manajerial dan diklat sosial kultural",
                "D. Diklat dasar dan diklat lanjutan",
                "E. Diklat struktural dan diklat non struktural"
            ],
            correctAnswer: 0,
            explanation: "Jenis diklat ASN meliputi: diklat prajabatan, diklat kepemimpinan, diklat teknis, dan diklat fungsional."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 11 Tahun 2017, sistem merit dalam manajemen ASN dilaksanakan melalui...",
            options: [
                "A. Rekrutmen, pengembangan karier, dan pemberhentian",
                "B. Pengangkatan, penempatan, dan promosi",
                "C. Penilaian kinerja, penggajian, dan pensiun",
                "D. Pembinaan, pengawasan, dan pemberian sanksi",
                "E. Pelatihan, sertifikasi, dan mutasi"
            ],
            correctAnswer: 1,
            explanation: "Sistem merit dilaksanakan melalui pengangkatan, penempatan, dan promosi berdasarkan kualifikasi, kompetensi, dan kinerja secara adil dan wajar tanpa diskriminasi."
        },
        {
            question: "Dalam sistem penilaian kinerja PNS, yang termasuk aspek yang dinilai adalah...",
            options: [
                "A. Sikap dan perilaku",
                "B. Kehadiran dan ketepatan waktu",
                "C. Jumlah tugas yang diselesaikan",
                "D. Lama bekerja sebagai PNS",
                "E. Jumlah pelatihan yang diikuti"
            ],
            correctAnswer: 0,
            explanation: "Aspek penilaian kinerja PNS meliputi: sikap dan perilaku, prestasi kerja, dan ketaatan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 17 Tahun 2020, mutasi PNS dapat dilakukan karena...",
            options: [
                "A. Permintaan sendiri",
                "B. Kebutuhan instansi",
                "C. Pertimbangan keluarga",
                "D. Keinginan pimpinan",
                "E. Usulan rekan kerja"
            ],
            correctAnswer: 1,
            explanation: "Mutasi PNS dilakukan berdasarkan kebutuhan instansi, pengembangan karier, permintaan sendiri, atau karena alasan lain yang sah."
        },
        {
            question: "Dalam sistem penggajian PNS, yang termasuk komponen gaji adalah...",
            options: [
                "A. Gaji pokok dan tunjangan keluarga",
                "B. Tunjangan jabatan dan tunjangan kinerja",
                "C. Tunjangan daerah terpencil dan tunjangan khusus",
                "D. Tunjangan hari raya dan tunjangan transport",
                "E. Tunjangan pangan dan tunjangan perumahan"
            ],
            correctAnswer: 0,
            explanation: "Komponen gaji PNS meliputi: gaji pokok, tunjangan keluarga, tunjangan jabatan, tunjangan kinerja, dan tunjangan lainnya sesuai ketentuan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 11 Tahun 2017, pemberhentian PNS dengan hormat dapat dilakukan karena...",
            options: [
                "A. Meninggal dunia",
                "B. Melakukan pelanggaran disiplin",
                "C. Tidak cakap jasmani atau rohani",
                "D. Dipidana karena tindak pidana kejahatan",
                "E. Tidak memenuhi syarat sebagai PNS"
            ],
            correctAnswer: 0,
            explanation: "Pemberhentian dengan hormat dilakukan karena: meninggal dunia, permintaan sendiri, mencapai batas usia pensiun, atau tidak cakap jasmani/rohani secara terus-menerus."
        },
        {
            question: "Dalam sistem pembinaan karier PNS, promosi jabatan dilakukan berdasarkan...",
            options: [
                "A. Senioritas",
                "B. Kebutuhan instansi",
                "C. Penilaian prestasi kerja",
                "D. Pertimbangan pimpinan",
                "E. Usulan rekan kerja"
            ],
            correctAnswer: 2,
            explanation: "Promosi jabatan dilakukan berdasarkan penilaian prestasi kerja, kompetensi, dan persyaratan jabatan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 17 Tahun 2020, cuti PNS meliputi jenis berikut, KECUALI...",
            options: [
                "A. Cuti tahunan",
                "B. Cuti besar",
                "C. Cuti sakit",
                "D. Cuti melahirkan",
                "E. Cuti karena alasan penting"
            ],
            correctAnswer: 1,
            explanation: "Jenis cuti PNS meliputi: cuti tahunan, cuti sakit, cuti melahirkan, cuti karena alasan penting, cuti di luar tanggungan negara, dan cuti bersalin (khusus perempuan). Tidak ada cuti besar dalam peraturan tersebut."
        },
        {
            question: "Dalam sistem disiplin PNS, yang termasuk hukuman disiplin tingkat sedang adalah...",
            options: [
                "A. Teguran lisan",
                "B. Teguran tertulis",
                "C. Penundaan kenaikan gaji berkala",
                "D. Penurunan pangkat",
                "E. Pemberhentian dengan tidak hormat"
            ],
            correctAnswer: 2,
            explanation: "Hukuman disiplin tingkat sedang meliputi: penundaan kenaikan gaji berkala selama 1 tahun dan penundaan kenaikan pangkat selama 1 tahun."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 11 Tahun 2017, masa percobaan bagi CPNS berlangsung selama...",
            options: [
                "A. 6 bulan",
                "B. 1 tahun",
                "C. 18 bulan",
                "D. 2 tahun",
                "E. 3 tahun"
            ],
            correctAnswer: 1,
            explanation: "Masa percobaan bagi CPNS berlangsung selama 1 (satu) tahun dan dapat diperpanjang paling lama 1 (satu) tahun."
        },
        {
            question: "Dalam sistem pensiun PNS, yang termasuk syarat untuk memperoleh pensiun adalah...",
            options: [
                "A. Telah bekerja minimal 10 tahun",
                "B. Telah mencapai usia 56 tahun",
                "C. Telah memenuhi masa kerja dan usia pensiun",
                "D. Telah mengikuti pelatihan pensiun",
                "E. Telah mendapatkan persetujuan pimpinan"
            ],
            correctAnswer: 2,
            explanation: "PNS berhak memperoleh pensiun apabila telah memenuhi masa kerja dan usia pensiun sesuai ketentuan peraturan perundang-undangan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 17 Tahun 2020, yang termasuk kewajiban PNS adalah...",
            options: [
                "A. Memperoleh cuti tahunan",
                "B. Mengajukan kenaikan pangkat",
                "C. Setia dan taat kepada Pancasila, UUD 1945, NKRI, dan pemerintah",
                "D. Mendapatkan tunjangan kinerja",
                "E. Mengikuti pendidikan dan pelatihan"
            ],
            correctAnswer: 2,
            explanation: "Kewajiban PNS meliputi: setia dan taat kepada Pancasila, UUD 1945, NKRI, dan pemerintah; menjaga persatuan dan kesatuan bangsa; dan melaksanakan tugas dengan penuh tanggung jawab."
        },
        {
            question: "Dalam sistem pengawasan ASN, pengawasan melekat dilakukan oleh...",
            options: [
                "A. Inspektorat Jenderal",
                "B. Badan Pengawasan Keuangan dan Pembangunan",
                "C. Atasan langsung",
                "D. Komisi Pemberantasan Korupsi",
                "E. Ombudsman Republik Indonesia"
            ],
            correctAnswer: 2,
            explanation: "Pengawasan melekat adalah pengawasan yang dilakukan oleh atasan langsung terhadap bawahannya dalam pelaksanaan tugas sehari-hari."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 11 Tahun 2017, yang termasuk tujuan manajemen ASN adalah...",
            options: [
                "A. Meningkatkan kesejahteraan PNS",
                "B. Menjamin kepastian hukum bagi PNS",
                "C. Mewujudkan ASN yang profesional dan berintegritas",
                "D. Mempercepat promosi jabatan",
                "E. Mempermudah proses rekrutmen"
            ],
            correctAnswer: 2,
            explanation: "Tujuan manajemen ASN adalah mewujudkan ASN yang profesional, berbudi luhur, bersih dari praktik korupsi, kolusi, dan nepotisme, serta mampu menyelenggarakan pelayanan publik bagi masyarakat dan melaksanakan pembangunan nasional."
        },
        {
            question: "Dalam sistem pengembangan kompetensi ASN, sertifikasi kompetensi bertujuan untuk...",
            options: [
                "A. Memberikan tambahan penghasilan",
                "B. Meningkatkan jenjang karier",
                "C. Membuktikan penguasaan kompetensi tertentu",
                "D. Memenuhi syarat administrasi",
                "E. Mengikuti perkembangan teknologi"
            ],
            correctAnswer: 2,
            explanation: "Sertifikasi kompetensi adalah proses pemberian sertifikat kompetensi yang dilakukan secara sistematis dan obyektif melalui uji kompetensi yang mengacu pada standar kompetensi untuk membuktikan penguasaan kompetensi tertentu."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 17 Tahun 2020, yang termasuk prinsip pengembangan karier ASN adalah...",
            options: [
                "A. Senioritas",
                "B. Kekeluargaan",
                "C. Kesetaraan",
                "D. Kesukuan",
                "E. Kedekatan"
            ],
            correctAnswer: 2,
            explanation: "Prinsip pengembangan karier ASN meliputi: kesetaraan, nondiskriminasi, objektivitas, kompetensi, dan kinerja."
        },

        // Keuangan Daerah (20 soal)
        {
            question: "Berdasarkan Undang-Undang Nomor 1 Tahun 2022 tentang Hubungan Keuangan antara Pemerintah Pusat dan Pemerintahan Daerah, yang dimaksud dengan Dana Perimbangan adalah...",
            options: [
                "A. Dana yang bersumber dari APBN yang dialokasikan kepada daerah untuk mendanai kebutuhan daerah dalam rangka pelaksanaan desentralisasi",
                "B. Dana yang bersumber dari APBD yang dialokasikan untuk membiayai urusan pemerintahan yang menjadi kewenangan daerah",
                "C. Dana yang bersumber dari pinjaman daerah untuk membiayai pembangunan infrastruktur",
                "D. Dana yang berasal dari hasil kerjasama daerah dengan pihak ketiga",
                "E. Dana yang berasal dari sumbangan masyarakat untuk pembangunan daerah"
            ],
            correctAnswer: 0,
            explanation: "Dana Perimbangan adalah dana yang bersumber dari APBN yang dialokasikan kepada daerah untuk mendanai kebutuhan daerah dalam rangka pelaksanaan desentralisasi, terdiri dari Dana Transfer Umum dan Dana Transfer Khusus."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 12 Tahun 2019 tentang Pengelolaan Keuangan Daerah, prinsip pengelolaan keuangan daerah harus memenuhi asas berikut, KECUALI...",
            options: [
                "A. Efisiensi",
                "B. Efektivitas",
                "C. Sentralisasi",
                "D. Transparansi",
                "E. Akuntabilitas"
            ],
            correctAnswer: 2,
            explanation: "Prinsip pengelolaan keuangan daerah meliputi: efisiensi, efektivitas, transparansi, akuntabilitas, kepatuhan, dan keberlanjutan. Sentralisasi bukan prinsip pengelolaan keuangan daerah."
        },
        {
            question: "Dalam sistem penganggaran daerah, APBD disusun dengan pendekatan...",
            options: [
                "A. Line-item budgeting",
                "B. Performance budgeting",
                "C. Zero-based budgeting",
                "D. Planning programming budgeting system",
                "E. Incremental budgeting"
            ],
            correctAnswer: 1,
            explanation: "APBD disusun dengan pendekatan kinerja (performance budgeting) yang mengaitkan pendanaan dengan keluaran/hasil yang diharapkan."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 13 Tahun 2006 tentang Pedoman Pengelolaan Keuangan Daerah, yang termasuk komponen belanja daerah adalah...",
            options: [
                "A. Belanja pegawai, belanja barang, dan belanja modal",
                "B. Belanja rutin dan belanja pembangunan",
                "C. Belanja langsung dan belanja tidak langsung",
                "D. Belanja operasi dan belanja investasi",
                "E. Belanja administrasi dan belanja program"
            ],
            correctAnswer: 0,
            explanation: "Komponen belanja daerah meliputi: belanja pegawai, belanja barang, belanja modal, belanja bunga, subsidi, hibah, bantuan sosial, dan belanja tidak terduga."
        },
        {
            question: "Dalam sistem pendapatan daerah, yang termasuk Pendapatan Asli Daerah (PAD) adalah...",
            options: [
                "A. Dana Alokasi Umum",
                "B. Dana Bagi Hasil",
                "C. Pajak Daerah",
                "D. Dana Otonomi Khusus",
                "E. Dana Desa"
            ],
            correctAnswer: 2,
            explanation: "PAD meliputi: pajak daerah, retribusi daerah, hasil pengelolaan kekayaan daerah yang dipisahkan, dan lain-lain PAD yang sah."
        },
        {
            question: "Menurut Undang-Undang Nomor 1 Tahun 2022, yang termasuk Dana Transfer Khusus adalah...",
            options: [
                "A. Dana Alokasi Umum",
                "B. Dana Alokasi Khusus",
                "C. Dana Bagi Hasil",
                "D. Dana Otonomi Khusus",
                "E. Dana Insentif Daerah"
            ],
            correctAnswer: 1,
            explanation: "Dana Transfer Khusus meliputi: Dana Alokasi Khusus, Dana Otonomi Khusus, dan Dana Keistimewaan DIY."
        },
        {
            question: "Dalam sistem akuntansi keuangan daerah, yang bertanggung jawab atas pelaksanaan akuntansi dan pelaporan keuangan daerah adalah...",
            options: [
                "A. Kepala Daerah",
                "B. Sekretaris Daerah",
                "C. Bendahara Umum Daerah",
                "D. Kepala Dinas Pendapatan Daerah",
                "E. Inspektorat Daerah"
            ],
            correctAnswer: 2,
            explanation: "Bendahara Umum Daerah bertanggung jawab atas pelaksanaan akuntansi dan penyusunan laporan keuangan daerah."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 12 Tahun 2019, laporan keuangan pemerintah daerah harus disusun berdasarkan standar...",
            options: [
                "A. Standar Akuntansi Keuangan",
                "B. Standar Akuntansi Pemerintahan",
                "C. Standar Pelaporan Keuangan Internasional",
                "D. Standar Akuntansi Sektor Publik",
                "E. Standar Akuntansi Keuangan Daerah"
            ],
            correctAnswer: 1,
            explanation: "Laporan keuangan pemerintah daerah disusun berdasarkan Standar Akuntansi Pemerintahan (SAP) yang ditetapkan dengan peraturan pemerintah."
        },
        {
            question: "Dalam sistem pengelolaan barang milik daerah, yang termasuk asas pengelolaan barang milik daerah adalah...",
            options: [
                "A. Sentralisasi",
                "B. Kekeluargaan",
                "C. Kepastian hukum",
                "D. Kesukuan",
                "E. Kedekatan"
            ],
            correctAnswer: 2,
            explanation: "Asas pengelolaan barang milik daerah meliputi: kepastian hukum, efisiensi, efektivitas, transparansi, akuntabilitas, dan kemanfaatan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 27 Tahun 2014 tentang Pengelolaan Barang Milik Daerah, yang termasuk kategori barang milik daerah adalah...",
            options: [
                "A. Tanah, bangunan, dan kendaraan",
                "B. Uang, surat berharga, dan piutang",
                "C. Hak kekayaan intelektual dan hak atas benda tidak berwujud lainnya",
                "D. Barang persediaan dan konstruksi dalam pengerjaan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Barang milik daerah meliputi: tanah; peralatan dan mesin; gedung dan bangunan; jalan, irigasi, dan jaringan; aset tetap lainnya; konstruksi dalam pengerjaan; dan barang tidak berwujud."
        },
        {
            question: "Dalam sistem perencanaan keuangan daerah, dokumen perencanaan keuangan daerah meliputi...",
            options: [
                "A. RKPD dan APBD",
                "B. RPJMD dan RKA-SKPD",
                "C. Renstra SKPD dan DPA-SKPD",
                "D. Rencana Kerja dan Anggaran",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Dokumen perencanaan keuangan daerah meliputi: RPJPD, RPJMD, RKPD, Renstra SKPD, Renja SKPD, RKA-SKPD, dan APBD."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 21 Tahun 2011 tentang Pedoman Pengelolaan Barang Milik Daerah, penghapusan barang milik daerah dilakukan karena...",
            options: [
                "A. Barang sudah tidak digunakan",
                "B. Barang rusak berat",
                "C. Barang tidak ekonomis untuk diperbaiki",
                "D. Barang sudah mencapai masa pakai",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Penghapusan barang milik daerah dilakukan karena: sudah tidak digunakan, rusak berat, tidak ekonomis untuk diperbaiki, sudah mencapai masa pakai, atau karena alasan lain sesuai ketentuan."
        },
        {
            question: "Dalam sistem pengadaan barang/jasa pemerintah, prinsip pengadaan barang/jasa meliputi...",
            options: [
                "A. Efisien, efektif, transparan, dan akuntabel",
                "B. Terbuka, bersaing, adil, dan tidak diskriminatif",
                "C. Kepatuhan, nilai uang, dan manfaat",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Prinsip pengadaan barang/jasa pemerintah meliputi: efisien, efektif, transparan, terbuka, bersaing, adil, akuntabel, tidak diskriminatif, dan sesuai dengan kepatuhan serta nilai uang."
        },
        {
            question: "Menurut Peraturan Presiden Nomor 12 Tahun 2021 tentang Pengadaan Barang/Jasa Pemerintah, nilai batas pengadaan langsung adalah...",
            options: [
                "A. Rp50.000.000,- (lima puluh juta rupiah)",
                "B. Rp100.000.000,- (seratus juta rupiah)",
                "C. Rp200.000.000,- (dua ratus juta rupiah)",
                "D. Rp500.000.000,- (lima ratus juta rupiah)",
                "E. Rp1.000.000.000,- (satu miliar rupiah)"
            ],
            correctAnswer: 2,
            explanation: "Batas pengadaan langsung adalah paling tinggi Rp200.000.000,- (dua ratus juta rupiah) untuk pekerjaan konstruksi, barang, dan jasa lainnya."
        },
        {
            question: "Dalam sistem pengendalian intern pemerintah, unsur pengendalian intern meliputi...",
            options: [
                "A. Lingkungan pengendalian, penilaian risiko, dan aktivitas pengendalian",
                "B. Informasi dan komunikasi, serta pemantauan",
                "C. Struktur organisasi dan kebijakan akuntansi",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 3,
            explanation: "Unsur pengendalian intern pemerintah meliputi: lingkungan pengendalian, penilaian risiko, aktivitas pengendalian, informasi dan komunikasi, serta pemantauan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 60 Tahun 2008 tentang Sistem Pengendalian Intern Pemerintah, yang bertanggung jawab atas pengendalian intern di pemerintah daerah adalah...",
            options: [
                "A. Kepala Daerah",
                "B. Sekretaris Daerah",
                "C. Inspektorat Daerah",
                "D. Bendahara Umum Daerah",
                "E. Semua pejabat sesuai dengan kewenangannya"
            ],
            correctAnswer: 4,
            explanation: "Setiap pejabat pemerintah bertanggung jawab atas pengendalian intern di unit kerjanya masing-masing sesuai dengan kewenangannya."
        },
        {
            question: "Dalam sistem pengawasan keuangan daerah, audit investigasi dilakukan untuk...",
            options: [
                "A. Menilai ketaatan terhadap peraturan perundang-undangan",
                "B. Mengungkap indikasi penyimpangan atau fraud",
                "C. Menilai efektivitas program pemerintah",
                "D. Mengevaluasi sistem pengendalian intern",
                "E. Memeriksa laporan keuangan daerah"
            ],
            correctAnswer: 1,
            explanation: "Audit investigasi dilakukan untuk mengungkap indikasi penyimpangan atau fraud dalam pengelolaan keuangan daerah."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 12 Tahun 2019, laporan keuangan pemerintah daerah terdiri dari...",
            options: [
                "A. Laporan Realisasi Anggaran, Neraca, dan Laporan Arus Kas",
                "B. Laporan Operasional dan Laporan Perubahan Ekuitas",
                "C. Catatan atas Laporan Keuangan",
                "D. Jawaban A dan C benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Laporan keuangan pemerintah daerah terdiri dari: Laporan Realisasi Anggaran, Neraca, Laporan Operasional, Laporan Arus Kas, Laporan Perubahan Ekuitas, dan Catatan atas Laporan Keuangan."
        },
        {
            question: "Dalam sistem pengelolaan piutang daerah, piutang daerah yang sudah tidak mungkin ditagih dapat dihapusbukukan setelah memenuhi persyaratan berikut, KECUALI...",
            options: [
                "A. Sudah dilakukan upaya penagihan secara intensif",
                "B. Debitur sudah tidak diketahui keberadaannya",
                "C. Debitur tidak mampu membayar",
                "D. Piutang telah melewati jangka waktu 5 tahun",
                "E. Ada rekomendasi dari DPRD"
            ],
            correctAnswer: 4,
            explanation: "Penghapusan piutang daerah tidak memerlukan rekomendasi DPRD, tetapi memerlukan keputusan kepala daerah setelah memenuhi persyaratan tertentu."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 32 Tahun 2011 tentang Pedoman Pemberian Hibah dan Bantuan Sosial yang Bersumber dari APBD, hibah kepada masyarakat diberikan dalam bentuk...",
            options: [
                "A. Uang",
                "B. Barang",
                "C. Jasa",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 3,
            explanation: "Hibah kepada masyarakat dapat diberikan dalam bentuk uang atau barang, sesuai dengan ketentuan peraturan perundang-undangan."
        },
        {
            question: "Dalam sistem pengelolaan keuangan daerah, yang termasuk prinsip pengelolaan kas daerah adalah...",
            options: [
                "A. Sentralisasi",
                "B. Efisiensi",
                "C. Kekeluargaan",
                "D. Kesukuan",
                "E. Kedekatan"
            ],
            correctAnswer: 1,
            explanation: "Prinsip pengelolaan kas daerah meliputi: sentralisasi, efisiensi, efektivitas, akuntabilitas, dan transparansi."
        },

        // Aset Daerah (20 soal)
        {
            question: "Berdasarkan Peraturan Pemerintah Nomor 27 Tahun 2014 tentang Pengelolaan Barang Milik Daerah, yang dimaksud dengan Barang Milik Daerah adalah...",
            options: [
                "A. Semua barang yang dibeli atau diperoleh atas beban APBD atau berasal dari perolehan lainnya yang sah",
                "B. Barang yang digunakan untuk penyelenggaraan pemerintahan daerah",
                "C. Barang yang dikuasai oleh pemerintah daerah",
                "D. Barang yang dimiliki oleh pemerintah daerah",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Barang Milik Daerah adalah semua barang yang dibeli atau diperoleh atas beban APBD atau berasal dari perolehan lainnya yang sah, baik yang berada dalam penguasaan pejabat/instansi daerah maupun pihak lain."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016 tentang Pedoman Pengelolaan Barang Milik Daerah, yang termasuk kategori aset tetap daerah adalah...",
            options: [
                "A. Tanah",
                "B. Peralatan dan mesin",
                "C. Gedung dan bangunan",
                "D. Jalan, irigasi, dan jaringan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Aset tetap daerah meliputi: tanah; peralatan dan mesin; gedung dan bangunan; jalan, irigasi, dan jaringan; aset tetap lainnya; dan konstruksi dalam pengerjaan."
        },
        {
            question: "Dalam sistem pencatatan barang milik daerah, kode barang digunakan untuk...",
            options: [
                "A. Mengidentifikasi jenis barang",
                "B. Memudahkan pengadministrasian",
                "C. Mengetahui lokasi barang",
                "D. Menghitung penyusutan barang",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Kode barang digunakan untuk mengidentifikasi jenis barang, memudahkan pengadministrasian, mengetahui lokasi barang, dan menghitung penyusutan barang."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016, yang termasuk tahapan pengelolaan barang milik daerah adalah...",
            options: [
                "A. Perencanaan kebutuhan",
                "B. Pengadaan",
                "C. Penggunaan dan pemanfaatan",
                "D. Pemeliharaan dan penghapusan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Tahapan pengelolaan barang milik daerah meliputi: perencanaan kebutuhan, pengadaan, penggunaan, pemanfaatan, pengamanan dan pemeliharaan, penilaian, penghapusan, pemindahtanganan, dan pembinaan, pengawasan, dan pengendalian."
        },
        {
            question: "Dalam sistem inventarisasi barang milik daerah, yang termasuk data yang harus dicatat adalah...",
            options: [
                "A. Nama barang",
                "B. Nomor kode barang",
                "C. Nilai barang",
                "D. Kondisi barang",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Data yang harus dicatat dalam inventarisasi barang milik daerah meliputi: nama barang, nomor kode barang, nilai barang, kondisi barang, lokasi barang, dan data pendukung lainnya."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 27 Tahun 2014, pemanfaatan barang milik daerah dapat dilakukan melalui...",
            options: [
                "A. Sewa",
                "B. Pinjam pakai",
                "C. Kerjasama pemanfaatan",
                "D. Bangun guna serah",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Pemanfaatan barang milik daerah dapat dilakukan melalui: sewa, pinjam pakai, kerjasama pemanfaatan, atau bangun guna serah sesuai ketentuan peraturan perundang-undangan."
        },
        {
            question: "Dalam sistem penghapusan barang milik daerah, alasan penghapusan meliputi...",
            options: [
                "A. Barang sudah tidak digunakan",
                "B. Barang rusak berat",
                "C. Barang tidak ekonomis untuk diperbaiki",
                "D. Barang sudah mencapai masa pakai",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Penghapusan barang milik daerah dapat dilakukan karena: barang sudah tidak digunakan, rusak berat, tidak ekonomis untuk diperbaiki, sudah mencapai masa pakai, atau karena alasan lain sesuai ketentuan."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016, yang berwenang menetapkan penghapusan barang milik daerah adalah...",
            options: [
                "A. Kepala Daerah",
                "B. Sekretaris Daerah",
                "C. Kepala Dinas Pengelola Keuangan dan Aset Daerah",
                "D. Inspektorat Daerah",
                "E. DPRD"
            ],
            correctAnswer: 0,
            explanation: "Penghapusan barang milik daerah ditetapkan dengan keputusan kepala daerah berdasarkan rekomendasi tim penghapusan barang milik daerah."
        },
        {
            question: "Dalam sistem pemindahtanganan barang milik daerah, yang termasuk bentuk pemindahtanganan adalah...",
            options: [
                "A. Dijual",
                "B. Ditukar",
                "C. Dihibahkan",
                "D. Disertakan sebagai modal daerah",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Pemindahtanganan barang milik daerah dapat dilakukan melalui: dijual, ditukar, dihibahkan, atau disertakan sebagai modal daerah sesuai ketentuan peraturan perundang-undangan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 27 Tahun 2014, penilaian barang milik daerah dilakukan untuk...",
            options: [
                "A. Mengetahui nilai wajar barang",
                "B. Dasar penghapusan atau pemindahtanganan",
                "C. Penyusunan neraca daerah",
                "D. Penentuan penyusutan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Penilaian barang milik daerah dilakukan untuk mengetahui nilai wajar barang, sebagai dasar penghapusan atau pemindahtanganan, penyusunan neraca daerah, dan penentuan penyusutan."
        },
        {
            question: "Dalam sistem pengamanan barang milik daerah, yang termasuk upaya pengamanan adalah...",
            options: [
                "A. Pembuatan berita acara serah terima",
                "B. Pemasangan label identifikasi",
                "C. Penyimpanan di tempat aman",
                "D. Pemantauan berkala",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Upaya pengamanan barang milik daerah meliputi: pembuatan berita acara serah terima, pemasangan label identifikasi, penyimpanan di tempat aman, pemantauan berkala, dan upaya lainnya."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016, yang bertanggung jawab atas pengelolaan barang milik daerah di tingkat satuan kerja adalah...",
            options: [
                "A. Kepala Satuan Kerja",
                "B. Pejabat Pengelola Barang Milik Daerah",
                "C. Bendahara Pengeluaran",
                "D. Pengurus Barang",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 0,
            explanation: "Kepala satuan kerja bertanggung jawab atas pengelolaan barang milik daerah di tingkat satuan kerjanya masing-masing."
        },
        {
            question: "Dalam sistem pembinaan pengelolaan barang milik daerah, pembinaan dilakukan oleh...",
            options: [
                "A. Kementerian Dalam Negeri",
                "B. Kementerian Keuangan",
                "C. BPKP",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 3,
            explanation: "Pembinaan pengelolaan barang milik daerah dilakukan oleh Kementerian Dalam Negeri dan Kementerian Keuangan sesuai dengan kewenangannya."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 27 Tahun 2014, yang termasuk kriteria barang milik daerah yang dapat dihibahkan adalah...",
            options: [
                "A. Tidak digunakan lagi oleh pemerintah daerah",
                "B. Tidak mengganggu kelancaran tugas pemerintah daerah",
                "C. Memiliki nilai manfaat bagi penerima hibah",
                "D. Tidak bertentangan dengan peraturan perundang-undangan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Barang milik daerah yang dapat dihibahkan harus memenuhi kriteria: tidak digunakan lagi, tidak mengganggu tugas pemerintah daerah, bermanfaat bagi penerima, dan tidak bertentangan dengan peraturan."
        },
        {
            question: "Dalam sistem pengawasan pengelolaan barang milik daerah, pengawasan dilakukan oleh...",
            options: [
                "A. Inspektorat Daerah",
                "B. BPKP",
                "C. BPK",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Pengawasan pengelolaan barang milik daerah dilakukan oleh Inspektorat Daerah, BPKP, dan BPK sesuai dengan kewenangannya."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016, yang termasuk dokumen dalam pengelolaan barang milik daerah adalah...",
            options: [
                "A. Berita Acara Serah Terima",
                "B. Daftar Barang Inventaris",
                "C. Kartu Barang",
                "D. Buku Induk Barang",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Dokumen pengelolaan barang milik daerah meliputi: Berita Acara Serah Terima, Daftar Barang Inventaris, Kartu Barang, Buku Induk Barang, dan dokumen pendukung lainnya."
        },
        {
            question: "Dalam sistem penilaian barang milik daerah, metode penilaian yang dapat digunakan adalah...",
            options: [
                "A. Metode biaya historis",
                "B. Metode nilai pasar",
                "C. Metode pendapatan",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Metode penilaian barang milik daerah meliputi: metode biaya historis, nilai pasar, pendapatan, atau metode lain yang sesuai dengan standar penilaian."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 27 Tahun 2014, yang termasuk larangan dalam pengelolaan barang milik daerah adalah...",
            options: [
                "A. Memindahtangankan tanpa hak",
                "B. Menggunakan untuk kepentingan pribadi",
                "C. Menyewakan tanpa izin",
                "D. Merusak atau menghilangkan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Larangan dalam pengelolaan barang milik daerah meliputi: memindahtangankan tanpa hak, menggunakan untuk kepentingan pribadi, menyewakan tanpa izin, merusak, atau menghilangkan."
        },
        {
            question: "Dalam sistem pengelolaan aset daerah, yang termasuk tujuan pengelolaan aset daerah adalah...",
            options: [
                "A. Menjamin kepastian hukum",
                "B. Meningkatkan efisiensi dan efektivitas",
                "C. Menjamin akuntabilitas",
                "D. Meningkatkan kemanfaatan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Tujuan pengelolaan aset daerah meliputi: menjamin kepastian hukum, meningkatkan efisiensi dan efektivitas, menjamin akuntabilitas, dan meningkatkan kemanfaatan aset."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016, yang termasuk prinsip pengelolaan barang milik daerah adalah...",
            options: [
                "A. Efisiensi",
                "B. Efektivitas",
                "C. Transparansi",
                "D. Akuntabilitas",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Prinsip pengelolaan barang milik daerah meliputi: efisiensi, efektivitas, transparansi, akuntabilitas, kepastian hukum, dan kemanfaatan."
        },

        // Layanan Operasional dan Teknis Kepemerintahan Daerah (20 soal)
        {
            question: "Berdasarkan Undang-Undang Nomor 25 Tahun 2009 tentang Pelayanan Publik, yang dimaksud dengan Pelayanan Publik adalah...",
            options: [
                "A. Kegiatan atau rangkaian kegiatan dalam rangka pemenuhan kebutuhan pelayanan sesuai dengan peraturan perundang-undangan bagi setiap warga negara dan penduduk atas barang, jasa, dan/atau pelayanan administratif yang disediakan oleh penyelenggara pelayanan publik",
                "B. Pemberian bantuan oleh pemerintah kepada masyarakat dalam bentuk barang atau jasa",
                "C. Pelayanan yang diberikan oleh pemerintah daerah kepada masyarakat di wilayahnya",
                "D. Kegiatan pelayanan yang dibiayai oleh APBD",
                "E. Semua bentuk pelayanan yang diberikan oleh instansi pemerintah"
            ],
            correctAnswer: 0,
            explanation: "Pelayanan Publik adalah kegiatan atau rangkaian kegiatan dalam rangka pemenuhan kebutuhan pelayanan sesuai dengan peraturan perundang-undangan bagi setiap warga negara dan penduduk atas barang, jasa, dan/atau pelayanan administratif yang disediakan oleh penyelenggara pelayanan publik."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 96 Tahun 2012 tentang Pelaksanaan Undang-Undang Nomor 25 Tahun 2009 tentang Pelayanan Publik, prinsip pelayanan publik meliputi...",
            options: [
                "A. Kepentingan umum",
                "B. Kepastian hukum",
                "C. Keterbukaan",
                "D. Akuntabilitas",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Prinsip pelayanan publik meliputi: kepentingan umum, kepastian hukum, kesamaan hak, keseimbangan hak dan kewajiban, keprofesionalan, partisipatif, persamaan perlakuan, keterbukaan, akuntabilitas, fasilitas dan perlakuan khusus bagi kelompok rentan, ketepatan waktu, dan kecepatan, kemudahan, dan keterjangkauan."
        },
        {
            question: "Dalam sistem pelayanan terpadu satu pintu (PTSP), tujuan pembentukan PTSP adalah...",
            options: [
                "A. Mempermudah masyarakat mengakses pelayanan",
                "B. Meningkatkan efisiensi dan efektivitas pelayanan",
                "C. Meningkatkan transparansi dan akuntabilitas",
                "D. Mengurangi praktik pungutan liar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Tujuan PTSP meliputi: mempermudah masyarakat mengakses pelayanan, meningkatkan efisiensi dan efektivitas, meningkatkan transparansi dan akuntabilitas, serta mengurangi praktik pungutan liar."
        },
        {
            question: "Menurut Peraturan Menteri Pendayagunaan Aparatur Negara dan Reformasi Birokrasi Nomor 36 Tahun 2012 tentang Pedoman Penyusunan Standar Pelayanan Publik, yang termasuk komponen standar pelayanan adalah...",
            options: [
                "A. Dasar hukum",
                "B. Persyaratan",
                "C. Prosedur pelayanan",
                "D. Biaya/tarif",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Komponen standar pelayanan meliputi: dasar hukum, persyaratan, sistem, mekanisme, dan prosedur, jangka waktu penyelesaian, biaya/tarif, produk pelayanan, sarana dan prasarana, kompetensi petugas, pengawasan internal, penanganan pengaduan, jumlah penerima, dan jaminan pelayanan."
        },
        {
            question: "Dalam sistem pengaduan pelayanan publik, mekanisme pengaduan dapat dilakukan melalui...",
            options: [
                "A. Lembaga Ombudsman",
                "B. Unit Pengaduan di instansi penyelenggara",
                "C. Media sosial",
                "D. Aplikasi pengaduan online",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Mekanisme pengaduan pelayanan publik dapat dilakukan melalui: lembaga Ombudsman, unit pengaduan di instansi penyelenggara, media sosial, aplikasi pengaduan online, atau saluran lainnya."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 96 Tahun 2012, yang termasuk jenis pelayanan publik adalah...",
            options: [
                "A. Pelayanan administratif",
                "B. Pelayanan barang",
                "C. Pelayanan jasa publik",
                "D. Jawaban A dan C benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Jenis pelayanan publik meliputi: pelayanan administratif, pelayanan barang, dan pelayanan jasa publik."
        },
        {
            question: "Dalam sistem penilaian kinerja pelayanan publik, indikator kinerja meliputi...",
            options: [
                "A. Waktu penyelesaian",
                "B. Biaya pelayanan",
                "C. Kepuasan masyarakat",
                "D. Kualitas pelayanan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Indikator kinerja pelayanan publik meliputi: waktu penyelesaian, biaya pelayanan, kepuasan masyarakat, kualitas pelayanan, dan indikator lainnya."
        },
        {
            question: "Menurut Peraturan Menteri PANRB Nomor 14 Tahun 2017 tentang Pedoman Penyusunan Survei Kepuasan Masyarakat, tujuan survei kepuasan masyarakat adalah...",
            options: [
                "A. Mengetahui tingkat kepuasan masyarakat",
                "B. Menjadi bahan evaluasi penyelenggara pelayanan",
                "C. Meningkatkan kualitas pelayanan publik",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Tujuan survei kepuasan masyarakat meliputi: mengetahui tingkat kepuasan, menjadi bahan evaluasi, dan meningkatkan kualitas pelayanan publik."
        },
        {
            question: "Dalam sistem pelayanan perizinan, prinsip perizinan meliputi...",
            options: [
                "A. Kecepatan",
                "B. Kemudahan",
                "C. Keterjangkauan",
                "D. Transparansi",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Prinsip perizinan meliputi: kecepatan, kemudahan, keterjangkauan, transparansi, akuntabilitas, dan kepastian hukum."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 24 Tahun 2018 tentang Pelayanan Perizinan Berusaha Terintegrasi Secara Elektronik, yang dimaksud dengan OSS adalah...",
            options: [
                "A. Online Single Submission",
                "B. One Stop Service",
                "C. Online Service System",
                "D. One Single System",
                "E. Online Submission System"
            ],
            correctAnswer: 0,
            explanation: "OSS adalah Online Single Submission, yaitu sistem pelayanan perizinan berusaha terintegrasi secara elektronik."
        },
        {
            question: "Dalam sistem pelayanan administrasi kependudukan, dokumen kependudukan meliputi...",
            options: [
                "A. Kartu Keluarga",
                "B. KTP elektronik",
                "C. Akta kelahiran",
                "D. Akta kematian",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Dokumen kependudukan meliputi: Kartu Keluarga, KTP elektronik, akta kelahiran, akta kematian, dan dokumen lainnya."
        },
        {
            question: "Menurut Peraturan Presiden Nomor 96 Tahun 2018 tentang Persyaratan dan Tata Cara Pendaftaran Penduduk dan Pencatatan Sipil, kewajiban melaporkan kelahiran paling lambat...",
            options: [
                "A. 14 hari",
                "B. 30 hari",
                "C. 60 hari",
                "D. 90 hari",
                "E. 1 tahun"
            ],
            correctAnswer: 2,
            explanation: "Kewajiban melaporkan kelahiran paling lambat 60 (enam puluh) hari sejak tanggal kelahiran."
        },
        {
            question: "Dalam sistem pelayanan kesehatan dasar, yang termasuk jenis pelayanan kesehatan dasar adalah...",
            options: [
                "A. Promotif",
                "B. Preventif",
                "C. Kuratif",
                "D. Rehabilitatif",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Pelayanan kesehatan dasar meliputi: promotif, preventif, kuratif, dan rehabilitatif."
        },
        {
            question: "Menurut Peraturan Menteri Kesehatan Nomor 75 Tahun 2014 tentang Pusat Kesehatan Masyarakat, tugas Puskesmas meliputi...",
            options: [
                "A. Penyelenggaraan upaya kesehatan masyarakat",
                "B. Penyelenggaraan upaya kesehatan perseorangan",
                "C. Pembinaan upaya kesehatan masyarakat",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Tugas Puskesmas meliputi: penyelenggaraan upaya kesehatan masyarakat dan perseorangan, serta pembinaan upaya kesehatan masyarakat."
        },
        {
            question: "Dalam sistem pelayanan pendidikan dasar, yang termasuk program wajib belajar adalah...",
            options: [
                "A. Pendidikan dasar 9 tahun",
                "B. Pendidikan anak usia dini",
                "C. Pendidikan menengah",
                "D. Pendidikan nonformal",
                "E. Pendidikan khusus"
            ],
            correctAnswer: 0,
            explanation: "Program wajib belajar adalah pendidikan dasar 9 tahun (SD/MI 6 tahun dan SMP/MTs 3 tahun)."
        },
        {
            question: "Menurut Peraturan Menteri Pendidikan dan Kebudayaan Nomor 44 Tahun 2019 tentang Penerimaan Peserta Didik Baru, prinsip PPDB meliputi...",
            options: [
                "A. Objektif",
                "B. Transparan",
                "C. Akuntabel",
                "D. Nondiskriminatif",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Prinsip PPDB meliputi: objektif, transparan, akuntabel, nondiskriminatif, dan berkeadilan."
        },
        {
            question: "Dalam sistem pelayanan pertanahan, yang termasuk jenis pelayanan pertanahan adalah...",
            options: [
                "A. Pendaftaran tanah",
                "B. Pemberian sertifikat hak atas tanah",
                "C. Penyelesaian sengketa tanah",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 3,
            explanation: "Pelayanan pertanahan meliputi: pendaftaran tanah dan pemberian sertifikat hak atas tanah. Penyelesaian sengketa tanah bukan termasuk pelayanan rutin pertanahan."
        },
        {
            question: "Menurut Peraturan Menteri ATR/BPN Nomor 11 Tahun 2016 tentang Pelayanan Pengukuran dan Pemetaan Kadastral, jangka waktu penyelesaian pengukuran bidang tanah untuk pertama kali adalah...",
            options: [
                "A. 30 hari kerja",
                "B. 60 hari kerja",
                "C. 90 hari kerja",
                "D. 120 hari kerja",
                "E. 180 hari kerja"
            ],
            correctAnswer: 2,
            explanation: "Jangka waktu penyelesaian pengukuran bidang tanah untuk pertama kali adalah 90 (sembilan puluh) hari kerja."
        },
        {
            question: "Dalam sistem pelayanan transportasi, yang termasuk pelayanan transportasi publik adalah...",
            options: [
                "A. Angkutan umum",
                "B. Terminal",
                "C. Halte",
                "D. Jawaban A dan B benar",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 3,
            explanation: "Pelayanan transportasi publik meliputi: angkutan umum dan terminal. Halte merupakan bagian dari fasilitas pendukung."
        },
                {
            question: "Menurut Undang-Undang Nomor 23 Tahun 2014, dalam hal terjadi kekosongan jabatan kepala daerah, pelaksana tugas kepala daerah dijabat oleh...",
            options: [
                "A. Wakil kepala daerah",
                "B. Sekretaris daerah",
                "C. Ketua DPRD",
                "D. Pejabat tinggi daerah",
                "E. Staf ahli kepala daerah"
            ],
            correctAnswer: 1,
            explanation: "Sekretaris daerah bertindak sebagai pelaksana tugas kepala daerah apabila terjadi kekosongan jabatan, sampai dengan terpilihnya kepala daerah definitif."
        },
        {
            question: "Dalam penyusunan peraturan daerah, tahapan pembahasan bersama antara DPRD dan kepala daerah disebut...",
            options: [
                "A. Pembicaraan pendahuluan",
                "B. Penyusunan rancangan",
                "C. Pembahasan",
                "D. Harmonisasi",
                "E. Sosialisasi"
            ],
            correctAnswer: 2,
            explanation: "Tahap pembahasan adalah proses bersama antara DPRD dan kepala daerah untuk membahas rancangan peraturan daerah sebelum ditetapkan."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 18 Tahun 2016, perangkat daerah yang bertugas melaksanakan urusan tertentu untuk mendukung tugas kepala daerah dalam penyusunan dan pelaksanaan kebijakan daerah adalah...",
            options: [
                "A. Dinas daerah",
                "B. Badan",
                "C. Kantor",
                "D. Sekretariat DPRD",
                "E. Inspektorat"
            ],
            correctAnswer: 1,
            explanation: "Badan adalah perangkat daerah yang melaksanakan urusan tertentu untuk mendukung tugas kepala daerah dalam penyusunan dan pelaksanaan kebijakan daerah."
        },
        {
            question: "Dalam sistem pemerintahan daerah, dokumen perencanaan pembangunan yang memuat visi, misi, dan program kepala daerah selama masa jabatannya adalah...",
            options: [
                "A. RPJPD",
                "B. RPJMD",
                "C. RKPD",
                "D. Renstra SKPD",
                "E. Renja SKPD"
            ],
            correctAnswer: 1,
            explanation: "RPJMD (Rencana Pembangunan Jangka Menengah Daerah) memuat visi, misi, program, dan kebijakan kepala daerah selama masa jabatan 5 tahun."

        },

        // Kepegawaian (4 soal tambahan)
        {
            question: "Menurut Peraturan Pemerintah Nomor 11 Tahun 2017, masa kerja minimal yang diperlukan untuk kenaikan pangkat reguler PNS adalah...",
            options: [
                "A. 2 tahun",
                "B. 3 tahun",
                "C. 4 tahun",
                "D. 5 tahun",
                "E. 6 tahun"
            ],
            correctAnswer: 2,
            explanation: "Masa kerja minimal untuk kenaikan pangkat reguler PNS adalah 4 (empat) tahun dalam pangkat terakhir."
        },
        {
            question: "Dalam sistem penilaian kinerja PNS, instrumen yang digunakan untuk mencatat capaian kinerja adalah...",
            options: [
                "A. DP3",
                "B. SKP",
                "C. LHKPN",
                "D. LHKASN",
                "E. PKB"
            ],
            correctAnswer: 1,
            explanation: "SKP (Sasaran Kinerja Pegawai) adalah instrumen untuk mencatat capaian kinerja PNS dalam periode penilaian tertentu."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 17 Tahun 2020, cuti yang dapat diberikan kepada PNS karena alasan penting seperti menikah atau anggota keluarga meninggal adalah...",
            options: [
                "A. Cuti tahunan",
                "B. Cuti sakit",
                "C. Cuti besar",
                "D. Cuti karena alasan penting",
                "E. Cuti di luar tanggungan negara"
            ],
            correctAnswer: 3,
            explanation: "Cuti karena alasan penting diberikan untuk keperluan seperti menikah, anggota keluarga meninggal, atau keperluan penting lainnya."
        },
        {
            question: "Dalam sistem pengembangan kompetensi ASN, kegiatan yang bertujuan meningkatkan pengetahuan, keterampilan, dan sikap untuk pengembangan karier adalah...",
            options: [
                "A. Diklat prajabatan",
                "B. Diklat kepemimpinan",
                "C. Diklat teknis",
                "D. Diklat fungsional",
                "E. Seminar dan workshop"
            ],
            correctAnswer: 1,
            explanation: "Diklat kepemimpinan ditujukan untuk pengembangan karier ASN ke jenjang kepemimpinan yang lebih tinggi."

        },

        // Keuangan Daerah (4 soal tambahan)
        {
            question: "Menurut Peraturan Pemerintah Nomor 12 Tahun 2019, dokumen yang memuat informasi realisasi pendapatan dan belanja daerah selama satu tahun anggaran adalah...",
            options: [
                "A. Laporan Realisasi Anggaran",
                "B. Neraca",
                "C. Laporan Arus Kas",
                "D. Catatan atas Laporan Keuangan",
                "E. Laporan Operasional"
            ],
            correctAnswer: 0,
            explanation: "Laporan Realisasi Anggaran (LRA) menyajikan informasi realisasi pendapatan dan belanja daerah selama satu tahun anggaran."
        },
        {
            question: "Dalam sistem pengelolaan keuangan daerah, dokumen yang menjadi dasar pelaksanaan anggaran satuan kerja perangkat daerah adalah...",
            options: [
                "A. APBD",
                "B. RKA-SKPD",
                "C. DPA-SKPD",
                "D. RKPD",
                "E. Renja SKPD"
            ],
            correctAnswer: 2,
            explanation: "DPA-SKPD (Dokumen Pelaksanaan Anggaran Satuan Kerja Perangkat Daerah) menjadi dasar pelaksanaan anggaran bagi SKPD."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 32 Tahun 2011, batas waktu penyampaian rancangan peraturan daerah tentang pertanggungjawaban pelaksanaan APBD adalah...",
            options: [
                "A. 3 bulan setelah tahun anggaran berakhir",
                "B. 6 bulan setelah tahun anggaran berakhir",
                "C. 9 bulan setelah tahun anggaran berakhir",
                "D. 12 bulan setelah tahun anggaran berakhir",
                "E. 18 bulan setelah tahun anggaran berakhir"
            ],
            correctAnswer: 1,
            explanation: "Rancangan peraturan daerah tentang pertanggungjawaban pelaksanaan APBD harus disampaikan paling lambat 6 bulan setelah tahun anggaran berakhir."
        },
        {
            question: "Dalam sistem pengadaan barang/jasa pemerintah, metode pemilihan penyedia barang/jasa yang dilakukan melalui undian adalah...",
            options: [
                "A. Pelelangan",
                "B. Seleksi",
                "C. Penunjukan langsung",
                "D. Swakelola",
                "E. E-purchasing"
            ],
            correctAnswer: 1,
            explanation: "Seleksi adalah metode pemilihan penyedia barang/jasa melalui undian setelah memenuhi persyaratan administrasi, teknis, dan harga."

        },

        // Aset Daerah (4 soal tambahan)
        {
            question: "Menurut Peraturan Pemerintah Nomor 27 Tahun 2014, penilaian barang milik daerah yang dilakukan oleh pihak independen yang memiliki sertifikat kompetensi disebut...",
            options: [
                "A. Penilaian internal",
                "B. Penilaian eksternal",
                "C. Penilaian independen",
                "D. Penilaian oleh tim ahli",
                "E. Penilaian oleh konsultan"
            ],
            correctAnswer: 2,
            explanation: "Penilaian independen dilakukan oleh penilai independen yang memiliki sertifikat kompetensi penilaian."
        },
        {
            question: "Dalam sistem penghapusan barang milik daerah, tim penghapusan barang milik daerah dibentuk oleh...",
            options: [
                "A. Kepala daerah",
                "B. Sekretaris daerah",
                "C. Kepala Dinas Pengelola Keuangan dan Aset Daerah",
                "D. Inspektorat daerah",
                "E. DPRD"
            ],
            correctAnswer: 0,
            explanation: "Tim penghapusan barang milik daerah dibentuk dengan keputusan kepala daerah untuk melakukan verifikasi dan memberikan rekomendasi penghapusan."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri Nomor 19 Tahun 2016, pencatatan barang milik daerah dalam Buku Induk Barang dilakukan berdasarkan...",
            options: [
                "A. Jenis barang",
                "B. Lokasi barang",
                "C. Satuan kerja pengguna",
                "D. Nilai ekonomis barang",
                "E. Masa pakai barang"
            ],
            correctAnswer: 0,
            explanation: "Pencatatan dalam Buku Induk Barang dilakukan berdasarkan klasifikasi dan kode barang sesuai jenisnya."
        },
        {
            question: "Dalam sistem pemanfaatan barang milik daerah, kerjasama pemanfaatan dengan pihak ketiga harus memenuhi prinsip...",
            options: [
                "A. Tidak merugikan kepentingan umum",
                "B. Memberikan keuntungan finansial",
                "C. Mendapat persetujuan DPRD",
                "D. Dilakukan melalui tender",
                "E. Bersifat sementara"
            ],
            correctAnswer: 0,
            explanation: "Kerjasama pemanfaatan harus memenuhi prinsip tidak merugikan kepentingan umum dan sesuai ketentuan peraturan perundang-undangan."

        },

        // Layanan Operasional dan Teknis (4 soal tambahan)
        {
            question: "Menurut Peraturan Menteri PANRB Nomor 36 Tahun 2012, standar pelayanan publik harus memuat informasi tentang...",
            options: [
                "A. Dasar hukum pelayanan",
                "B. Persyaratan teknis dan administratif",
                "C. Prosedur dan biaya pelayanan",
                "D. Hak dan kewajiban pengguna layanan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Standar pelayanan publik harus memuat semua informasi tersebut sebagai bentuk transparansi dan akuntabilitas."
        },
        {
            question: "Dalam sistem pelayanan terpadu satu pintu (PTSP), fungsi koordinasi dan sinkronisasi lintas sektor dilakukan oleh...",
            options: [
                "A. Kepala daerah",
                "B. Sekretaris daerah",
                "C. Kepala Dinas Penanaman Modal dan PTSP",
                "D. Tim koordinasi PTSP",
                "E. Semua instansi terkait"
            ],
            correctAnswer: 3,
            explanation: "Tim koordinasi PTSP bertugas melakukan koordinasi dan sinkronisasi lintas sektor dalam penyelenggaraan PTSP."
        },
        {
            question: "Menurut Peraturan Pemerintah Nomor 96 Tahun 2012, mekanisme pengaduan masyarakat terhadap pelayanan publik dapat disampaikan melalui...",
            options: [
                "A. Lembaga Ombudsman",
                "B. Unit pengaduan instansi penyelenggara",
                "C. Media massa",
                "D. Aplikasi pengaduan online",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Pengaduan dapat disampaikan melalui berbagai saluran resmi termasuk Ombudsman, unit pengaduan instansi, atau saluran online."
        },
        {
            question: "Dalam sistem penilaian kinerja unit pelayanan publik, indikator yang mengukur kesesuaian antara hasil dengan target yang ditetapkan disebut...",
            options: [
                "A. Indikator input",
                "B. Indikator output",
                "C. Indikator outcome",
                "D. Indikator benefit",
                "E. Indikator impact"
            ],
            correctAnswer: 1,
            explanation: "Indikator output mengukur kesesuaian antara hasil langsung kegiatan dengan target yang ditetapkan."
        },
        {
            question: "Menurut Peraturan Menteri Perhubungan Nomor 35 Tahun 2015 tentang Penyelenggaraan Angkutan Orang di Jalan dengan Kendaraan Umum, prinsip penyelenggaraan angkutan umum meliputi...",
            options: [
                "A. Keselamatan",
                "B. Keamanan",
                "C. Keterjangkauan",
                "D. Kenyamanan",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Prinsip penyelenggaraan angkutan umum meliputi: keselamatan, keamanan, keterjangkauan, kenyamanan, dan kesetaraan."
        }
    ];
    
    originalQuestions = initialQuestions;
}
        
        // Enhanced storage functions with fallback to sessionStorage if localStorage fails
        function loadParticipantsFromStorage() {
            try {
                const storedParticipants = localStorage.getItem('pergunusmart_participants');
                if (storedParticipants) {
                    return JSON.parse(storedParticipants);
                }
            } catch (e) {
                console.error('Error loading participants from localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    const storedParticipants = sessionStorage.getItem('pergunusmart_participants');
                    if (storedParticipants) {
                        return JSON.parse(storedParticipants);
                    }
                } catch (e2) {
                    console.error('Error loading participants from sessionStorage:', e2);
                }
            }
            return [];
        }
        
        function saveParticipantsToStorage(participants) {
            try {
                localStorage.setItem('pergunusmart_participants', JSON.stringify(participants));
                // Also save to sessionStorage as backup
                sessionStorage.setItem('pergunusmart_participants', JSON.stringify(participants));
                return true;
            } catch (e) {
                console.error('Error saving participants to localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    sessionStorage.setItem('pergunusmart_participants', JSON.stringify(participants));
                    return true;
                } catch (e2) {
                    console.error('Failed to save participants to sessionStorage:', e2);
                    alert('Gagal menyimpan data peserta. Penyimpanan lokal penuh. Silakan hubungi admin.');
                    return false;
                }
            }
        }
        
        function loadAdminSettingsFromStorage() {
            try {
                const storedSettings = localStorage.getItem('pergunusmart_admin_settings');
                if (storedSettings) {
                    return JSON.parse(storedSettings);
                }
            } catch (e) {
                console.error('Error loading admin settings from localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    const storedSettings = sessionStorage.getItem('pergunusmart_admin_settings');
                    if (storedSettings) {
                        return JSON.parse(storedSettings);
                    }
                } catch (e2) {
                    console.error('Error loading admin settings from sessionStorage:', e2);
                }
            }
            return null;
        }
        
        function saveAdminSettingsToStorage(settings) {
            try {
                localStorage.setItem('pergunusmart_admin_settings', JSON.stringify(settings));
                // Also save to sessionStorage as backup
                sessionStorage.setItem('pergunusmart_admin_settings', JSON.stringify(settings));
                return true;
            } catch (e) {
                console.error('Error saving admin settings to localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    sessionStorage.setItem('pergunusmart_admin_settings', JSON.stringify(settings));
                    return true;
                } catch (e2) {
                    console.error('Failed to save settings to sessionStorage:', e2);
                    alert('Gagal menyimpan pengaturan. Penyimpanan lokal penuh. Silakan hubungi admin.');
                    return false;
                }
            }
        }
        
        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang materi.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load data from storage
            const loadedAdminSettings = loadAdminSettingsFromStorage();
            if (loadedAdminSettings) {
                adminSettings = loadedAdminSettings;
            }
            
            participantsData = loadParticipantsFromStorage();
            
            // Initialize question bank
            initializeQuestionBank();
            
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF6B35", "#FFA630", "#EF8A17", "#FF9E4F", "#D45B00", "#FF8C42"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Event listeners for all buttons to play click sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    playButtonClickSound();
                });
            });
            
            // Main event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            document.getElementById('get-location-btn').addEventListener('click', getLocation);
            document.getElementById('save-participant-btn').addEventListener('click', startExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('address').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('phone').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('email').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('cpns-license').addEventListener('input', checkParticipantFormValidity);

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    if (statusElement) {
                        statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                    }
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            
            // Participant selection and bulk actions
            document.getElementById('select-all-participants').addEventListener('change', toggleSelectAllParticipants);
            document.getElementById('select-all-header').addEventListener('change', toggleSelectAllParticipantsHeader);
            document.getElementById('edit-selected-btn').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-btn').addEventListener('click', deleteSelectedParticipants);
            
            // Edit participant modal buttons
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.getElementById('cancel-edit-participant-btn').addEventListener('click', hideEditParticipantModal);
            
            // Certificate validation
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            
            // Participant search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Load participants data for admin panel
            loadParticipantsData();
        });

        // Function to play button click sound
        function playButtonClickSound() {
            // Mute other sounds when playing button click
            audioOpening.muted = true;
            audioCorrect.muted = true;
            audioWrong.muted = true;
            audioApplause.muted = true;
            
            audioButtonClick.currentTime = 0;
            audioButtonClick.muted = false;
            audioButtonClick.play().catch(e => console.log("Button click sound prevented:", e));
            
            // Unmute other sounds after button click plays
            setTimeout(() => {
                audioOpening.muted = false;
                audioCorrect.muted = false;
                audioWrong.muted = false;
                audioApplause.muted = false;
            }, 500);
        }

        // Function to validate name input (letters only)
        function validateNameInput(input) {
            // Remove any numbers or special characters
            input.value = input.value.replace(/[^a-zA-Z\s]/g, '');
            
            // Convert to uppercase
            input.value = input.value.toUpperCase();
            
            // Update form validity
            checkParticipantFormValidity();
        }

        // Function to validate phone input (numbers only)
        function validatePhoneInput(input) {
            // Remove any non-numeric characters
            input.value = input.value.replace(/\D/g, '');
            
            // Update form validity
            checkParticipantFormValidity();
        }
        
        // Load admin settings into the form
        function loadAdminSettings() {
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Set admin panel form values
            document.getElementById('new-login-code').value = adminSettings.loginCode;
            document.getElementById('new-cpns-code').value = adminSettings.cpnsLicenseCode;
            document.getElementById('new-admin-code').value = adminSettings.adminPanelCode;
            
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            document.getElementById('question-count').value = adminSettings.questionCount;
            document.getElementById('randomize-questions').checked = adminSettings.randomizeQuestions;
            document.getElementById('randomize-status').textContent = adminSettings.randomizeQuestions ? 'Aktif' : 'Nonaktif';
            
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            document.getElementById('motivation-message-input').value = adminSettings.motivationMessage;
        }
        
        // Save admin settings to storage with enhanced storage mechanism
        function saveAdminSettings() {
            if (saveAdminSettingsToStorage(adminSettings)) {
                console.log('Admin settings saved successfully');
            }
        }
        
        // Functions
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening audio
                audioOpening.currentTime = 0;
                audioOpening.muted = false;
                audioOpening.play().catch(e => console.log("Audio play prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    showPosition,
                    showError,
                    { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }
                );
            } else {
                alert("Geolocation tidak didukung oleh browser Anda.");
            }
        }
        
        function showPosition(position) {
            // In a real implementation, you would reverse geocode the coordinates to get an address
            // For demo purposes, we'll just show a mock address
            const address = "Jl. Raya Situbondo No. 123, Kec. Situbondo, Kab. Situbondo, Jawa Timur";
            
            document.getElementById('address').value = address;
            document.getElementById('gps-result').textContent = `Lokasi terdeteksi: ${address}`;
            document.getElementById('gps-result').style.display = 'block';
            
            checkParticipantFormValidity();
        }
        
        function showError(error) {
            let message = "Error mendapatkan lokasi: ";
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    message += "Pengguna menolak permintaan geolocation.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    message += "Informasi lokasi tidak tersedia.";
                    break;
                case error.TIMEOUT:
                    message += "Permintaan untuk mendapatkan lokasi pengguna timeout.";
                    break;
                case error.UNKNOWN_ERROR:
                    message += "Terjadi error yang tidak diketahui.";
                    break;
            }
            
            alert(message);
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Check required fields
            if (!document.getElementById('fullname').value.trim()) {
                isValid = false;
            }
            
            if (!document.getElementById('address').value.trim()) {
                isValid = false;
            }
            
            if (!document.getElementById('phone').value.trim() || 
                !document.getElementById('phone').checkValidity()) {
                isValid = false;
            }
            
            if (!document.getElementById('email').value.trim() || 
                !document.getElementById('email').checkValidity()) {
                isValid = false;
            }
            
            // Check CPNS license
            const cpnsLicense = document.getElementById('cpns-license').value;
            if (cpnsLicense !== adminSettings.cpnsLicenseCode) {
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                address: document.getElementById('address').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                email: document.getElementById('email').value.trim(),
                examDate: new Date().toISOString()
            };
            
            // Get questions from question bank
            questions = [...originalQuestions]; // Create a copy for exam
            
            // Check if there are enough questions
            if (questions.length === 0) {
                alert('Maaf, belum ada soal yang tersedia untuk ujian ini. Silakan hubungi admin.');
                return;
            }
            
            // Randomize questions if enabled
            if (adminSettings.randomizeQuestions) {
                questions = shuffleArray(questions);
            }
            
            // Limit number of questions based on admin setting
            const questionCount = Math.min(adminSettings.questionCount, questions.length);
            questions = questions.slice(0, questionCount);
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null),
                originalQuestionIndices: questions.map(q => originalQuestions.findIndex(oq => oq.question === q.question))
            };
            
            // Set exam time based on admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        // Helper function to shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text
            document.getElementById('question-text').textContent = `Soal ${index + 1}: ${question.question}`;
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        // Get the original question to check correct answer
                        const originalIndex = examData.originalQuestionIndices[index];
                        const originalQuestion = originalQuestions[originalIndex];
                        
                        if (i === originalQuestion.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === originalQuestions[examData.originalQuestionIndices[index]].correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const originalIndex = examData.originalQuestionIndices[questionIndex];
            const originalQuestion = originalQuestions[originalIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            // Check against the original question's correct answer
            if (answerIndex === originalQuestion.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                audioCorrect.currentTime = 0;
                audioCorrect.muted = false;
                audioCorrect.play().catch(e => console.log("Audio play prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                audioWrong.currentTime = 0;
                audioWrong.muted = false;
                audioWrong.play().catch(e => console.log("Audio play prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateCertificateCode(participantData.fullname);
            
            // Add participant to data store with enhanced storage mechanism
            const score = Math.round((examData.correct / questions.length) * 100);
            const participantRecord = {
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode,
                examResults: {
                    totalQuestions: questions.length,
                    correctAnswers: examData.correct,
                    wrongAnswers: examData.wrong,
                    unanswered: examData.unanswered
                }
            };
            
            // Add to participants array
            participantsData.push(participantRecord);
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                console.log('Participant data saved successfully:', participantRecord);
            }
            
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults();
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play applause sound (mute other sounds)
                audioOpening.muted = true;
                audioCorrect.muted = true;
                audioWrong.muted = true;
                audioButtonClick.muted = true;
                
                audioApplause.currentTime = 0;
                audioApplause.muted = false;
                audioApplause.play().catch(e => console.log("Audio play prevented:", e));
                
                // Reload participants data in admin panel if it's open
                if (document.getElementById('admin-panel-content').style.display === 'block') {
                    loadParticipantsData();
                }
            }, 500);
        }
        
        function generateCertificateCode(fullname) {
            // Get current date components
            const now = new Date();
            const day = now.getDate().toString().padStart(2, '0');
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const year = now.getFullYear().toString().slice(-2);
            
            // Clean and format the name
            const cleanedName = fullname.replace(/[^a-zA-Z\s]/g, '').toUpperCase();
            const nameParts = cleanedName.split(' ');
            
            // Create name code - use first 3 letters of first name and last name
            let nameCode = '';
            if (nameParts.length === 1) {
                nameCode = nameParts[0].substring(0, 6).padEnd(6, 'X');
            } else {
                const firstName = nameParts[0];
                const lastName = nameParts[nameParts.length - 1];
                nameCode = (firstName.substring(0, 3) + lastName.substring(0, 3)).padEnd(6, 'X');
            }
            
            // Generate unique 8-digit alphanumeric code
            const uniqueCode = generateUniqueCode(fullname + now.getTime());
            
            // Combine all components
            return `${nameCode}/CPNS/${day}${month}${year}/${uniqueCode}`;
        }
        
        function generateUniqueCode(input) {
            // Create a hash from the input string
            let hash = 0;
            for (let i = 0; i < input.length; i++) {
                const char = input.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32bit integer
            }
            
            // Convert hash to alphanumeric string (excluding similar characters like 0/O, 1/I)
            const chars = '23456789ABCDEFGHJKLMNPQRSTUVWXYZ';
            let result = '';
            let remaining = Math.abs(hash);
            
            for (let i = 0; i < 8; i++) {
                const index = remaining % chars.length;
                result += chars.charAt(index);
                remaining = Math.floor(remaining / chars.length);
            }
            
            // Format as XXXX-XXXX
            return result.substring(0, 4) + '-' + result.substring(4, 8);
        }
        
        function displayResults() {
            document.getElementById('result-name').textContent = participantData.fullname;
            document.getElementById('result-address').textContent = participantData.address;
            document.getElementById('result-phone').textContent = participantData.phone;
            document.getElementById('result-email').textContent = participantData.email;
            document.getElementById('total-questions').textContent = questions.length;
            document.getElementById('correct-answers').textContent = examData.correct;
            document.getElementById('wrong-answers').textContent = examData.wrong;
            document.getElementById('unanswered-questions').textContent = examData.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((examData.correct / questions.length) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Use custom motivation message if available
            if (adminSettings.motivationMessage) {
                motivation = adminSettings.motivationMessage;
            }
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${certificateCode}</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        <strong>Ujian CPNS/P3K PERGUNUSMART</strong>
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua PERGUNU</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya tentang soal ujian CPNS/P3K nih....");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminPanelCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
                loadParticipantsData();
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            try {
                // Load participants
                participantsData = loadParticipantsFromStorage();
                
                if (participantsData.length === 0) {
                    tableBody.innerHTML = '<tr><td colspan="8" style="text-align: center;">Belum ada data peserta</td></tr>';
                    return;
                }
                
                // Sort by date (newest first)
                const sortedData = [...participantsData].sort((a, b) => 
                    new Date(b.examDate) - new Date(a.examDate));
                
                sortedData.forEach((participant, i) => {
                    const date = new Date(participant.examDate);
                    const dateStr = date.toLocaleDateString('id-ID', {
                        day: '2-digit',
                        month: '2-digit',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><input type="checkbox" class="select-checkbox participant-checkbox" data-index="${i}"></td>
                        <td>${dateStr}</td>
                        <td>${participant.fullname}</td>
                        <td>${participant.phone}</td>
                        <td>${participant.email}</td>
                        <td>${participant.score}%</td>
                        <td>${participant.certificateCode || '-'}</td>
                        <td>
                            <button class="question-action-btn edit-btn edit-participant-btn" data-index="${i}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="question-action-btn delete-btn delete-participant-btn" data-index="${i}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                // Add event listeners to participant checkboxes
                document.querySelectorAll('.participant-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', updateSelectedCount);
                });
                
                // Add event listeners to edit and delete buttons for individual participants
                document.querySelectorAll('.edit-participant-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        editParticipant(index);
                    });
                });
                
                document.querySelectorAll('.delete-participant-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        
                        if (confirm('Apakah Anda yakin ingin menghapus peserta ini?')) {
                            deleteParticipant(index);
                        }
                    });
                });
                
            } catch (e) {
                console.error('Error loading participants data:', e);
                tableBody.innerHTML = '<tr><td colspan="8" style="text-align: center; color: red;">Error memuat data peserta</td></tr>';
            }
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                let shouldShow = false;
                
                // Check each cell (except the first and last which are checkboxes and actions)
                for (let i = 1; i < cells.length - 1; i++) {
                    if (cells[i].textContent.toLowerCase().includes(searchTerm)) {
                        shouldShow = true;
                        break;
                    }
                }
                
                row.style.display = shouldShow ? '' : 'none';
            });
        }
        
        function updateSelectedCount() {
            const selectedCount = document.querySelectorAll('.participant-checkbox:checked').length;
            document.getElementById('selected-count').textContent = `${selectedCount} dipilih`;
            
            // Enable/disable bulk action buttons
            document.getElementById('edit-selected-btn').disabled = selectedCount === 0;
            document.getElementById('delete-selected-btn').disabled = selectedCount === 0;
        }
        
        function toggleSelectAllParticipants() {
            const selectAll = document.getElementById('select-all-participants').checked;
            document.getElementById('select-all-header').checked = selectAll;
            document.querySelectorAll('.participant-checkbox').forEach(checkbox => {
                checkbox.checked = selectAll;
            });
            
            updateSelectedCount();
        }
        
        function toggleSelectAllParticipantsHeader() {
            const selectAll = document.getElementById('select-all-header').checked;
            document.getElementById('select-all-participants').checked = selectAll;
            document.querySelectorAll('.participant-checkbox').forEach(checkbox => {
                checkbox.checked = selectAll;
            });
            
            updateSelectedCount();
        }
        
        function editSelectedParticipants() {
            const selectedCheckboxes = document.querySelectorAll('.participant-checkbox:checked');
            
            if (selectedCheckboxes.length === 0) {
                alert('Tidak ada peserta yang dipilih');
                return;
            }
            
            if (selectedCheckboxes.length > 1) {
                alert('Hanya bisa mengedit satu peserta sekaligus');
                return;
            }
            
            const index = parseInt(selectedCheckboxes[0].getAttribute('data-index'));
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            document.getElementById('edit-address').value = participant.address;
            document.getElementById('edit-phone').value = participant.phone;
            document.getElementById('edit-email').value = participant.email;
            document.getElementById('edit-score').value = participant.score;
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store participant index
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function saveEditedParticipant() {
            const index = parseInt(document.getElementById('edit-participant-index').value);
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.address = document.getElementById('edit-address').value.trim();
            participant.phone = document.getElementById('edit-phone').value.trim();
            participant.email = document.getElementById('edit-email').value.trim();
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                // Refresh participants list
                loadParticipantsData();
                
                // Hide modal
                hideEditParticipantModal();
                
                alert('Perubahan data peserta berhasil disimpan!');
            }
        }
        
        function deleteSelectedParticipants() {
            const selectedCheckboxes = document.querySelectorAll('.participant-checkbox:checked');
            
            if (selectedCheckboxes.length === 0) {
                alert('Tidak ada peserta yang dipilih');
                return;
            }
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedCheckboxes.length} peserta terpilih?`)) {
                return;
            }
            
            // Get indices of selected participants (sorted in descending order to avoid index shifting)
            const indices = Array.from(selectedCheckboxes)
                .map(checkbox => parseInt(checkbox.getAttribute('data-index')))
                .sort((a, b) => b - a);
            
            // Remove participants from array
            indices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                // Refresh participants list
                loadParticipantsData();
                
                alert(`${indices.length} peserta berhasil dihapus!`);
            }
        }
        
        function deleteParticipant(index) {
            participantsData.splice(index, 1);
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                // Refresh participants list
                loadParticipantsData();
                
                alert('Peserta berhasil dihapus!');
            }
        }
        
        function validateCertificate() {
            const certificateCode = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            const certificateInfo = document.getElementById('certificate-info');
            
            if (!certificateCode) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === certificateCode);
            
            if (participant) {
                validationResult.textContent = 'Sertifikat Valid';
                validationResult.className = 'validation-result valid';
                
                // Display participant info
                certificateInfo.innerHTML = `
                    <p><strong>Nama:</strong> ${participant.fullname}</p>
                    <p><strong>Tanggal Ujian:</strong> ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                    <p><strong>Nilai:</strong> ${participant.score}%</p>
                `;
                certificateInfo.style.display = 'block';
            } else {
                validationResult.textContent = 'Sertifikat Tidak Valid';
                validationResult.className = 'validation-result invalid';
                certificateInfo.style.display = 'none';
            }
            
            validationResult.style.display = 'block';
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newCpnsCode = document.getElementById('new-cpns-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode || newCpnsCode || newAdminCode) {
                // Update admin settings
                if (newLoginCode) adminSettings.loginCode = newLoginCode;
                if (newCpnsCode) adminSettings.cpnsLicenseCode = newCpnsCode;
                if (newAdminCode) adminSettings.adminPanelCode = newAdminCode;
                
                // Save to storage
                saveAdminSettings();
                
                // Clear the fields
                document.getElementById('new-login-code').value = '';
                document.getElementById('new-cpns-code').value = '';
                document.getElementById('new-admin-code').value = '';
                
                alert('Kode berhasil diubah!');
            } else {
                alert('Silakan masukkan setidaknya satu kode baru');
            }
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            const motivationMessage = document.getElementById('motivation-message-input').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            adminSettings.motivationMessage = motivationMessage;
            
            // Save to storage
            saveAdminSettings();
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            alert('Perubahan konten berhasil disimpan!');
        }
    </script>
</body>
</html>
