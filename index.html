<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online CPNS/P3K</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --color-primary: #FF6B35;
            --color-secondary: #FFA630;
            --color-tertiary: #EF8A17;
            --color-primary-dark: #D45B00;
            --color-primary-light: #FF9E4F;
            --color-success: #4CAF50;
            --color-error: #f44336;
            --color-warning: #ff9800;
            --color-info: #2196F3;
            --color-dark: #1a1a2e;
            --color-light: #f8f9fa;
            --color-card-bg: rgba(255, 255, 255, 0.08);
            --color-card-border: rgba(255, 255, 255, 0.15);
            --color-text-light: #FFFFFF;
            --color-text-dark: #333333;
            --border-radius: 12px;
            --box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--color-primary-dark), var(--color-primary), var(--color-secondary));
            color: var(--color-text-light);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            line-height: 1.6;
        }

        /* Particle Background */
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.6;
        }

        #celebration-particles {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            pointer-events: none;
            display: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 20px;
        }

        .logo {
            height: 80px;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }

        h1, h2, h3, h4, h5, h6 {
            margin-bottom: 1rem;
            font-weight: 600;
            line-height: 1.3;
        }

        h1 { font-size: 2.2rem; }
        h2 { font-size: 1.8rem; }
        h3 { font-size: 1.5rem; }
        h4 { font-size: 1.3rem; }
        h5 { font-size: 1.1rem; }
        h6 { font-size: 1rem; }

        p {
            margin-bottom: 1rem;
        }

        /* Card Styles */
        .card {
            background: var(--color-card-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            transition: var(--transition);
            border: 1px solid var(--color-card-border);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 50px;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            text-decoration: none;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(255, 166, 48, 0.3);
            margin: 8px 5px;
            text-align: center;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 166, 48, 0.4);
            background: linear-gradient(to right, var(--color-tertiary), var(--color-secondary));
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--color-success), #2ecc71);
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-danger {
            background: linear-gradient(to right, var(--color-error), #e74c3c);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }

        .btn-warning {
            background: linear-gradient(to right, var(--color-warning), #f39c12);
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }

        .btn-info {
            background: linear-gradient(to right, var(--color-info), #3498db);
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: var(--color-text-light);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 3px rgba(255, 166, 48, 0.2);
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--color-text-light);
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        /* Radio and Checkbox Styles */
        .radio-group, .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option, .checkbox-option {
            display: none;
        }

        .radio-label, .checkbox-label {
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .radio-option:checked + .radio-label,
        .checkbox-option:checked + .checkbox-label {
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            box-shadow: 0 4px 15px rgba(255, 166, 48, 0.3);
        }

        /* Animation Classes */
        .slide-in {
            animation: slideIn 0.5s forwards;
        }

        .slide-out {
            animation: slideOut 0.5s forwards;
        }

        .fade-in {
            animation: fadeIn 0.5s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(-100%); opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        /* Timer Styles */
        .timer {
            font-size: 1.8rem;
            font-weight: 700;
            text-align: center;
            margin: 20px 0;
            color: var(--color-text-light);
            transition: var(--transition);
        }

        .timer-warning {
            color: var(--color-warning);
            font-size: 2rem;
        }

        .timer-danger {
            color: var(--color-error);
            font-size: 2.2rem;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            z-index: 1000;
            animation: slideUp 0.5s forwards;
            max-width: 90%;
            text-align: center;
            font-size: 0.9rem;
        }

        @keyframes slideUp {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }

        /* Question Styles */
        .question-container {
            margin-bottom: 2rem;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }

        .option {
            padding: 15px;
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .option.correct {
            background: var(--color-success);
            animation: correctAnswer 0.5s;
        }

        .option.incorrect {
            background: var(--color-error);
            animation: incorrectAnswer 0.5s;
        }

        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            margin-top: 1.5rem;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            display: none;
        }

        /* Certificate Styles - REVISED FOR PRINTING */
        .certificate {
            background: white;
            color: var(--color-text-dark);
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            width: 210mm; /* A4 width */
            height: 297mm; /* A4 height */
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background-image: url('https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/certificate.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            page-break-after: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .certificate-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 40px 60px;
            margin: 0 auto;
            width: 80%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .certificate-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--color-primary-dark);
            text-transform: uppercase;
        }

        .certificate-code {
            font-size: 14px;
            margin-bottom: 30px;
            color: #555;
            letter-spacing: 1px;
        }

        .certificate-recipient {
            font-size: 48px;
            margin: 20px 0;
            font-weight: 600;
            color: var(--color-text-dark);
            font-family: 'Dancing Script', cursive;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .certificate-body {
            font-size: 16px;
            line-height: 1.6;
            margin: 10px 0;
            color: var(--color-text-dark);
        }

        .certificate-score {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary-dark);
            margin: 20px 0;
        }

        .certificate-motivation {
            font-style: italic;
            margin: 15px 0;
            font-size: 14px;
            color: #555;
        }

        .certificate-footer {
            margin-top: 30px;
            font-size: 12px;
            color: #555;
        }

        .certificate-signature {
            margin-top: 40px;
            font-size: 14px;
        }

        .certificate-barcode {
            margin: 15px auto;
            height: 80px;
            width: auto;
        }

        /* Floating Button Styles */
        .floating-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--color-secondary), var(--color-tertiary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: var(--box-shadow);
            cursor: pointer;
            transition: var(--transition);
            border: none;
        }

        .floating-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .floating-btn .tooltip {
            position: absolute;
            right: 60px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
            white-space: nowrap;
        }

        .floating-btn:hover .tooltip {
            opacity: 1;
            right: 70px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            color: var(--color-text-dark);
            border-radius: var(--border-radius);
            padding: 30px;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-primary-dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--color-error);
            transform: rotate(90deg);
        }

        /* Roman numeral styles */
        .roman {
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        /* Print Styles - REVISED FOR BETTER PRINTING */
        @media print {
            body * {
                visibility: hidden;
                background: white !important;
                color: black !important;
            }
            
            .certificate, 
            .certificate * {
                visibility: visible;
                background: transparent !important;
                color: #333 !important;
            }
            
            .certificate {
                position: absolute;
                left: 0;
                top: 0;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                background-image: url('https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/certificate.png') !important;
                background-size: cover !important;
                background-position: center !important;
                background-repeat: no-repeat !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
            }
            
            .certificate-content {
                padding: 40px 60px !important;
                margin: 0 auto !important;
                width: 80% !important;
                height: 100% !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
            }
            
            .certificate-recipient {
                font-size: 48px !important;
                font-family: 'Dancing Script', cursive !important;
            }
            
            .floating-buttons, 
            .results-summary, 
            .result-actions {
                display: none !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 0;
            }
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .container {
                padding: 20px 15px;
            }
            
            .card {
                padding: 25px;
            }
            
            .certificate-content {
                padding: 30px;
                width: 85%;
            }
            
            .certificate-title {
                font-size: 24px;
            }
            
            .certificate-recipient {
                font-size: 42px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.3rem; }
            
            .container {
                padding: 15px;
            }
            
            .card {
                padding: 20px;
            }
            
            .certificate-content {
                padding: 25px;
                width: 90%;
            }
            
            .certificate-title {
                font-size: 22px;
            }
            
            .certificate-recipient {
                font-size: 36px;
            }
            
            .floating-buttons {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }
        }

        @media (max-width: 576px) {
            h1 { font-size: 1.6rem; }
            h2 { font-size: 1.4rem; }
            h3 { font-size: 1.2rem; }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                width: 100%;
                margin: 5px 0;
            }
            
            .form-control {
                padding: 10px 12px;
                font-size: 0.9rem;
            }
            
            .certificate-content {
                padding: 20px;
                width: 95%;
            }
            
            .certificate-title {
                font-size: 20px;
            }
            
            .certificate-recipient {
                font-size: 32px;
            }
            
            .radio-group, .checkbox-group {
                flex-direction: column;
                gap: 8px;
            }
            
            .radio-label, .checkbox-label {
                padding: 8px 15px;
            }
            
            .exam-controls {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Admin Panel Specific Styles */
        .admin-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .admin-section h5 {
            color: var(--color-primary-dark);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-control-group {
            margin-bottom: 15px;
        }

        .admin-control-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
            color: var(--color-text-dark);
        }

        .admin-control-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            background: white;
            font-size: 14px;
            color: var(--color-text-dark);
        }

        .admin-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-success);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .participant-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 10px;
        }

        .participant-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .data-table th, .data-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .data-table th {
            background-color: #f5f5f5;
            font-weight: 600;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* Checkbox styles for participant selection */
        .select-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .select-all-checkbox {
            margin-right: 10px;
        }

        /* Bulk action controls */
        .bulk-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .selected-count {
            font-size: 14px;
            color: #666;
        }

        /* Edit Participant Modal */
        .edit-participant-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .edit-participant-content {
            background: white;
            color: var(--color-text-dark);
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .edit-participant-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        /* GPS Button Styles */
        .gps-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 15px;
            background: linear-gradient(to right, #4CAF50, #2ecc71);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 5px;
            font-size: 14px;
            transition: var(--transition);
        }
        
        .gps-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .gps-btn i {
            margin-right: 5px;
        }
        
        .gps-result {
            margin-top: 5px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            font-size: 14px;
        }

        /* Search Box Styles */
        .search-box {
            position: relative;
            margin-bottom: 15px;
        }

        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 35px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 14px;
            color: var(--color-text-dark);
        }

        .search-box i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        /* Certificate Validation Styles */
        .certificate-validation {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
        }

        .validation-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .valid {
            background-color: #d4edda;
            color: #155724;
        }

        .invalid {
            background-color: #f8d7da;
            color: #721c24;
        }

        /* Certificate Info Styles */
        .certificate-info {
            margin-top: 15px;
            padding: 10px;
            background: #e2e3e5;
            border-radius: 5px;
            font-size: 13px;
        }

        /* Terms content scrollable */
        .terms-content {
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        /* Results summary grid */
        .results-summary {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .results-summary p {
            margin-bottom: 0.5rem;
        }

        /* Exam controls grid */
        .exam-controls {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        /* Result actions grid */
        .result-actions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }

        /* Small text styles */
        .text-muted {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="celebration-particles"></div>
    
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="card slide-in">
            <div class="header">
                <img src="https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/logo.png" alt="PERGUNUSMART Logo" class="logo">
                <h1>Ujian Online CPNS/P3K</h1>
            </div>
            
            <div id="greeting-message">
                <p id="greeting-text">Selamat datang di sistem ujian online CPNS/P3K. Silakan masukkan kode login untuk melanjutkan.</p>
            </div>
            
            <div class="form-group">
                <label for="login-code" class="form-label">Kode Login</label>
                <input type="password" id="login-code" class="form-control" placeholder="Masukkan kode login">
                <small class="text-muted">Kode login diberikan oleh admin</small>
            </div>
            
            <button id="login-btn" class="btn">Masuk</button>
        </div>
        
        <!-- Terms Screen (Hidden Initially) -->
        <div id="terms-screen" class="card" style="display: none;">
            <h2>Peraturan dan Kebijakan Ujian Online</h2>
            <div class="terms-content">
                <p>1. Ujian ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU.</p>
                <p>2. Peserta wajib mengisi data diri dengan benar dan lengkap.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Waktu ujian akan berjalan terus dan tidak dapat dihentikan.</p>
                <p>5. Jawaban yang sudah dipilih tidak dapat diubah.</p>
                <p>6. Soal yang tidak dijawab akan dianggap salah.</p>
                <p>7. Hasil ujian akan ditampilkan setelah waktu habis atau peserta menyelesaikan ujian.</p>
                <p>8. Sertifikat akan diberikan kepada peserta yang menyelesaikan ujian.</p>
                <p>9. Keputusan panitia ujian bersifat mutlak dan tidak dapat diganggu gugat.</p>
            </div>
            
            <div class="form-group">
                <input type="checkbox" id="agree-terms" class="checkbox-option">
                <label for="agree-terms" class="checkbox-label">Saya menyetujui</label>
            </div>
            
            <button id="continue-btn" class="btn" disabled>Lanjut Ikut Ujian</button>
        </div>
        
        <!-- Participant Form (Hidden Initially) -->
        <div id="participant-form" class="card" style="display: none;">
            <h2>Formulir Data Peserta</h2>
            <p>Silakan isi data diri Anda dengan benar. Data ini akan digunakan untuk sertifikat ujian.</p>
            
            <div class="form-group">
                <label for="fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="fullname" class="form-control" placeholder="Masukkan nama lengkap" oninput="validateNameInput(this)">
            </div>
            
            <div class="form-group">
                <label for="address" class="form-label">Alamat</label>
                <input type="text" id="address" class="form-control" placeholder="Masukkan alamat lengkap">
                <button id="get-location-btn" class="gps-btn">
                    <i class="fas fa-map-marker-alt"></i> Gunakan GPS
                </button>
                <div id="gps-result" class="gps-result" style="display: none;"></div>
            </div>
            
            <div class="form-group">
                <label for="phone" class="form-label">Nomor WhatsApp Aktif</label>
                <input type="tel" id="phone" class="form-control" placeholder="Masukkan nomor WhatsApp" pattern="[0-9]{10,13}" oninput="validatePhoneInput(this)">
                <small class="text-muted">Contoh: 6281234567890 (10-13 digit)</small>
            </div>
            
            <div class="form-group">
                <label for="email" class="form-label">Email Alamat</label>
                <input type="email" id="email" class="form-control" placeholder="Masukkan alamat email" pattern="[a-z0-9._%+-]+@(gmail|yahoo|hotmail)\.com$">
                <small class="text-muted">Hanya menerima @gmail.com, @yahoo.com, atau @hotmail.com</small>
            </div>
            
            <div class="form-group">
                <label for="cpns-license" class="form-label">Kode Lisensi Ujian CPNS/P3K</label>
                <input type="password" id="cpns-license" class="form-control" placeholder="Masukkan kode lisensi">
                <small class="text-muted">Kode lisensi diberikan oleh admin</small>
            </div>
            
            <!-- Admin Information -->
            <div class="form-group" id="admin-info" style="margin-top: 30px;">
                <p>Informasi berkala dari admin:</p>
                <div style="padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 8px;">
                    <p id="admin-message">Tidak ada informasi terbaru saat ini.</p>
                </div>
            </div>
            
            <button id="save-participant-btn" class="btn" disabled>Mulai Ujian Sekarang</button>
        </div>
        
        <!-- Exam Screen (Hidden Initially) -->
        <div id="exam-screen" class="card" style="display: none;">
            <div class="timer" id="exam-timer">02:00:00</div>
            
            <div class="question-container">
                <div class="question" id="question-text">Memuat soal...</div>
                
                <div class="options" id="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
                
                <div class="explanation" id="explanation-text">
                    <!-- Explanation will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finish-exam-btn" class="btn btn-danger">Selesaikan Ujian Sekarang</button>
                <button id="skip-question-btn" class="btn btn-warning">Lewati Soal</button>
                <button id="unanswered-btn" class="btn btn-info">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <!-- Results Screen (Hidden Initially) -->
        <div id="results-screen" class="card" style="display: none;">
            <h2>Hasil Ujian</h2>
            
            <div class="results-summary">
                <p>Nama: <span id="result-name"></span></p>
                <p>Alamat: <span id="result-address"></span></p>
                <p>WhatsApp: <span id="result-phone"></span></p>
                <p>Email: <span id="result-email"></span></p>
                <p>Jumlah Soal: <span id="total-questions"></span></p>
                <p>Jawaban Benar: <span id="correct-answers"></span></p>
                <p>Jawaban Salah: <span id="wrong-answers"></span></p>
                <p>Tidak Dijawab: <span id="unanswered-questions"></span></p>
                <p>Nilai: <span id="exam-score"></span></p>
            </div>
            
            <div class="certificate-container" id="certificate-container" style="display: none;">
                <!-- Certificate will be generated here -->
            </div>
            
            <div class="result-actions">
                <button id="print-certificate-btn" class="btn btn-success">Cetak Sertifikat</button>
                <button id="retake-exam-btn" class="btn btn-info">Ulangi Ujian</button>
            </div>
        </div>
    </div>
    
    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn" id="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
            <span class="tooltip">Chat Admin</span>
        </button>
        
        <button class="floating-btn" id="admin-panel-btn">
            <i class="fas fa-cog"></i>
            <span class="tooltip">Admin Panel</span>
        </button>
    </div>
    
    <!-- Modals -->
    <!-- Admin Panel Modal -->
    <div class="modal" id="admin-panel-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Kontrol Panel Admin</h3>
                <button class="modal-close" id="close-admin-panel-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="admin-panel-code" class="form-label">Kode Admin</label>
                    <input type="password" id="admin-panel-code" class="form-control" placeholder="Masukkan kode admin" style="color: var(--color-text-dark);">
                    <button id="submit-admin-panel-code" class="btn">Masuk</button>
                </div>
                
                <div id="admin-panel-content" style="display: none;">
                    <div class="admin-section">
                        <h5>Pengaturan Kode</h5>
                        <div class="form-group">
                            <label class="form-label">Kode Login Baru</label>
                            <input type="password" id="new-login-code" class="form-control" placeholder="Masukkan kode login baru" style="color: var(--color-text-dark);">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Lisensi CPNS Baru</label>
                            <input type="password" id="new-cpns-code" class="form-control" placeholder="Masukkan kode lisensi CPNS baru" style="color: var(--color-text-dark);">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Kode Admin Baru</label>
                            <input type="password" id="new-admin-code" class="form-control" placeholder="Masukkan kode admin baru" style="color: var(--color-text-dark);">
                        </div>
                        
                        <button id="save-codes-btn" class="btn btn-success">Simpan Kode</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Ujian</h5>
                        <div class="admin-controls">
                            <div class="admin-control-group">
                                <label class="admin-control-label">Durasi Ujian (menit)</label>
                                <input type="number" id="exam-duration" class="admin-control-input" value="120" min="5">
                            </div>
                            <div class="admin-control-group">
                                <label class="admin-control-label">Jumlah Soal</label>
                                <input type="number" id="question-count" class="admin-control-input" value="30" min="1">
                            </div>
                        </div>
                        <div class="admin-control-group">
                            <label class="admin-control-label">Acak Soal</label>
                            <div class="admin-toggle">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="randomize-questions" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                                <span id="randomize-status">Aktif</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Pengaturan Konten</h5>
                        <div class="form-group">
                            <label class="form-label">Pesan Pembuka</label>
                            <textarea id="greeting-message-input" class="form-control" rows="3" style="color: var(--color-text-dark);">Selamat datang di sistem ujian online CPNS/P3K. Silakan masukkan kode login untuk melanjutkan.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Informasi Berkala</label>
                            <textarea id="admin-message-input" class="form-control" rows="3" style="color: var(--color-text-dark);">Tidak ada informasi terbaru saat ini.</textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nama Ketua PERGUNU</label>
                            <input type="text" id="chairman-name" class="form-control" value="Moh. Nuril Hudha, S.Pd., M.Si." style="color: var(--color-text-dark);">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Pesan Motivasi Sertifikat</label>
                            <textarea id="motivation-message-input" class="form-control" rows="3" style="color: var(--color-text-dark);"></textarea>
                        </div>
                        <button id="save-content-btn" class="btn btn-success">Simpan Perubahan</button>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Manajemen Peserta</h5>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="participant-search" class="form-control" placeholder="Cari peserta..." style="color: var(--color-text-dark);">
                        </div>
                        <div class="bulk-actions">
                            <input type="checkbox" id="select-all-participants" class="select-all-checkbox">
                            <span class="selected-count" id="selected-count">0 dipilih</span>
                            <button id="edit-selected-btn" class="btn btn-info" disabled><i class="fas fa-edit"></i> Edit</button>
                            <button id="delete-selected-btn" class="btn btn-danger" disabled><i class="fas fa-trash"></i> Hapus</button>
                        </div>
                        <div class="participant-list">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="select-all-header" class="select-checkbox"></th>
                                        <th>Tanggal</th>
                                        <th>Nama</th>
                                        <th>WhatsApp</th>
                                        <th>Email</th>
                                        <th>Nilai</th>
                                        <th>Kode Sertifikat</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="participants-table-body">
                                    <!-- Participant data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h5>Validasi Sertifikat</h5>
                        <div class="certificate-validation">
                            <div class="form-group">
                                <label class="form-label">Masukkan Kode Sertifikat</label>
                                <input type="text" id="certificate-code-input" class="form-control" placeholder="Masukkan kode sertifikat" style="color: var(--color-text-dark);">
                                <button id="validate-certificate-btn" class="btn btn-info">Validasi</button>
                            </div>
                            <div id="validation-result" class="validation-result" style="display: none;"></div>
                            <div id="certificate-info" class="certificate-info" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Participant Modal -->
    <div class="edit-participant-modal" id="edit-participant-modal">
        <div class="edit-participant-content">
            <span class="edit-participant-close" id="close-edit-participant-modal">&times;</span>
            <h3>Edit Data Peserta</h3>
            
            <input type="hidden" id="edit-participant-index">
            
            <div class="form-group">
                <label for="edit-fullname" class="form-label">Nama Lengkap</label>
                <input type="text" id="edit-fullname" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-address" class="form-label">Alamat</label>
                <input type="text" id="edit-address" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-phone" class="form-label">Nomor WhatsApp</label>
                <input type="tel" id="edit-phone" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-email" class="form-label">Email</label>
                <input type="email" id="edit-email" class="form-control" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-score" class="form-label">Nilai (%)</label>
                <input type="number" id="edit-score" class="form-control" min="0" max="100" style="color: var(--color-text-dark);">
            </div>
            
            <div class="form-group">
                <label for="edit-certificate-code" class="form-label">Kode Sertifikat</label>
                <input type="text" id="edit-certificate-code" class="form-control" style="color: var(--color-text-dark);" readonly>
            </div>
            
            <div class="form-group" style="display: flex; justify-content: space-between;">
                <button id="save-edit-participant-btn" class="btn btn-success">Simpan Perubahan</button>
                <button id="cancel-edit-participant-btn" class="btn btn-danger">Batal</button>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="time-warning" style="display: none;">
        Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.
    </div>

    <!-- Audio Elements -->
    <audio id="audio-opening" src="https://voca.ro/1a8eWbggFzfB" preload="auto"></audio>
    <audio id="audio-button-click" src="https://voca.ro/16oVT0NTCKF0" preload="auto"></audio>
    <audio id="audio-correct" src="https://voca.ro/1emZhDVU89XS" preload="auto"></audio>
    <audio id="audio-wrong" src="https://voca.ro/17HW0ShxqM9B" preload="auto"></audio>
    <audio id="audio-applause" src="https://voca.ro/13NRsLENyQRIs" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Global variables
        let currentScreen = 'welcome';
        let participantData = {};
        let examData = {};
        let questions = [];
        let currentQuestionIndex = 0;
        let answeredQuestions = {};
        let examTimer;
        let examTimeLeft = 120 * 60; // 120 minutes in seconds
        let originalQuestions = []; // Store original questions before randomization
        
        // Audio elements
        const audioOpening = document.getElementById('audio-opening');
        const audioButtonClick = document.getElementById('audio-button-click');
        const audioCorrect = document.getElementById('audio-correct');
        const audioWrong = document.getElementById('audio-wrong');
        const audioApplause = document.getElementById('audio-applause');
        
        // Default codes (should be changed in production)
        const DEFAULT_LOGIN_CODE = '12345';
        const DEFAULT_CPNS_LICENSE_CODE = 'OPENLOCK-1945';
        const DEFAULT_ADMIN_PANEL_CODE = '65614222';
        
        // Store participants data with enhanced storage mechanism
        let participantsData = [];
        
        // Store admin settings with enhanced storage mechanism
        let adminSettings = {
            loginCode: DEFAULT_LOGIN_CODE,
            cpnsLicenseCode: DEFAULT_CPNS_LICENSE_CODE,
            adminPanelCode: DEFAULT_ADMIN_PANEL_CODE,
            examDuration: 120,
            questionCount: 100,
            randomizeQuestions: true,
            greetingMessage: "Selamat datang di sistem ujian online CPNS/P3K. Silakan masukkan kode login untuk melanjutkan.",
            adminMessage: "Tidak ada informasi terbaru saat ini.",
            chairmanName: "Moh. Nuril Hudha, S.Pd., M.Si.",
            motivationMessage: ""
        };
        
        // Initialize question bank with sample questions
        function initializeQuestionBank() {
            const initialQuestions = [
                        {
            question: "Dalam penyelenggaraan pemerintahan daerah, asas otonomi daerah dilaksanakan berdasarkan prinsip-prinsip tertentu. Berikut ini yang BUKAN merupakan prinsip penyelenggaraan otonomi daerah menurut UU No. 23 Tahun 2014 adalah:",
            options: [
                "A. Prinsip kepastian hukum",
                "B. Prinsip kepentingan umum",
                "C. Prinsip profesionalitas",
                "D. Prinsip efisiensi",
                "E. Prinsip sentralisasi kekuasaan"
            ],
            correctAnswer: 4,
            explanation: "Prinsip sentralisasi kekuasaan bukan merupakan prinsip penyelenggaraan otonomi daerah. Otonomi daerah justru menganut prinsip desentralisasi, dekonsentrasi, dan tugas pembantuan."
        },
        {
            question: "Menurut Peraturan Pemerintah No. 12 Tahun 2017 tentang Pembinaan dan Pengawasan Penyelenggaraan Pemerintahan Daerah, berikut ini yang termasuk dalam kategori urusan pemerintahan absolut adalah:",
            options: [
                "A. Pendidikan",
                "B. Kesehatan",
                "C. Pertahanan dan keamanan",
                "D. Perumahan rakyat",
                "E. Pertanian"
            ],
            correctAnswer: 2,
            explanation: "Pertahanan dan keamanan termasuk urusan pemerintahan absolut yang sepenuhnya menjadi kewenangan pemerintah pusat, bersama dengan politik luar negeri, yustisi, moneter dan fiskal nasional, serta agama."
        },
        {
            question: "Dalam konteks penyelenggaraan pemerintahan daerah, apa yang dimaksud dengan 'asas tugas pembantuan'?",
            options: [
                "A. Penyerahan wewenang dari pemerintah pusat kepada pemerintah daerah",
                "B. Pelimpahan wewenang dari pemerintah pusat kepada gubernur sebagai wakil pemerintah",
                "C. Penugasan dari pemerintah kepada daerah untuk melaksanakan tugas tertentu yang disertai pembiayaan dan sarana prasarana",
                "D. Pengalihan tanggung jawab dari pemerintah pusat kepada pemerintah daerah secara penuh",
                "E. Pemberian hak otonomi khusus kepada daerah tertentu"
            ],
            correctAnswer: 2,
            explanation: "Tugas pembantuan adalah penugasan dari pemerintah kepada daerah dan/atau desa untuk melaksanakan tugas tertentu yang disertai pembiayaan, sarana dan prasarana, serta sumber daya manusia dengan kewajiban melaporkan pelaksanaannya dan mempertanggungjawabkannya kepada yang menugaskan."
        },
        {
            question: "Berdasarkan UU No. 30 Tahun 2014 tentang Administrasi Pemerintahan, dalam hal keputusan atau tindakan administrasi pemerintahan digugat ke Pengadilan Tata Usaha Negara (PTUN), asas yang berlaku adalah:",
            options: [
                "A. Asas praduga bersalah",
                "B. Asas praduga benar",
                "C. Asas in dubio pro reo",
                "D. Asas equality before the law",
                "E. Asas legalitas"
            ],
            correctAnswer: 1,
            explanation: "Asas praduga benar (presumptio iustae causa) berlaku dalam hukum administrasi negara dimana setiap keputusan atau tindakan administrasi pemerintahan dianggap benar sampai ada pembatalan atau perubahan melalui proses hukum yang berlaku."
        },
        {
            question: "Dalam konteks hubungan pusat dan daerah, apa fungsi utama dari Dewan Pertimbangan Otonomi Daerah (DPOD)?",
            options: [
                "A. Mengawasi penggunaan dana otonomi khusus",
                "B. Memberikan pertimbangan kepada Presiden mengenai kebijakan otonomi daerah",
                "C. Menyelesaikan sengketa antar daerah",
                "D. Mengevaluasi kinerja kepala daerah",
                "E. Memantau pelaksanaan pemilihan kepala daerah"
            ],
            correctAnswer: 1,
            explanation: "DPOD berfungsi memberikan pertimbangan kepada Presiden mengenai kebijakan otonomi daerah, termasuk pemekaran daerah, penggabungan daerah, dan perubahan status daerah."

        },

        // Kepegawaian (5 soal)
        {
            question: "Berdasarkan UU No. 5 Tahun 2014 tentang Aparatur Sipil Negara, berikut ini yang termasuk dalam prinsip dasar penyelenggaraan manajemen ASN adalah:",
            options: [
                "A. Prinsip kekerabatan",
                "B. Prinsip kesukuan",
                "C. Prinsip nilai dasar, kode etik, dan kode perilaku",
                "D. Prinsip kekeluargaan",
                "E. Prinsip senioritas"
            ],
            correctAnswer: 2,
            explanation: "Prinsip nilai dasar, kode etik, dan kode perilaku merupakan salah satu prinsip dasar manajemen ASN, bersama dengan prinsip meritokrasi, prinsip nasionalisme, prinsip netralitas, dan prinsip kepastian hukum."
        },
        {
            question: "Menurut Peraturan Pemerintah No. 11 Tahun 2017 tentang Manajemen Pegawai Negeri Sipil, komponen yang termasuk dalam penilaian prestasi kerja PNS adalah sebagai berikut, KECUALI:",
            options: [
                "A. Sasaran kerja pegawai",
                "B. Perilaku kerja",
                "C. Kehadiran dalam rapat",
                "D. Kompetensi",
                "E. Pengembangan kompetensi"
            ],
            correctAnswer: 2,
            explanation: "Kehadiran dalam rapat bukan merupakan komponen penilaian prestasi kerja PNS. Komponen penilaian meliputi sasaran kerja pegawai, perilaku kerja, kompetensi, dan pengembangan kompetensi."
        },
        {
            question: "Dalam sistem kepegawaian pemerintah daerah, apa yang dimaksud dengan 'jabatan fungsional tertentu'?",
            options: [
                "A. Jabatan yang bersifat struktural dalam organisasi pemerintah daerah",
                "B. Jabatan yang hanya ada di pemerintah pusat",
                "C. Jabatan yang diduduki berdasarkan keahlian khusus dan bersifat mandiri",
                "D. Jabatan yang dibentuk khusus untuk proyek-proyek pembangunan",
                "E. Jabatan yang hanya bersifat sementara"
            ],
            correctAnswer: 2,
            explanation: "Jabatan fungsional tertentu adalah jabatan yang diduduki oleh PNS dengan keahlian khusus dan bersifat mandiri yang ditetapkan berdasarkan peraturan perundang-undangan untuk menyelenggarakan fungsi pemerintahan tertentu."
        },
        {
            question: "Berdasarkan Peraturan Pemerintah No. 17 Tahun 2020 tentang Perubahan atas PP No. 53 Tahun 2010 tentang Disiplin PNS, berikut ini yang termasuk hukuman disiplin berat adalah:",
            options: [
                "A. Teguran lisan",
                "B. Teguran tertulis",
                "C. Pernyataan tidak puas secara tertulis",
                "D. Penundaan kenaikan gaji berkala selama 1 tahun",
                "E. Pemberhentian dengan tidak hormat sebagai PNS"
            ],
            correctAnswer: 4,
            explanation: "Pemberhentian dengan tidak hormat sebagai PNS termasuk hukuman disiplin berat, bersama dengan penurunan pangkat setingkat lebih rendah selama 3 tahun dan pembebasan dari jabatan."
        },
        {
            question: "Dalam konteks pengadaan CPNS, apa yang dimaksud dengan 'formasi' berdasarkan Peraturan Menteri PANRB No. 27 Tahun 2021?",
            options: [
                "A. Jumlah total PNS di suatu instansi",
                "B. Alokasi jumlah dan jenis jabatan yang dapat diisi melalui pengadaan CPNS",
                "C. Struktur organisasi suatu instansi pemerintah",
                "D. Daftar kebutuhan tenaga honorer yang akan diangkat sebagai PNS",
                "E. Rencana pengembangan karir PNS"
            ],
            correctAnswer: 1,
            explanation: "Formasi adalah alokasi jumlah dan jenis jabatan yang dapat diisi melalui pengadaan CPNS pada instansi tertentu dalam tahun anggaran berjalan yang ditetapkan oleh Menteri PANRB."

        },

        // Keuangan Daerah (5 soal)
        {
            question: "Berdasarkan UU No. 1 Tahun 2022 tentang Hubungan Keuangan antara Pemerintah Pusat dan Pemerintah Daerah, berikut ini yang termasuk dalam kategori Pendapatan Asli Daerah (PAD) adalah:",
            options: [
                "A. Dana Alokasi Umum",
                "B. Dana Bagi Hasil",
                "C. Dana Alokasi Khusus",
                "D. Pajak daerah",
                "E. Dana Otonomi Khusus"
            ],
            correctAnswer: 3,
            explanation: "Pajak daerah termasuk dalam Pendapatan Asli Daerah (PAD) bersama dengan retribusi daerah, hasil pengelolaan kekayaan daerah yang dipisahkan, dan lain-lain PAD yang sah."
        },
        {
            question: "Menurut Peraturan Menteri Dalam Negeri No. 13 Tahun 2006 tentang Pedoman Pengelolaan Keuangan Daerah, prinsip-prinsip pengelolaan keuangan daerah meliputi hal-hal berikut, KECUALI:",
            options: [
                "A. Prinsip transparansi",
                "B. Prinsip akuntabilitas",
                "C. Prinsip partisipasi",
                "D. Prinsip diskresi",
                "E. Prinsip efisiensi"
            ],
            correctAnswer: 3,
            explanation: "Prinsip diskresi bukan merupakan prinsip pengelolaan keuangan daerah. Prinsip pengelolaan keuangan daerah meliputi transparansi, akuntabilitas, partisipasi, efisiensi, efektivitas, dan nilai uang."
        },
        {
            question: "Dalam sistem akuntansi keuangan daerah, apa yang dimaksud dengan 'belanja langsung'?",
            options: [
                "A. Belanja yang manfaatnya dirasakan langsung oleh masyarakat",
                "B. Belanja yang dialokasikan untuk program/kegiatan dan dapat diukur kontribusinya terhadap output",
                "C. Belanja yang dibayarkan tunai kepada penerima",
                "D. Belanja yang tidak melalui proses tender",
                "E. Belanja yang dikelola langsung oleh pemerintah pusat"
            ],
            correctAnswer: 1,
            explanation: "Belanja langsung adalah belanja yang dialokasikan untuk program/kegiatan dan dapat diukur kontribusinya secara langsung terhadap output tertentu, seperti belanja pegawai, belanja barang dan jasa, serta belanja modal yang terkait langsung dengan program/kegiatan."
        },
        {
            question: "Berdasarkan Peraturan Pemerintah No. 12 Tahun 2019 tentang Pengelolaan Dana Desa, alokasi dana desa dari APBN ditetapkan minimal:",
            options: [
                "A. 5% dari dan di luar dana transfer daerah",
                "B. 10% dari dana transfer daerah",
                "C. 15% dari dana bagi hasil",
                "D. 20% dari dana alokasi umum",
                "E. 25% dari pendapatan asli daerah"
            ],
            correctAnswer: 1,
            explanation: "Alokasi dana desa dari APBN ditetapkan minimal 10% dari dan di luar dana transfer daerah secara nasional yang ditetapkan dalam APBN."
        },
        {
            question: "Dalam konteks pengelolaan keuangan daerah, apa fungsi utama dari Tim Koordinasi Penyelenggaraan Sistem Informasi Keuangan Daerah (TK-SIKD)?",
            options: [
                "A. Mengawasi penggunaan dana hibah",
                "B. Mengkoordinasikan penerapan sistem informasi keuangan daerah",
                "C. Mengevaluasi kinerja kepala daerah dalam pengelolaan keuangan",
                "D. Menyusun laporan keuangan pemerintah pusat",
                "E. Memverifikasi kebenaran laporan keuangan BUMD"
            ],
            correctAnswer: 1,
            explanation: "TK-SIKD berfungsi mengkoordinasikan penerapan sistem informasi keuangan daerah untuk mendukung transparansi dan akuntabilitas pengelolaan keuangan daerah."

        },

        // Aset Daerah (5 soal)
        {
            question: "Berdasarkan Peraturan Menteri Dalam Negeri No. 19 Tahun 2016 tentang Pedoman Pengelolaan Barang Milik Daerah, berikut ini yang termasuk dalam kategori barang milik daerah adalah:",
            options: [
                "A. Barang yang dibeli dengan dana pribadi pejabat daerah",
                "B. Barang yang diperoleh dari hibah/sumbangan pihak lain",
                "C. Barang inventaris partai politik",
                "D. Barang milik BUMN",
                "E. Barang milik perorangan yang digunakan untuk kepentingan daerah"
            ],
            correctAnswer: 1,
            explanation: "Barang yang diperoleh dari hibah/sumbangan pihak lain termasuk dalam kategori barang milik daerah, bersama dengan barang yang dibeli dengan APBD, barang yang diperoleh dari dana perimbangan, dan barang yang dihasilkan sendiri oleh daerah."
        },
        {
            question: "Menurut Permendagri No. 19 Tahun 2016, prinsip-prinsip pengelolaan barang milik daerah meliputi hal-hal berikut, KECUALI:",
            options: [
                "A. Prinsip fungsional",
                "B. Prinsip kepastian hukum",
                "C. Prinsip efisiensi",
                "D. Prinsip akuntabilitas",
                "E. Prinsip kekeluargaan"
            ],
            correctAnswer: 4,
            explanation: "Prinsip kekeluargaan bukan merupakan prinsip pengelolaan barang milik daerah. Prinsip pengelolaan BMD meliputi fungsional, kepastian hukum, efisiensi, efektivitas, transparansi, akuntabilitas, dan kepastian nilai."
        },
        {
            question: "Dalam pengelolaan aset daerah, apa yang dimaksud dengan 'pemindahtanganan barang milik daerah'?",
            options: [
                "A. Penghapusan barang dari daftar inventaris",
                "B. Pengalihan kepemilikan BMD kepada pihak lain",
                "C. Pemindahan lokasi barang antar SKPD",
                "D. Penyewaan barang milik daerah",
                "E. Pemeliharaan rutin barang milik daerah"
            ],
            correctAnswer: 1,
            explanation: "Pemindahtanganan barang milik daerah adalah pengalihan kepemilikan BMD kepada pihak lain melalui penjualan, tukar menukar, penyertaan modal, atau hibah sesuai ketentuan perundang-undangan."
        },
        {
            question: "Berdasarkan Permendagri No. 19 Tahun 2016, berikut ini yang termasuk dalam kriteria barang milik daerah yang dapat dihapuskan adalah:",
            options: [
                "A. Barang yang masih dalam masa garansi",
                "B. Barang yang sudah tidak digunakan lagi karena rusak berat",
                "C. Barang yang baru dibeli tahun berjalan",
                "D. Barang yang masih memiliki nilai historis tinggi",
                "E. Barang yang menjadi koleksi museum daerah"
            ],
            correctAnswer: 1,
            explanation: "Barang yang sudah tidak digunakan lagi karena rusak berat termasuk kriteria yang dapat dihapuskan, bersama dengan barang yang sudah habis masa pakainya, barang yang secara teknis dan ekonomis tidak dapat diperbaiki, dan barang yang biaya perbaikannya lebih mahal dari nilai ekonominya."
        },
        {
            question: "Dalam konteks pengelolaan aset daerah, apa fungsi utama dari Unit Pengelola Barang Milik Daerah (UPBMD)?",
            options: [
                "A. Melakukan penilaian terhadap kinerja kepala daerah",
                "B. Mengelola administrasi dan fisik barang milik daerah",
                "C. Menyusun laporan keuangan pemerintah pusat",
                "D. Memverifikasi kebenaran laporan keuangan BUMD",
                "E. Mengawasi pelaksanaan APBD"
            ],
            correctAnswer: 1,
            explanation: "UPBMD berfungsi mengelola administrasi dan fisik barang milik daerah untuk mendukung penyelenggaraan pemerintahan daerah dan pelayanan publik."

        },

        // Layanan Operasional (5 soal)
        {
            question: "Berdasarkan Peraturan Pemerintah No. 96 Tahun 2012 tentang Pelaksanaan Undang-Undang No. 25 Tahun 2009 tentang Pelayanan Publik, berikut ini yang termasuk dalam prinsip-prinsip pelayanan publik adalah:",
            options: [
                "A. Prinsip diskriminasi",
                "B. Prinsip kekeluargaan",
                "C. Prinsip kesetaraan",
                "D. Prinsip senioritas",
                "E. Prinsip kekerabatan"
            ],
            correctAnswer: 2,
            explanation: "Prinsip kesetaraan merupakan salah satu prinsip pelayanan publik, bersama dengan kepentingan umum, kepastian hukum, keadilan, profesionalitas, partisipatif, dan akuntabilitas."
        },
        {
            question: "Menurut Permendagri No. 5 Tahun 2021 tentang Standar Pelayanan Minimal, berikut ini yang termasuk dalam kriteria Standar Pelayanan Minimal (SPM) adalah:",
            options: [
                "A. Jenis pelayanan yang bersifat diskresioner",
                "B. Jenis pelayanan dasar yang wajib disediakan pemerintah daerah",
                "C. Jenis pelayanan yang hanya untuk kalangan tertentu",
                "D. Jenis pelayanan yang bersifat komersial",
                "E. Jenis pelayanan yang tidak diatur dalam peraturan perundangan"
            ],
            correctAnswer: 1,
            explanation: "SPM adalah jenis pelayanan dasar yang wajib disediakan oleh pemerintah daerah kepada masyarakat dalam rangka pemenuhan kebutuhan dasar warga negara secara minimal."
        },
        {
            question: "Dalam sistem pelayanan perizinan terpadu, apa yang dimaksud dengan 'pelayanan satu atap'?",
            options: [
                "A. Pelayanan yang hanya dilakukan di atap gedung pemerintah",
                "B. Pelayanan yang disediakan khusus untuk industri atap",
                "C. Pelayanan perizinan yang terpusat di satu lokasi fisik",
                "D. Pelayanan yang hanya tersedia di ibukota provinsi",
                "E. Pelayanan yang menggunakan sistem atap bangunan sebagai dasar perizinan"
            ],
            correctAnswer: 2,
            explanation: "Pelayanan satu atap adalah penyelenggaraan pelayanan perizinan dan non-perizinan yang terpusat di satu lokasi fisik untuk memudahkan masyarakat mengakses berbagai jenis pelayanan."
        },
        {
            question: "Berdasarkan PP No. 96 Tahun 2012, berikut ini yang termasuk dalam hak masyarakat dalam pelayanan publik adalah:",
            options: [
                "A. Hak untuk tidak membayar retribusi",
                "B. Hak untuk memperoleh pelayanan yang diskriminatif",
                "C. Hak untuk memperoleh pelayanan sesuai standar",
                "D. Hak untuk meminta pelayanan di luar jam kerja",
                "E. Hak untuk tidak menunjukkan identitas diri"
            ],
            correctAnswer: 2,
            explanation: "Masyarakat berhak memperoleh pelayanan sesuai standar pelayanan, mendapatkan informasi yang jelas tentang pelayanan, dan menyampaikan pengaduan jika pelayanan tidak sesuai standar."
        },
        {
            question: "Dalam konteks pelayanan publik, apa fungsi utama dari Unit Pengelola Pelayanan Terpadu Satu Pintu (PTSP)?",
            options: [
                "A. Mengawasi penggunaan dana hibah",
                "B. Mengkoordinasikan pelayanan perizinan dan non-perizinan",
                "C. Mengevaluasi kinerja kepala daerah",
                "D. Menyusun laporan keuangan pemerintah pusat",
                "E. Memverifikasi kebenaran laporan keuangan BUMD"
            ],
            correctAnswer: 1,
            explanation: "PTSP berfungsi mengkoordinasikan pelayanan perizinan dan non-perizinan dalam satu lokasi untuk meningkatkan efisiensi dan efektivitas pelayanan kepada masyarakat."
        },
        {
            question: "Berdasarkan Permendagri No. 100 Tahun 2019 tentang Klasifikasi, Kualifikasi, dan Standardisasi Jabatan di Lingkungan Pemerintah Daerah, berikut yang termasuk dalam kriteria Jabatan Pimpinan Tinggi Pratama adalah:",
            options: [
                "A. Sekretaris Daerah Provinsi",
                "B. Kepala Dinas Kabupaten/Kota",
                "C. Camat",
                "D. Lurah",
                "E. Kepala Sub Bagian"
            ],
            correctAnswer: 1,
            explanation: "Kepala Dinas Kabupaten/Kota termasuk dalam Jabatan Pimpinan Tinggi Pratama sesuai Permendagri No. 100 Tahun 2019, bersama dengan jabatan setingkat di lingkungan pemerintah daerah."
        },
        {
            question: "Dalam penyusunan Peraturan Daerah (Perda), tahapan konsultasi publik yang melibatkan masyarakat secara luas dilakukan pada fase:",
            options: [
                "A. Penyusunan Naskah Akademik",
                "B. Pembahasan di DPRD",
                "C. Pengundangan",
                "D. Evaluasi setelah berlaku",
                "E. Penyusunan rancangan final"
            ],
            correctAnswer: 0,
            explanation: "Konsultasi publik dilakukan pada fase penyusunan Naskah Akademik untuk menjaring aspirasi masyarakat sebelum rancangan Perda dibahas lebih lanjut."
        },
        {
            question: "Menurut Permendagri No. 80 Tahun 2015 tentang Pembentukan Produk Hukum Daerah, yang berwenang menetapkan Peraturan Bupati/Walikota adalah:",
            options: [
                "A. DPRD Kabupaten/Kota",
                "B. Bupati/Walikota",
                "C. Gubernur",
                "D. Menteri Dalam Negeri",
                "E. Sekretaris Daerah"
            ],
            correctAnswer: 1,
            explanation: "Bupati/Walikota berwenang menetapkan Peraturan Bupati/Walikota sebagai produk hukum daerah di tingkat kabupaten/kota."
        },
        {
            question: "Dalam sistem pemerintahan daerah, fungsi pengawasan oleh DPRD terhadap kepala daerah mencakup hal-hal berikut, KECUALI:",
            options: [
                "A. Pengawasan terhadap pelaksanaan Perda",
                "B. Pengawasan terhadap kebijakan kepala daerah",
                "C. Pengawasan kinerja kepala daerah",
                "D. Pengawasan teknis operasional harian SKPD",
                "E. Pengawasan terhadap APBD"
            ],
            correctAnswer: 3,
            explanation: "DPRD tidak melakukan pengawasan teknis operasional harian Satuan Kerja Perangkat Daerah (SKPD) karena hal tersebut merupakan kewenangan kepala daerah."
        },
        {
            question: "Berdasarkan UU No. 23 Tahun 2014 tentang Pemerintahan Daerah, kewenangan wajib pemerintah daerah yang berkaitan dengan pelayanan dasar mencakup:",
            options: [
                "A. Pertahanan dan keamanan",
                "B. Politik luar negeri",
                "C. Pendidikan",
                "D. Moneter dan fiskal",
                "E. Agama"
            ],
            correctAnswer: 2,
            explanation: "Pendidikan termasuk kewenangan wajib pemerintah daerah yang berkaitan dengan pelayanan dasar, bersama dengan kesehatan, pekerjaan umum, perumahan rakyat, dan lainnya."

        },

        // Manajemen ASN (5 soal)
        {
            question: "Berdasarkan PP No. 17 Tahun 2020 tentang Perubahan atas PP No. 53 Tahun 2010 tentang Disiplin PNS, berikut yang termasuk pelanggaran disiplin ringan adalah:",
            options: [
                "A. Melakukan tindakan yang dapat merugikan keuangan negara",
                "B. Memberikan keterangan palsu dalam dokumen resmi",
                "C. Datang terlambat masuk kerja tanpa alasan yang sah",
                "D. Melakukan pungutan liar",
                "E. Melakukan kolusi dan nepotisme"
            ],
            correctAnswer: 2,
            explanation: "Datang terlambat masuk kerja tanpa alasan yang sah termasuk pelanggaran disiplin ringan, sementara pilihan lainnya termasuk pelanggaran disiplin sedang atau berat."
        },
        {
            question: "Menurut PermenPANRB No. 38 Tahun 2017 tentang Standar Kompetensi Jabatan Aparatur Sipil Negara, komponen kompetensi teknis bagi jabatan administrator adalah:",
            options: [
                "A. Kemampuan memimpin rapat",
                "B. Penguasaan bidang tugas pokok jabatan",
                "C. Kemampuan berbahasa asing",
                "D. Penguasaan teknologi informasi",
                "E. Kemampuan menulis laporan"
            ],
            correctAnswer: 1,
            explanation: "Penguasaan bidang tugas pokok jabatan merupakan komponen kompetensi teknis bagi jabatan administrator, sesuai PermenPANRB No. 38 Tahun 2017."
        },
        {
            question: "Dalam sistem pengembangan kompetensi ASN, apa yang dimaksud dengan 'on the job training'?",
            options: [
                "A. Pelatihan yang dilaksanakan di luar jam kerja",
                "B. Pelatihan yang dilaksanakan di luar instansi",
                "C. Pembelajaran langsung di tempat kerja",
                "D. Pelatihan berbasis modul elektronik",
                "E. Pelatihan yang hanya untuk pejabat struktural"
            ],
            correctAnswer: 2,
            explanation: "On the job training adalah pembelajaran langsung di tempat kerja melalui praktik, bimbingan, dan pengalaman nyata dalam melaksanakan tugas."
        },
        {
            question: "Berdasarkan UU No. 5 Tahun 2014 tentang ASN, berikut yang termasuk hak PNS adalah:",
            options: [
                "A. Hak mogok kerja",
                "B. Hak bergabung dengan partai politik",
                "C. Hak cuti di luar ketentuan",
                "D. Hak memperoleh gaji dan tunjangan",
                "E. Hak menolak tugas yang diberikan"
            ],
            correctAnswer: 3,
            explanation: "Hak memperoleh gaji dan tunjangan termasuk hak PNS menurut UU No. 5 Tahun 2014, bersama dengan hak cuti, hak pensiun, dan hak pengembangan kompetensi."
        },
        {
            question: "Dalam sistem penilaian kinerja PNS, indikator 'perilaku kerja' mencakup aspek-aspek berikut, KECUALI:",
            options: [
                "A. Orientasi pelayanan",
                "B. Integritas",
                "C. Komitmen",
                "D. Disiplin",
                "E. Jumlah kehadiran dalam rapat"
            ],
            correctAnswer: 4,
            explanation: "Jumlah kehadiran dalam rapat bukan termasuk indikator penilaian perilaku kerja. Indikator perilaku kerja mencakup orientasi pelayanan, integritas, komitmen, disiplin, kerjasama, dan kepemimpinan."

        },

        // Pengelolaan Keuangan (5 soal)
        {
            question: "Berdasarkan Permendagri No. 77 Tahun 2020 tentang Pedoman Teknis Pengelolaan Keuangan Daerah, dokumen perencanaan keuangan daerah yang disusun untuk jangka waktu 5 tahun adalah:",
            options: [
                "A. APBD",
                "B. RKPD",
                "C. Renja SKPD",
                "D. RPJMD",
                "E. KUA-PPAS"
            ],
            correctAnswer: 3,
            explanation: "RPJMD (Rencana Pembangunan Jangka Menengah Daerah) adalah dokumen perencanaan keuangan daerah yang disusun untuk jangka waktu 5 tahun sesuai masa jabatan kepala daerah."
        },
        {
            question: "Dalam sistem penganggaran daerah, apa yang dimaksud dengan 'belanja tidak langsung'?",
            options: [
                "A. Belanja yang manfaatnya tidak dirasakan masyarakat",
                "B. Belanja yang dialokasikan untuk membiayai kegiatan operasional pemerintah",
                "C. Belanja yang tidak terkait langsung dengan output tertentu",
                "D. Belanja yang dibayarkan secara tunai",
                "E. Belanja yang tidak melalui proses tender"
            ],
            correctAnswer: 2,
            explanation: "Belanja tidak langsung adalah belanja yang tidak terkait langsung dengan output tertentu, seperti belanja pegawai, belanja bunga, subsidi, dan belanja hibah."
        },
        {
            question: "Menurut PP No. 12 Tahun 2019 tentang Pengelolaan Keuangan Daerah, batas waktu penyampaian rancangan APBD oleh kepala daerah kepada DPRD adalah:",
            options: [
                "A. 1 Juni tahun sebelumnya",
                "B. 15 Agustus tahun sebelumnya",
                "C. 30 September tahun sebelumnya",
                "D. 15 Oktober tahun sebelumnya",
                "E. 30 November tahun sebelumnya"
            ],
            correctAnswer: 1,
            explanation: "Batas waktu penyampaian rancangan APBD oleh kepala daerah kepada DPRD adalah 15 Agustus tahun sebelumnya, sesuai PP No. 12 Tahun 2019."
        },
        {
            question: "Dalam konteks pengelolaan keuangan daerah, yang dimaksud dengan 'silpa' adalah:",
            options: [
                "A. Sisa lebih pembiayaan anggaran",
                "B. Sistem informasi keuangan daerah",
                "C. Surat izin pengelolaan aset",
                "D. Satuan kerja khusus pengelola anggaran",
                "E. Sumber dana cadangan daerah"
            ],
            correctAnswer: 0,
            explanation: "Silpa (Sisa Lebih Pembiayaan Anggaran) adalah selisih lebih realisasi penerimaan dan pengeluaran anggaran selama satu periode anggaran."
        },
        {
            question: "Berdasarkan Permendagri No. 21 Tahun 2021 tentang Pedoman Penyusunan APBD, komponen utama dalam struktur APBD adalah:",
            options: [
                "A. Pendapatan, belanja, dan pembiayaan",
                "B. Aset, kewajiban, dan ekuitas",
                "C. Penerimaan, pengeluaran, dan investasi",
                "D. Anggaran operasional dan anggaran modal",
                "E. Anggaran rutin dan anggaran pembangunan"
            ],
            correctAnswer: 0,
            explanation: "Struktur APBD terdiri dari 3 komponen utama: pendapatan, belanja, dan pembiayaan, sesuai Permendagri No. 21 Tahun 2021."

        },

        // Pelayanan Publik (5 soal)
        {
            question: "Berdasarkan PP No. 96 Tahun 2012 tentang Pelaksanaan UU No. 25 Tahun 2009 tentang Pelayanan Publik, berikut yang termasuk kategori pelayanan publik adalah:",
            options: [
                "A. Pelayanan jasa keuangan perbankan",
                "B. Pelayanan oleh perusahaan swasta",
                "C. Pelayanan administrasi pemerintahan",
                "D. Pelayanan restoran mewah",
                "E. Pelayanan salon kecantikan"
            ],
            correctAnswer: 2,
            explanation: "Pelayanan administrasi pemerintahan termasuk kategori pelayanan publik, bersama dengan pelayanan barang, jasa publik, dan pelayanan administratif."
        },
        {
            question: "Menurut Permendagri No. 5 Tahun 2021 tentang Standar Pelayanan Minimal, prinsip penyelenggaraan SPM adalah:",
            options: [
                "A. Diskresi pejabat",
                "B. Keseragaman mutlak",
                "C. Keberagaman sesuai kondisi daerah",
                "D. Fleksibilitas tanpa batas",
                "E. Sentralisasi kebijakan"
            ],
            correctAnswer: 2,
            explanation: "Prinsip penyelenggaraan SPM adalah keberagaman sesuai kondisi daerah, dengan tetap memenuhi standar minimal yang ditetapkan pemerintah pusat."
        },
        {
            question: "Dalam sistem pelayanan perizinan terpadu, dokumen yang memuat seluruh persyaratan dan prosedur perizinan disebut:",
            options: [
                "A. SOP",
                "B. NSPK",
                "C. IMB",
                "D. SLF",
                "E. DPM"
            ],
            correctAnswer: 1,
            explanation: "NSPK (Norma, Standar, Prosedur, dan Kriteria) adalah dokumen yang memuat seluruh persyaratan dan prosedur perizinan dalam sistem pelayanan terpadu."
        },
        {
            question: "Berdasarkan UU No. 25 Tahun 2009 tentang Pelayanan Publik, berikut yang termasuk hak penyelenggara pelayanan publik adalah:",
            options: [
                "A. Hak untuk memberikan pelayanan diskriminatif",
                "B. Hak untuk menerima imbalan di luar ketentuan",
                "C. Hak untuk menolak memberikan pelayanan",
                "D. Hak untuk memperoleh perlindungan hukum",
                "E. Hak untuk membocorkan data pribadi penerima layanan"
            ],
            correctAnswer: 3,
            explanation: "Hak untuk memperoleh perlindungan hukum termasuk hak penyelenggara pelayanan publik, sesuai UU No. 25 Tahun 2009."
        },
        {
            question: "Dalam konteks pengaduan pelayanan publik, lembaga yang berwenang menangani pengaduan masyarakat terhadap penyelenggaraan pelayanan publik adalah:",
            options: [
                "A. Ombudsman Republik Indonesia",
                "B. Komisi Yudisial",
                "C. Mahkamah Konstitusi",
                "D. Komisi Pemberantasan Korupsi",
                "E. Badan Pemeriksa Keuangan"
            ],
            correctAnswer: 0,
            explanation: "Ombudsman Republik Indonesia adalah lembaga yang berwenang menangani pengaduan masyarakat terhadap penyelenggaraan pelayanan publik, sesuai UU No. 37 Tahun 2008 tentang Ombudsman RI."
        },
	{
            question: "Dalam konteks perumusan kebijakan publik daerah, tahapan analisis dampak regulasi (regulatory impact analysis) dilaksanakan pada fase:",
            options: [
                "A. Evaluasi pasca implementasi kebijakan",
                "B. Penyusunan naskah akademik peraturan",
                "C. Sosialisasi kebijakan kepada masyarakat",
                "D. Pembahasan di DPRD",
                "E. Penetapan peraturan daerah"
            ],
            correctAnswer: 1,
            explanation: "Analisis dampak regulasi dilakukan pada fase penyusunan naskah akademik untuk mengkaji berbagai alternatif kebijakan beserta dampaknya sebelum ditetapkan."
        },
        {
            question: "Prinsip 'evidence-based policy making' dalam perumusan kebijakan daerah mengacu pada:",
            options: [
                "A. Kebijakan berdasarkan preferensi pribadi pejabat",
                "B. Kebijakan mengacu pada praktik daerah lain tanpa kajian",
                "C. Kebijakan berbasis data dan hasil penelitian",
                "D. Kebijakan mengikuti tren terbaru",
                "E. Kebijakan berdasarkan permintaan kelompok tertentu"
            ],
            correctAnswer: 2,
            explanation: "Evidence-based policy making berarti kebijakan disusun berdasarkan bukti empiris, data valid, dan hasil penelitian yang dapat dipertanggungjawabkan."
        },
        {
            question: "Dalam siklus kebijakan publik, tahap 'policy evaluation' bertujuan untuk:",
            options: [
                "A. Menyusun alternatif solusi kebijakan",
                "B. Mengukur efektivitas implementasi kebijakan",
                "C. Mensosialisasikan rancangan kebijakan",
                "D. Menetapkan prioritas agenda kebijakan",
                "E. Mengalokasikan anggaran untuk kebijakan"
            ],
            correctAnswer: 1,
            explanation: "Evaluasi kebijakan dilakukan untuk mengukur tingkat keberhasilan, dampak, dan efektivitas suatu kebijakan setelah diimplementasikan."
        },
        {
            question: "Faktor utama yang harus dipertimbangkan dalam penyusunan kebijakan responsif gender adalah:",
            options: [
                "A. Ketersediaan anggaran daerah",
                "B. Kebutuhan dan dampak berbeda bagi laki-laki dan perempuan",
                "C. Keberagaman suku di daerah",
                "D. Jumlah organisasi perempuan di daerah",
                "E. Preferensi pimpinan daerah"
            ],
            correctAnswer: 1,
            explanation: "Kebijakan responsif gender harus mempertimbangkan kebutuhan, akses, partisipasi, kontrol, dan manfaat yang berbeda bagi laki-laki dan perempuan."
        },
        {
            question: "Dalam konteks penganggaran berbasis kinerja, indikator outcome mengukur:",
            options: [
                "A. Jumlah kegiatan yang dilaksanakan",
                "B. Dana yang berhasil diserap",
                "C. Manfaat yang diterima masyarakat",
                "D. Kuantitas output yang dihasilkan",
                "E. Proses administrasi yang dilalui"
            ],
            correctAnswer: 2,
            explanation: "Indikator outcome mengukur dampak/manfaat yang diterima masyarakat sebagai hasil dari output program/kegiatan."

        },

        // Reformasi Birokrasi (5 soal)
        {
            question: "Sasaran utama program reformasi birokrasi di lingkungan pemerintah daerah adalah:",
            options: [
                "A. Meningkatkan jumlah pegawai",
                "B. Memperbanyak struktur organisasi",
                "C. Menciptakan tata kelola pemerintahan yang efektif",
                "D. Membentuk unit-unit baru",
                "E. Memperpanjang rantai birokrasi"
            ],
            correctAnswer: 2,
            explanation: "Reformasi birokrasi bertujuan menciptakan tata kelola pemerintahan yang efektif, efisien, akuntabel, dan berorientasi pelayanan publik."
        },
        {
            question: "Area perubahan dalam reformasi birokrasi yang berkaitan dengan sistem promosi jabatan adalah bagian dari:",
            options: [
                "A. Manajemen perubahan",
                "B. Penguatan akuntabilitas",
                "C. Penyederhanaan prosedur",
                "D. Penguatan SDM aparatur",
                "E. Peningkatan pelayanan"
            ],
            correctAnswer: 3,
            explanation: "Sistem promosi jabatan termasuk dalam area perubahan penguatan SDM aparatur melalui penerapan sistem merit."
        },
        {
            question: "Indikator keberhasilan reformasi birokrasi di bidang pelayanan publik dapat diukur melalui:",
            options: [
                "A. Jumlah keluhan masyarakat",
                "B. Waktu penyelesaian layanan",
                "C. Besaran anggaran yang tersedia",
                "D. Jumlah pegawai yang dimiliki",
                "E. Luas gedung perkantoran"
            ],
            correctAnswer: 1,
            explanation: "Waktu penyelesaian layanan merupakan indikator efisiensi pelayanan publik yang menjadi salah satu tolok ukur reformasi birokrasi."
        },
        {
            question: "Dalam konteks reformasi birokrasi, penerapan sistem merit pada rekruitmen ASN bertujuan untuk:",
            options: [
                "A. Mempertahankan status quo",
                "B. Menjaga kekeluargaan dalam birokrasi",
                "C. Menjamin kualitas terbaik menduduki jabatan",
                "D. Mempercepat proses pengisian jabatan",
                "E. Mengurangi persaingan internal"
            ],
            correctAnswer: 2,
            explanation: "Sistem merit menjamin bahwa yang terbaiklah yang menduduki jabatan berdasarkan kualifikasi, kompetensi, dan kinerja."
        },
        {
            question: "Komponen utama dalam penilaian zona integritas sebagai bagian reformasi birokrasi adalah:",
            options: [
                "A. Besaran anggaran yang dikelola",
                "B. Jumlah pegawai di unit kerja",
                "C. Penerapan nilai-nilai antikorupsi",
                "D. Frekuensi rapat koordinasi",
                "E. Luas wilayah kerja"
            ],
            correctAnswer: 2,
            explanation: "Zona integritas menekankan pada penerapan nilai-nilai antikorupsi, transparansi, dan akuntabilitas dalam unit kerja."

        },

        // Tata Kelola Pemerintahan (5 soal)
        {
            question: "Prinsip 'good governance' yang menekankan pada keterbukaan informasi publik tercermin dalam:",
            options: [
                "A. Penyediaan data terbatas untuk kalangan tertentu",
                "B. Mekanisme pengaduan yang tertutup",
                "C. Proses pengambilan keputusan eksklusif",
                "D. Publikasi dokumen perencanaan daerah",
                "E. Pembatasan akses masyarakat pada dokumen"
            ],
            correctAnswer: 3,
            explanation: "Keterbukaan informasi publik merupakan prinsip good governance yang diwujudkan melalui publikasi dokumen perencanaan dan penganggaran daerah."
        },
        {
            question: "Dalam konteks tata kelola pemerintahan, konsep 'collaborative governance' mengacu pada:",
            options: [
                "A. Pengambilan keputusan oleh pemerintah saja",
                "B. Keterlibatan multipihak dalam proses pemerintahan",
                "C. Sentralisasi proses pengambilan keputusan",
                "D. Pembatasan peran masyarakat sipil",
                "E. Dominasi pemerintah dalam semua sektor"
            ],
            correctAnswer: 1,
            explanation: "Collaborative governance menekankan pada kemitraan antara pemerintah, swasta, dan masyarakat dalam penyelenggaraan pemerintahan."
        },
        {
            question: "Indikator efektivitas tata kelola pemerintahan daerah dapat dilihat dari:",
            options: [
                "A. Besaran APBD yang dialokasikan",
                "B. Tingkat kepatuhan pada peraturan perundangan",
                "C. Jumlah kegiatan yang dilaksanakan",
                "D. Kuantitas dokumen yang dihasilkan",
                "E. Frekuensi rapat koordinasi"
            ],
            correctAnswer: 1,
            explanation: "Tingkat kepatuhan pada peraturan perundangan merupakan indikator efektivitas tata kelola pemerintahan yang baik."
        },
        {
            question: "Dalam sistem akuntabilitas kinerja pemerintah daerah, laporan yang wajib disusun setiap tahun adalah:",
            options: [
                "A. Laporan Keuangan Pemerintah Daerah (LKPD)",
                "B. Laporan Penyelenggaraan Pemerintahan Daerah (LPPD)",
                "C. Laporan Keterangan Pertanggungjawaban (LKPJ)",
                "D. Laporan Akuntabilitas Kinerja Instansi Pemerintah (LAKIP)",
                "E. Semua jawaban benar"
            ],
            correctAnswer: 4,
            explanation: "Semua laporan tersebut wajib disusun pemerintah daerah sebagai bentuk akuntabilitas kinerja pemerintahan."
        },
        {
            question: "Penerapan e-government dalam tata kelola pemerintahan bertujuan untuk:",
            options: [
                "A. Memperbanyak struktur organisasi",
                "B. Meningkatkan efisiensi dan transparansi",
                "C. Membatasi akses informasi publik",
                "D. Memperpanjang rantai birokrasi",
                "E. Mengurangi interaksi dengan masyarakat"
            ],
            correctAnswer: 1,
            explanation: "E-government bertujuan meningkatkan efisiensi, transparansi, dan akuntabilitas penyelenggaraan pemerintahan melalui pemanfaatan teknologi informasi."

        },

        // Pengawasan Pemerintahan (5 soal)
        {
            question: "Fungsi utama Badan Pengawas Daerah (Bawasda) dalam sistem pengawasan pemerintahan daerah adalah:",
            options: [
                "A. Mengawasi pelaksanaan urusan pemerintahan daerah",
                "B. Mengevaluasi kinerja DPRD",
                "C. Mengawasi pelaksanaan pemilihan kepala daerah",
                "D. Memantau kinerja pemerintah pusat",
                "E. Mengawasi kegiatan swasta di daerah"
            ],
            correctAnswer: 0,
            explanation: "Bawasda berfungsi mengawasi pelaksanaan urusan pemerintahan daerah untuk memastikan sesuai dengan peraturan perundangan."
        },
        {
            question: "Dalam sistem pengawasan intern pemerintah daerah, unit yang bertugas melakukan pengawasan fungsional adalah:",
            options: [
                "A. Inspektorat Daerah",
                "B. Sekretariat Daerah",
                "C. Badan Kepegawaian Daerah",
                "D. Dinas Pendapatan Daerah",
                "E. Bagian Hukum Setda"
            ],
            correctAnswer: 0,
            explanation: "Inspektorat Daerah merupakan unit pengawasan intern yang melaksanakan pengawasan fungsional terhadap seluruh SKPD."
        },
        {
            question: "Jenis pengawasan yang dilakukan oleh masyarakat terhadap penyelenggaraan pemerintahan daerah disebut pengawasan:",
            options: [
                "A. Fungsional",
                "B. Struktural",
                "C. Eksternal",
                "D. Masyarakat",
                "E. Legislatif"
            ],
            correctAnswer: 3,
            explanation: "Pengawasan masyarakat adalah bentuk pengawasan oleh warga negara terhadap penyelenggaraan pemerintahan sebagai wujud partisipasi publik."
        },
        {
            question: "Dalam konteks pengawasan keuangan daerah, temuan audit yang menunjukkan ketidakpatuhan terhadap peraturan disebut:",
            options: [
                "A. Temuan ketidakpatuhan (compliance finding)",
                "B. Temuan ketidakefisienan",
                "C. Temuan ketidakefektifan",
                "D. Temuan substantif",
                "E. Temuan administratif"
            ],
            correctAnswer: 0,
            explanation: "Temuan ketidakpatuhan mengacu pada pelanggaran terhadap peraturan perundang-undangan dalam pengelolaan keuangan daerah."
        },
        {
            question: "Mekanisme pengawasan preventif dalam penyelenggaraan pemerintahan daerah dilakukan melalui:",
            options: [
                "A. Pemeriksaan setelah pelaksanaan kegiatan",
                "B. Evaluasi laporan keuangan tahunan",
                "C. Pembinaan sebelum pelaksanaan tugas",
                "D. Investigasi kasus korupsi",
                "E. Audit kinerja program"
            ],
            correctAnswer: 2,
            explanation: "Pengawasan preventif dilakukan melalui pembinaan, bimbingan, dan penyuluhan sebelum pelaksanaan kegiatan untuk mencegah penyimpangan."
        },
        {
            question: "Menurut teori hukum administrasi negara, asas yang menjadi dasar bagi pejabat administrasi untuk mengambil keputusan yang menyimpang dari peraturan demi kepentingan umum disebut asas:",
            options: [
                "A. Freies Ermessen",
                "B. Legalitas",
                "C. Proporsionalitas",
                "D. Kepastian hukum",
                "E. Non-retroaktif"
            ],
            correctAnswer: 0,
            explanation: "Asas freies ermessen memberikan ruang diskresi bagi pejabat administrasi untuk menyimpang dari ketentuan baku demi kepentingan umum yang lebih besar."
        },
        {
            question: "Dalam hierarki peraturan perundang-undangan di Indonesia, Peraturan Presiden berada di bawah:",
            options: [
                "A. Undang-Undang",
                "B. Peraturan Daerah Provinsi",
                "C. Peraturan Menteri",
                "D. Peraturan Desa",
                "E. Peraturan Gubernur"
            ],
            correctAnswer: 0,
            explanation: "Menurut UU No. 12 Tahun 2011, Peraturan Presiden berada di bawah Undang-Undang dan Peraturan Pemerintah Pengganti Undang-Undang dalam hierarki peraturan perundangan."
        },
        {
            question: "Konsep 'detournement de pouvoir' dalam hukum administrasi negara merujuk pada:",
            options: [
                "A. Penggunaan kewenangan untuk tujuan yang tidak semestinya",
                "B. Pendelegasian wewenang kepada bawahan",
                "C. Pembatalan keputusan administrasi",
                "D. Penyelesaian sengketa administrasi",
                "E. Pembentukan peraturan baru"
            ],
            correctAnswer: 0,
            explanation: "Detournement de pouvoir adalah penyalahgunaan wewenang dimana suatu keputusan administrasi digunakan untuk tujuan yang berbeda dari maksud pemberian wewenang tersebut."
        },
        {
            question: "Berdasarkan UU No. 30 Tahun 2014 tentang Administrasi Pemerintahan, upaya administratif yang dapat dilakukan terhadap keputusan administrasi adalah:",
            options: [
                "A. Banding",
                "B. Gugatan",
                "C. Keberatan",
                "D. Kasasi",
                "E. Peninjauan kembali"
            ],
            correctAnswer: 2,
            explanation: "Keberatan merupakan upaya administratif yang dapat diajukan kepada atasan pejabat yang mengeluarkan keputusan, sebelum dilakukan gugatan ke PTUN."
        },
        {
            question: "Dalam sistem hukum administrasi, konsep 'self-binding' mengacu pada:",
            options: [
                "A. Kebebasan mutlak pejabat administrasi",
                "B. Keterikatan pemerintah pada keputusan sebelumnya",
                "C. Hak warga negara untuk mengikat pemerintah",
                "D. Kewajiban membuat perjanjian administratif",
                "E. Pembatasan kewenangan legislatif"
            ],
            correctAnswer: 1,
            explanation: "Self-binding berarti pemerintah terikat pada keputusan/kebijakan yang telah dibuatnya sendiri, kecuali ada alasan kuat untuk perubahan."

        },

        // Manajemen Perubahan (5 soal)
        {
            question: "Dalam model perubahan Kotter, tahap 'creating a vision for change' bertujuan untuk:",
            options: [
                "A. Mengidentifikasi resistensi terhadap perubahan",
                "B. Memberikan arahan dan strategi perubahan",
                "C. Mengkomunikasikan urgensi perubahan",
                "D. Membentuk koalisi pemandu",
                "E. Menciptakan kemenangan jangka pendek"
            ],
            correctAnswer: 1,
            explanation: "Pembuatan visi perubahan bertujuan memberikan arahan jelas dan strategi untuk mencapai perubahan yang diinginkan dalam organisasi."
        },
        {
            question: "Faktor kunci keberhasilan manajemen perubahan birokrasi menurut Undang-Undang ASN adalah:",
            options: [
                "A. Komitmen pimpinan puncak",
                "B. Besarnya anggaran perubahan",
                "C. Jumlah konsultan perubahan",
                "D. Luasnya pelatihan yang diberikan",
                "E. Banyaknya dokumen pedoman"
            ],
            correctAnswer: 0,
            explanation: "Komitmen pimpinan puncak merupakan faktor penentu utama keberhasilan manajemen perubahan birokrasi menurut berbagai kajian."
        },
        {
            question: "Teknik 'appreciative inquiry' dalam manajemen perubahan berfokus pada:",
            options: [
                "A. Mengidentifikasi masalah dan kelemahan",
                "B. Mencari solusi dari praktik terbaik yang ada",
                "C. Membuat analisis gap yang detail",
                "D. Menghitung biaya perubahan",
                "E. Mengevaluasi kegagalan masa lalu"
            ],
            correctAnswer: 1,
            explanation: "Appreciative inquiry adalah pendekatan perubahan yang berfokus pada identifikasi dan pengembangan praktik terbaik yang sudah ada dalam organisasi."
        },
        {
            question: "Dalam konteks perubahan organisasi pemerintah, 'change agent' dapat berasal dari:",
            options: [
                "A. Pimpinan organisasi saja",
                "B. Konsultan eksternal saja",
                "C. Seluruh level organisasi",
                "D. Unit SDM saja",
                "E. Tim proyek khusus saja"
            ],
            correctAnswer: 2,
            explanation: "Change agent dapat berasal dari seluruh level organisasi, baik pimpinan, manajer menengah, maupun staf yang memiliki pengaruh dalam organisasi."
        },
        {
            question: "Indikator keberhasilan perubahan budaya organisasi birokrasi dapat dilihat dari:",
            options: [
                "A. Jumlah dokumen perubahan yang dihasilkan",
                "B. Perilaku sehari-hari pegawai",
                "C. Besarnya anggaran yang terserap",
                "D. Banyaknya pelatihan yang dilaksanakan",
                "E. Frekuensi rapat koordinasi"
            ],
            correctAnswer: 1,
            explanation: "Perubahan budaya organisasi tercermin dari perubahan perilaku sehari-hari pegawai dalam melaksanakan tugas dan berinteraksi."

        },

        // Sistem Informasi Pemerintahan (5 soal)
        {
            question: "Komponen utama dalam arsitektur SPBE (Sistem Pemerintahan Berbasis Elektronik) meliputi:",
            options: [
                "A. Kebijakan, organisasi, infrastruktur, aplikasi",
                "B. Hardware, software, brainware",
                "C. Data, informasi, pengetahuan",
                "D. Input, proses, output",
                "E. Perencanaan, pelaksanaan, evaluasi"
            ],
            correctAnswer: 0,
            explanation: "Arsitektur SPBE mencakup 4 pilar utama: kebijakan, organisasi, infrastruktur TI, dan aplikasi sesuai Perpres No. 95 Tahun 2018."
        },
        {
            question: "Prinsip 'interoperabilitas' dalam sistem informasi pemerintahan berarti:",
            options: [
                "A. Kemampuan sistem bekerja secara mandiri",
                "B. Keterhubungan antar sistem informasi",
                "C. Keamanan sistem dari serangan siber",
                "D. Kecepatan akses informasi",
                "E. Penyimpanan data terpusat"
            ],
            correctAnswer: 1,
            explanation: "Interoperabilitas adalah kemampuan berbagai sistem informasi untuk saling terhubung, bertukar data, dan menggunakan informasi yang telah dipertukarkan."
        },
        {
            question: "Dalam konteks e-government, konsep 'digital by design' mengacu pada:",
            options: [
                "A. Pembuatan website pemerintah",
                "B. Perencanaan layanan digital sejak awal",
                "C. Konversi dokumen analog ke digital",
                "D. Pelatihan pegawai menggunakan komputer",
                "E. Pembelian perangkat keras terbaru"
            ],
            correctAnswer: 1,
            explanation: "Digital by design berarti layanan pemerintah dirancang sebagai layanan digital sejak awal, bukan sekadar mengalihkan layanan manual ke digital."
        },
        {
            question: "Menurut Peraturan BKN No. 1 Tahun 2023, sistem informasi yang digunakan untuk manajemen ASN adalah:",
            options: [
                "A. SIMPEG",
                "B. SIPKD",
                "C. SIPP",
                "D. SILAKA",
                "E. SINERGI"
            ],
            correctAnswer: 3,
            explanation: "SILAKA (Sistem Informasi Manajemen Kepegawaian) adalah sistem informasi terpadu untuk manajemen ASN sesuai Peraturan BKN terbaru."
        },
        {
            question: "Tujuan utama penerapan GovTech (Government Technology) dalam transformasi digital pemerintahan adalah:",
            options: [
                "A. Memperbanyak perangkat teknologi",
                "B. Meningkatkan kualitas pelayanan publik",
                "C. Menambah jumlah pegawai TI",
                "D. Membuat sistem yang kompleks",
                "E. Mengganti seluruh sistem lama"
            ],
            correctAnswer: 1,
            explanation: "GovTech bertujuan meningkatkan kualitas pelayanan publik melalui pemanfaatan teknologi secara efektif dan inovatif."

        },

        // Etika Pemerintahan (5 soal)
        {
            question: "Menurut PermenPANRB No. 38 Tahun 2020 tentang Kode Etik ASN, prinsip dasar etika ASN meliputi:",
            options: [
                "A. Kepentingan pribadi di atas publik",
                "B. Netralitas dan profesionalitas",
                "C. Loyalitas pada pimpinan",
                "D. Fleksibilitas dalam pelayanan",
                "E. Diskresi tanpa batas"
            ],
            correctAnswer: 1,
            explanation: "Prinsip dasar etika ASN meliputi netralitas, profesionalitas, akuntabilitas, integritas, dan pengabdian pada kepentingan publik."
        },
        {
            question: "Konflik kepentingan dalam pelayanan publik terjadi ketika:",
            options: [
                "A. Pegawai melaksanakan tugas sesuai SOP",
                "B. Ada pertentangan antara kepentingan pribadi dan publik",
                "C. Pelayanan diberikan secara adil",
                "D. Prosedur administrasi dipatuhi",
                "E. Kebijakan dilaksanakan secara konsisten"
            ],
            correctAnswer: 1,
            explanation: "Konflik kepentingan terjadi ketika ada pertentangan antara kepentingan pribadi/kelompok dengan kewajiban dan kepentingan publik."
        },
        {
            question: "Dalam etika pemerintahan, konsep 'whistleblowing' mengacu pada:",
            options: [
                "A. Penyampaian laporan atas penyimpangan",
                "B. Pembuatan dokumen palsu",
                "C. Penyembunyian informasi penting",
                "D. Pemanfaatan informasi untuk keuntungan pribadi",
                "E. Pembocoran rahasia negara"
            ],
            correctAnswer: 0,
            explanation: "Whistleblowing adalah tindakan melaporkan pelanggaran atau penyimpangan yang diketahui dalam organisasi kepada pihak yang berwenang."
        },
        {
            question: "Berdasarkan UU No. 20 Tahun 2001, gratifikasi sebagai tindak pidana korupsi bernilai minimal:",
            options: [
                "A. Tidak ada batas minimal",
                "B. Rp 1.000.000",
                "C. Rp 5.000.000",
                "D. Rp 10.000.000",
                "E. Rp 25.000.000"
            ],
            correctAnswer: 0,
            explanation: "Menurut UU No. 20 Tahun 2001, semua bentuk gratifikasi kepada penyelenggara negara dapat dianggap suap tanpa melihat nilai nominalnya."
        },
        {
            question: "Prinsip 'nemo iudex in causa sua' dalam etika pemerintahan berarti:",
            options: [
                "A. Tidak ada hakim dalam perkaranya sendiri",
                "B. Keadilan harus terlaksana",
                "C. Kepentingan umum di atas pribadi",
                "D. Transparansi dalam pengambilan keputusan",
                "E. Akuntabilitas pelayanan publik"
            ],
            correctAnswer: 0,
            explanation: "Prinsip 'nemo iudex in causa sua' melarang seseorang menjadi hakim dalam perkara yang berkaitan dengan dirinya sendiri untuk menjamin objektivitas."
        }
            ];
            
            originalQuestions = initialQuestions;
        }
        
        // Enhanced storage functions with fallback to sessionStorage if localStorage fails
        function loadParticipantsFromStorage() {
            try {
                const storedParticipants = localStorage.getItem('pergunusmart_participants');
                if (storedParticipants) {
                    return JSON.parse(storedParticipants);
                }
            } catch (e) {
                console.error('Error loading participants from localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    const storedParticipants = sessionStorage.getItem('pergunusmart_participants');
                    if (storedParticipants) {
                        return JSON.parse(storedParticipants);
                    }
                } catch (e2) {
                    console.error('Error loading participants from sessionStorage:', e2);
                }
            }
            return [];
        }
        
        function saveParticipantsToStorage(participants) {
            try {
                localStorage.setItem('pergunusmart_participants', JSON.stringify(participants));
                // Also save to sessionStorage as backup
                sessionStorage.setItem('pergunusmart_participants', JSON.stringify(participants));
                return true;
            } catch (e) {
                console.error('Error saving participants to localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    sessionStorage.setItem('pergunusmart_participants', JSON.stringify(participants));
                    return true;
                } catch (e2) {
                    console.error('Failed to save participants to sessionStorage:', e2);
                    alert('Gagal menyimpan data peserta. Penyimpanan lokal penuh. Silakan hubungi admin.');
                    return false;
                }
            }
        }
        
        function loadAdminSettingsFromStorage() {
            try {
                const storedSettings = localStorage.getItem('pergunusmart_admin_settings');
                if (storedSettings) {
                    return JSON.parse(storedSettings);
                }
            } catch (e) {
                console.error('Error loading admin settings from localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    const storedSettings = sessionStorage.getItem('pergunusmart_admin_settings');
                    if (storedSettings) {
                        return JSON.parse(storedSettings);
                    }
                } catch (e2) {
                    console.error('Error loading admin settings from sessionStorage:', e2);
                }
            }
            return null;
        }
        
        function saveAdminSettingsToStorage(settings) {
            try {
                localStorage.setItem('pergunusmart_admin_settings', JSON.stringify(settings));
                // Also save to sessionStorage as backup
                sessionStorage.setItem('pergunusmart_admin_settings', JSON.stringify(settings));
                return true;
            } catch (e) {
                console.error('Error saving admin settings to localStorage:', e);
                // Try sessionStorage as fallback
                try {
                    sessionStorage.setItem('pergunusmart_admin_settings', JSON.stringify(settings));
                    return true;
                } catch (e2) {
                    console.error('Failed to save settings to sessionStorage:', e2);
                    alert('Gagal menyimpan pengaturan. Penyimpanan lokal penuh. Silakan hubungi admin.');
                    return false;
                }
            }
        }
        
        // Motivational messages based on score
        const MOTIVATIONAL_MESSAGES = {
            '90-100': 'Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.',
            '80-89': 'Hasil yang sangat baik! Anda telah menunjukkan pemahaman yang mendalam tentang materi.',
            '70-79': 'Kerja bagus! Anda memiliki pemahaman yang baik tentang materi ini.',
            '60-69': 'Hasil yang cukup baik. Tingkatkan lagi pemahaman Anda untuk hasil yang lebih baik.',
            '50-59': 'Anda sudah memahami dasar-dasarnya. Terus berlatih untuk meningkatkan pemahaman.',
            '0-49': 'Jangan menyerah! Gunakan hasil ini sebagai motivasi untuk belajar lebih giat lagi.'
        };
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load data from storage
            const loadedAdminSettings = loadAdminSettingsFromStorage();
            if (loadedAdminSettings) {
                adminSettings = loadedAdminSettings;
            }
            
            participantsData = loadParticipantsFromStorage();
            
            // Initialize question bank
            initializeQuestionBank();
            
            // Initialize particles.js for background
            particlesJS('particles-js', {
                "particles": {
                    "number": {
                        "value": 80,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": "#ffffff"
                    },
                    "shape": {
                        "type": "circle",
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.5,
                        "random": false,
                        "anim": {
                            "enable": false,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 3,
                        "random": true,
                        "anim": {
                            "enable": false,
                            "speed": 40,
                            "size_min": 0.1,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": true,
                        "distance": 150,
                        "color": "#ffffff",
                        "opacity": 0.4,
                        "width": 1
                    },
                    "move": {
                        "enable": true,
                        "speed": 2,
                        "direction": "none",
                        "random": false,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": true,
                            "mode": "grab"
                        },
                        "onclick": {
                            "enable": true,
                            "mode": "push"
                        },
                        "resize": true
                    },
                    "modes": {
                        "grab": {
                            "distance": 140,
                            "line_linked": {
                                "opacity": 1
                            }
                        },
                        "bubble": {
                            "distance": 400,
                            "size": 40,
                            "duration": 2,
                            "opacity": 8,
                            "speed": 3
                        },
                        "repulse": {
                            "distance": 200,
                            "duration": 0.4
                        },
                        "push": {
                            "particles_nb": 4
                        },
                        "remove": {
                            "particles_nb": 2
                        }
                    }
                },
                "retina_detect": true
            });
            
            // Initialize celebration particles (hidden by default)
            particlesJS('celebration-particles', {
                "particles": {
                    "number": {
                        "value": 150,
                        "density": {
                            "enable": true,
                            "value_area": 800
                        }
                    },
                    "color": {
                        "value": ["#FF6B35", "#FFA630", "#EF8A17", "#FF9E4F", "#D45B00", "#FF8C42"]
                    },
                    "shape": {
                        "type": ["circle", "triangle", "star"],
                        "stroke": {
                            "width": 0,
                            "color": "#000000"
                        },
                        "polygon": {
                            "nb_sides": 5
                        }
                    },
                    "opacity": {
                        "value": 0.7,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 1,
                            "opacity_min": 0.1,
                            "sync": false
                        }
                    },
                    "size": {
                        "value": 5,
                        "random": true,
                        "anim": {
                            "enable": true,
                            "speed": 4,
                            "size_min": 0.3,
                            "sync": false
                        }
                    },
                    "line_linked": {
                        "enable": false
                    },
                    "move": {
                        "enable": true,
                        "speed": 6,
                        "direction": "none",
                        "random": true,
                        "straight": false,
                        "out_mode": "out",
                        "bounce": false,
                        "attract": {
                            "enable": false,
                            "rotateX": 600,
                            "rotateY": 1200
                        }
                    }
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {
                        "onhover": {
                            "enable": false
                        },
                        "onclick": {
                            "enable": false
                        },
                        "resize": true
                    }
                },
                "retina_detect": true
            });
            
            // Load admin settings
            loadAdminSettings();
            
            // Event listeners for all buttons to play click sound
            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', function() {
                    playButtonClickSound();
                });
            });
            
            // Main event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('agree-terms').addEventListener('change', toggleContinueButton);
            document.getElementById('continue-btn').addEventListener('click', showParticipantForm);
            
            document.getElementById('get-location-btn').addEventListener('click', getLocation);
            document.getElementById('save-participant-btn').addEventListener('click', startExam);
            document.getElementById('finish-exam-btn').addEventListener('click', finishExam);
            document.getElementById('skip-question-btn').addEventListener('click', skipQuestion);
            document.getElementById('unanswered-btn').addEventListener('click', showUnansweredQuestions);
            document.getElementById('print-certificate-btn').addEventListener('click', printCertificate);
            document.getElementById('retake-exam-btn').addEventListener('click', retakeExam);
            
            // Floating buttons
            document.getElementById('whatsapp-btn').addEventListener('click', contactAdmin);
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminPanelModal);
            
            // Modal close buttons
            document.getElementById('close-admin-panel-modal').addEventListener('click', hideAdminPanelModal);
            document.getElementById('close-edit-participant-modal').addEventListener('click', hideEditParticipantModal);
            
            // Modal submit buttons
            document.getElementById('submit-admin-panel-code').addEventListener('click', submitAdminPanelCode);
            
            // Check form validity when fields change
            document.getElementById('fullname').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('address').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('phone').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('email').addEventListener('input', checkParticipantFormValidity);
            document.getElementById('cpns-license').addEventListener('input', checkParticipantFormValidity);

            // Admin panel toggle switches
            document.querySelectorAll('.toggle-switch input').forEach(toggle => {
                toggle.addEventListener('change', function() {
                    const statusElement = document.getElementById(`${this.id}-status`);
                    if (statusElement) {
                        statusElement.textContent = this.checked ? 'Aktif' : 'Nonaktif';
                    }
                });
            });

            // Admin panel buttons
            document.getElementById('save-codes-btn').addEventListener('click', saveCodes);
            document.getElementById('save-content-btn').addEventListener('click', saveContent);
            
            // Participant selection and bulk actions
            document.getElementById('select-all-participants').addEventListener('change', toggleSelectAllParticipants);
            document.getElementById('select-all-header').addEventListener('change', toggleSelectAllParticipantsHeader);
            document.getElementById('edit-selected-btn').addEventListener('click', editSelectedParticipants);
            document.getElementById('delete-selected-btn').addEventListener('click', deleteSelectedParticipants);
            
            // Edit participant modal buttons
            document.getElementById('save-edit-participant-btn').addEventListener('click', saveEditedParticipant);
            document.getElementById('cancel-edit-participant-btn').addEventListener('click', hideEditParticipantModal);
            
            // Certificate validation
            document.getElementById('validate-certificate-btn').addEventListener('click', validateCertificate);
            
            // Participant search functionality
            document.getElementById('participant-search').addEventListener('input', searchParticipants);
            
            // Load participants data for admin panel
            loadParticipantsData();
        });

        // Function to play button click sound
        function playButtonClickSound() {
            // Mute other sounds when playing button click
            audioOpening.muted = true;
            audioCorrect.muted = true;
            audioWrong.muted = true;
            audioApplause.muted = true;
            
            audioButtonClick.currentTime = 0;
            audioButtonClick.muted = false;
            audioButtonClick.play().catch(e => console.log("Button click sound prevented:", e));
            
            // Unmute other sounds after button click plays
            setTimeout(() => {
                audioOpening.muted = false;
                audioCorrect.muted = false;
                audioWrong.muted = false;
                audioApplause.muted = false;
            }, 500);
        }

        // Function to validate name input (letters only)
        function validateNameInput(input) {
            // Remove any numbers or special characters
            input.value = input.value.replace(/[^a-zA-Z\s]/g, '');
            
            // Convert to uppercase
            input.value = input.value.toUpperCase();
            
            // Update form validity
            checkParticipantFormValidity();
        }

        // Function to validate phone input (numbers only)
        function validatePhoneInput(input) {
            // Remove any non-numeric characters
            input.value = input.value.replace(/\D/g, '');
            
            // Update form validity
            checkParticipantFormValidity();
        }
        
        // Load admin settings into the form
        function loadAdminSettings() {
            document.getElementById('greeting-text').textContent = adminSettings.greetingMessage;
            document.getElementById('admin-message').textContent = adminSettings.adminMessage;
            
            // Set admin panel form values
            document.getElementById('new-login-code').value = adminSettings.loginCode;
            document.getElementById('new-cpns-code').value = adminSettings.cpnsLicenseCode;
            document.getElementById('new-admin-code').value = adminSettings.adminPanelCode;
            
            document.getElementById('exam-duration').value = adminSettings.examDuration;
            document.getElementById('question-count').value = adminSettings.questionCount;
            document.getElementById('randomize-questions').checked = adminSettings.randomizeQuestions;
            document.getElementById('randomize-status').textContent = adminSettings.randomizeQuestions ? 'Aktif' : 'Nonaktif';
            
            document.getElementById('greeting-message-input').value = adminSettings.greetingMessage;
            document.getElementById('admin-message-input').value = adminSettings.adminMessage;
            document.getElementById('chairman-name').value = adminSettings.chairmanName;
            document.getElementById('motivation-message-input').value = adminSettings.motivationMessage;
        }
        
        // Save admin settings to storage with enhanced storage mechanism
        function saveAdminSettings() {
            if (saveAdminSettingsToStorage(adminSettings)) {
                console.log('Admin settings saved successfully');
            }
        }
        
        // Functions
        function handleLogin() {
            const loginCode = document.getElementById('login-code').value;
            
            if (loginCode === adminSettings.loginCode) {
                // Play opening audio
                audioOpening.currentTime = 0;
                audioOpening.muted = false;
                audioOpening.play().catch(e => console.log("Audio play prevented:", e));
                
                // Hide welcome screen with slide out animation
                document.getElementById('welcome-screen').classList.add('slide-out');
                
                // Show terms screen after animation completes
                setTimeout(() => {
                    document.getElementById('welcome-screen').style.display = 'none';
                    document.getElementById('terms-screen').style.display = 'block';
                    document.getElementById('terms-screen').classList.add('slide-in');
                    currentScreen = 'terms';
                }, 500);
            } else {
                alert('Kode login salah. Silakan coba lagi.');
            }
        }
        
        function toggleContinueButton() {
            const agreeCheckbox = document.getElementById('agree-terms');
            document.getElementById('continue-btn').disabled = !agreeCheckbox.checked;
        }
        
        function showParticipantForm() {
            // Hide terms screen with slide out animation
            document.getElementById('terms-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('terms-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
            }, 500);
        }
        
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    showPosition,
                    showError,
                    { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }
                );
            } else {
                alert("Geolocation tidak didukung oleh browser Anda.");
            }
        }
        
        function showPosition(position) {
            // In a real implementation, you would reverse geocode the coordinates to get an address
            // For demo purposes, we'll just show a mock address
            const address = "Jl. Raya Situbondo No. 123, Kec. Situbondo, Kab. Situbondo, Jawa Timur";
            
            document.getElementById('address').value = address;
            document.getElementById('gps-result').textContent = `Lokasi terdeteksi: ${address}`;
            document.getElementById('gps-result').style.display = 'block';
            
            checkParticipantFormValidity();
        }
        
        function showError(error) {
            let message = "Error mendapatkan lokasi: ";
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    message += "Pengguna menolak permintaan geolocation.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    message += "Informasi lokasi tidak tersedia.";
                    break;
                case error.TIMEOUT:
                    message += "Permintaan untuk mendapatkan lokasi pengguna timeout.";
                    break;
                case error.UNKNOWN_ERROR:
                    message += "Terjadi error yang tidak diketahui.";
                    break;
            }
            
            alert(message);
        }
        
        function checkParticipantFormValidity() {
            let isValid = true;
            
            // Check required fields
            if (!document.getElementById('fullname').value.trim()) {
                isValid = false;
            }
            
            if (!document.getElementById('address').value.trim()) {
                isValid = false;
            }
            
            if (!document.getElementById('phone').value.trim() || 
                !document.getElementById('phone').checkValidity()) {
                isValid = false;
            }
            
            if (!document.getElementById('email').value.trim() || 
                !document.getElementById('email').checkValidity()) {
                isValid = false;
            }
            
            // Check CPNS license
            const cpnsLicense = document.getElementById('cpns-license').value;
            if (cpnsLicense !== adminSettings.cpnsLicenseCode) {
                isValid = false;
            }
            
            document.getElementById('save-participant-btn').disabled = !isValid;
        }
        
        function startExam() {
            // Collect participant data
            participantData = {
                fullname: document.getElementById('fullname').value.trim(),
                address: document.getElementById('address').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                email: document.getElementById('email').value.trim(),
                examDate: new Date().toISOString()
            };
            
            // Get questions from question bank
            questions = [...originalQuestions]; // Create a copy for exam
            
            // Check if there are enough questions
            if (questions.length === 0) {
                alert('Maaf, belum ada soal yang tersedia untuk ujian ini. Silakan hubungi admin.');
                return;
            }
            
            // Randomize questions if enabled
            if (adminSettings.randomizeQuestions) {
                questions = shuffleArray(questions);
            }
            
            // Limit number of questions based on admin setting
            const questionCount = Math.min(adminSettings.questionCount, questions.length);
            questions = questions.slice(0, questionCount);
            
            // Initialize exam data
            examData = {
                startTime: new Date(),
                answered: 0,
                correct: 0,
                wrong: 0,
                unanswered: questions.length,
                answers: Array(questions.length).fill(null),
                originalQuestionIndices: questions.map(q => originalQuestions.findIndex(oq => oq.question === q.question))
            };
            
            // Set exam time based on admin settings
            examTimeLeft = adminSettings.examDuration * 60;
            
            // Hide participant form with slide out animation
            document.getElementById('participant-form').classList.add('slide-out');
            
            // Show exam screen after animation completes
            setTimeout(() => {
                document.getElementById('participant-form').style.display = 'none';
                document.getElementById('exam-screen').style.display = 'block';
                document.getElementById('exam-screen').classList.add('slide-in');
                currentScreen = 'exam';
                
                // Start timer
                startTimer();
                
                // Load first question
                loadQuestion(0);
            }, 500);
        }
        
        // Helper function to shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        function startTimer() {
            // Update timer display immediately
            updateTimerDisplay();
            
            // Start timer interval
            examTimer = setInterval(function() {
                examTimeLeft--;
                updateTimerDisplay();
                
                // Check if time is up
                if (examTimeLeft <= 0) {
                    clearInterval(examTimer);
                    finishExam();
                }
                
                // Show warning when 10 minutes left
                if (examTimeLeft === 600) { // 10 minutes = 600 seconds
                    showTimeWarning();
                }
                
                // Hide warning when 1 minute left
                if (examTimeLeft === 60) {
                    hideTimeWarning();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const hours = Math.floor(examTimeLeft / 3600);
            const minutes = Math.floor((examTimeLeft % 3600) / 60);
            const seconds = examTimeLeft % 60;
            
            const timerElement = document.getElementById('exam-timer');
            timerElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change style based on remaining time
            if (examTimeLeft <= 600) { // 10 minutes or less
                timerElement.classList.add('timer-warning');
                
                if (examTimeLeft <= 60) { // 1 minute or less
                    timerElement.classList.remove('timer-warning');
                    timerElement.classList.add('timer-danger');
                }
            } else {
                timerElement.classList.remove('timer-warning', 'timer-danger');
            }
        }
        
        function showTimeWarning() {
            const notification = document.getElementById('time-warning');
            notification.style.display = 'block';
            
            // Auto hide after 9 minutes (540 seconds)
            setTimeout(() => {
                notification.style.display = 'none';
            }, 540 * 1000);
        }
        
        function hideTimeWarning() {
            document.getElementById('time-warning').style.display = 'none';
        }
        
        function loadQuestion(index) {
            if (index < 0 || index >= questions.length) return;
            
            currentQuestionIndex = index;
            const question = questions[index];
            
            // Update question text
            document.getElementById('question-text').textContent = `Soal ${index + 1}: ${question.question}`;
            
            // Clear previous options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, i) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                
                // Check if this question was already answered
                if (examData.answers[index] !== null) {
                    if (examData.answers[index] === i) {
                        // Get the original question to check correct answer
                        const originalIndex = examData.originalQuestionIndices[index];
                        const originalQuestion = originalQuestions[originalIndex];
                        
                        if (i === originalQuestion.correctAnswer) {
                            optionElement.classList.add('correct');
                        } else {
                            optionElement.classList.add('incorrect');
                        }
                    } else if (i === originalQuestions[examData.originalQuestionIndices[index]].correctAnswer) {
                        optionElement.classList.add('correct');
                    }
                    
                    // Show explanation if answered
                    document.getElementById('explanation-text').style.display = 'block';
                    document.getElementById('explanation-text').innerHTML = `<strong>Penjelasan:</strong> ${question.explanation}`;
                } else {
                    // Add click event for unanswered questions
                    optionElement.addEventListener('click', function() {
                        selectAnswer(index, i);
                    });
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation if question not answered
            if (examData.answers[index] === null) {
                document.getElementById('explanation-text').style.display = 'none';
            }
        }
        
        function selectAnswer(questionIndex, answerIndex) {
            const originalIndex = examData.originalQuestionIndices[questionIndex];
            const originalQuestion = originalQuestions[originalIndex];
            
            // Record answer
            examData.answers[questionIndex] = answerIndex;
            
            // Update counters
            examData.answered++;
            examData.unanswered--;
            
            // Check against the original question's correct answer
            if (answerIndex === originalQuestion.correctAnswer) {
                examData.correct++;
                // Play correct answer sound
                audioCorrect.currentTime = 0;
                audioCorrect.muted = false;
                audioCorrect.play().catch(e => console.log("Audio play prevented:", e));
            } else {
                examData.wrong++;
                // Play wrong answer sound
                audioWrong.currentTime = 0;
                audioWrong.muted = false;
                audioWrong.play().catch(e => console.log("Audio play prevented:", e));
            }
            
            // Reload question to show result
            loadQuestion(questionIndex);
            
            // Auto move to next question after delay if not last question
            if (questionIndex < questions.length - 1) {
                setTimeout(() => {
                    loadQuestion(questionIndex + 1);
                }, 2000);
            }
        }
        
        function skipQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }
        
        function showUnansweredQuestions() {
            // Find first unanswered question
            const unansweredIndex = examData.answers.findIndex(answer => answer === null);
            
            if (unansweredIndex !== -1) {
                loadQuestion(unansweredIndex);
            } else {
                alert('Semua soal sudah dijawab.');
            }
        }
        
        function finishExam() {
            clearInterval(examTimer);
            
            // Calculate unanswered questions
            examData.unanswered = examData.answers.filter(answer => answer === null).length;
            
            // Generate certificate code
            const certificateCode = generateCertificateCode(participantData.fullname);
            
            // Add participant to data store with enhanced storage mechanism
            const score = Math.round((examData.correct / questions.length) * 100);
            const participantRecord = {
                ...participantData,
                score: score,
                examDate: new Date().toISOString(),
                certificateCode: certificateCode,
                examResults: {
                    totalQuestions: questions.length,
                    correctAnswers: examData.correct,
                    wrongAnswers: examData.wrong,
                    unanswered: examData.unanswered
                }
            };
            
            // Add to participants array
            participantsData.push(participantRecord);
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                console.log('Participant data saved successfully:', participantRecord);
            }
            
            // Hide exam screen with slide out animation
            document.getElementById('exam-screen').classList.add('slide-out');
            
            // Show results screen after animation completes
            setTimeout(() => {
                document.getElementById('exam-screen').style.display = 'none';
                document.getElementById('results-screen').style.display = 'block';
                document.getElementById('results-screen').classList.add('slide-in');
                currentScreen = 'results';
                
                // Display results
                displayResults();
                
                // Generate certificate
                generateCertificate(certificateCode);
                
                // Show celebration particles
                showCelebration();
                
                // Play applause sound (mute other sounds)
                audioOpening.muted = true;
                audioCorrect.muted = true;
                audioWrong.muted = true;
                audioButtonClick.muted = true;
                
                audioApplause.currentTime = 0;
                audioApplause.muted = false;
                audioApplause.play().catch(e => console.log("Audio play prevented:", e));
                
                // Reload participants data in admin panel if it's open
                if (document.getElementById('admin-panel-content').style.display === 'block') {
                    loadParticipantsData();
                }
            }, 500);
        }
        
        function generateCertificateCode(fullname) {
            // Get current date components
            const now = new Date();
            const day = now.getDate().toString().padStart(2, '0');
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const year = now.getFullYear().toString().slice(-2);
            
            // Clean and format the name
            const cleanedName = fullname.replace(/[^a-zA-Z\s]/g, '').toUpperCase();
            const nameParts = cleanedName.split(' ');
            
            // Create name code - use first 3 letters of first name and last name
            let nameCode = '';
            if (nameParts.length === 1) {
                nameCode = nameParts[0].substring(0, 6).padEnd(6, 'X');
            } else {
                const firstName = nameParts[0];
                const lastName = nameParts[nameParts.length - 1];
                nameCode = (firstName.substring(0, 3) + lastName.substring(0, 3)).padEnd(6, 'X');
            }
            
            // Generate unique 8-digit alphanumeric code
            const uniqueCode = generateUniqueCode(fullname + now.getTime());
            
            // Combine all components
            return `${nameCode}/CPNS/${day}${month}${year}/${uniqueCode}`;
        }
        
        function generateUniqueCode(input) {
            // Create a hash from the input string
            let hash = 0;
            for (let i = 0; i < input.length; i++) {
                const char = input.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32bit integer
            }
            
            // Convert hash to alphanumeric string (excluding similar characters like 0/O, 1/I)
            const chars = '23456789ABCDEFGHJKLMNPQRSTUVWXYZ';
            let result = '';
            let remaining = Math.abs(hash);
            
            for (let i = 0; i < 8; i++) {
                const index = remaining % chars.length;
                result += chars.charAt(index);
                remaining = Math.floor(remaining / chars.length);
            }
            
            // Format as XXXX-XXXX
            return result.substring(0, 4) + '-' + result.substring(4, 8);
        }
        
        function displayResults() {
            document.getElementById('result-name').textContent = participantData.fullname;
            document.getElementById('result-address').textContent = participantData.address;
            document.getElementById('result-phone').textContent = participantData.phone;
            document.getElementById('result-email').textContent = participantData.email;
            document.getElementById('total-questions').textContent = questions.length;
            document.getElementById('correct-answers').textContent = examData.correct;
            document.getElementById('wrong-answers').textContent = examData.wrong;
            document.getElementById('unanswered-questions').textContent = examData.unanswered;
            
            // Calculate score (percentage)
            const score = Math.round((examData.correct / questions.length) * 100);
            document.getElementById('exam-score').textContent = `${score}%`;
        }
        
        function generateCertificate(certificateCode) {
            const certificateContainer = document.getElementById('certificate-container');
            certificateContainer.innerHTML = '';
            
            // Calculate score
            const score = Math.round((examData.correct / questions.length) * 100);
            
            // Get current date
            const now = new Date();
            const dateString = now.toLocaleDateString('id-ID', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            }).replace(/\//g, '');
            
            // Get motivational message based on score
            let motivation = '';
            for (const range in MOTIVATIONAL_MESSAGES) {
                const [min, max] = range.split('-').map(Number);
                if (score >= min && score <= max) {
                    motivation = MOTIVATIONAL_MESSAGES[range];
                    break;
                }
            }
            
            // Use custom motivation message if available
            if (adminSettings.motivationMessage) {
                motivation = adminSettings.motivationMessage;
            }
            
            // Create certificate HTML
            const certificate = document.createElement('div');
            certificate.className = 'certificate';
            
            certificate.innerHTML = `
                <div class="certificate-content">
                    <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                    <p class="certificate-code">${certificateCode}</p>
                    <p>Diberikan Kepada</p>
                    <h2 class="certificate-recipient">${formatName(participantData.fullname)}</h2>
                    <p class="certificate-body">
                        Atas Partisipasi & Pencapaian Luar Biasa Dalam<br>
                        <strong>Ujian CPNS/P3K PERGUNUSMART</strong>
                    </p>
                    <p class="certificate-body">
                        Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, 
                        sertifikat ini diberikan sebagai motivasi untuk terus berkembang.
                    </p>
                    <div class="certificate-score">Nilai: ${score}%</div>
                    <p class="certificate-motivation">${motivation}</p>
                    <div class="certificate-footer">
                        <p>Ditetapkan di: Situbondo, ${now.toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</p>
                        <div class="certificate-signature">
                            <p>Ketua PERGUNU</p>
                            <p><strong>${adminSettings.chairmanName}</strong></p>
                        </div>
                        <img src="https://raw.githubusercontent.com/pergunu/pergunusmart/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                    </div>
                </div>
            `;
            
            certificateContainer.appendChild(certificate);
            certificateContainer.style.display = 'block';
        }
        
        function showCelebration() {
            // Show celebration particles
            document.getElementById('celebration-particles').style.display = 'block';
            
            // Hide after 5 seconds
            setTimeout(() => {
                document.getElementById('celebration-particles').style.display = 'none';
            }, 5000);
        }
        
        function formatName(name) {
            return name.split(' ').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
            ).join(' ');
        }
        
        function printCertificate() {
            // Hide floating buttons
            document.querySelector('.floating-buttons').style.display = 'none';
            
            // Hide other elements in results screen
            document.querySelector('.results-summary').style.display = 'none';
            document.querySelector('.result-actions').style.display = 'none';
            
            // Print the certificate
            window.print();
            
            // Show elements again after printing
            setTimeout(() => {
                document.querySelector('.floating-buttons').style.display = 'flex';
                document.querySelector('.results-summary').style.display = 'block';
                document.querySelector('.result-actions').style.display = 'block';
            }, 500);
        }
        
        function retakeExam() {
            // Hide results screen with slide out animation
            document.getElementById('results-screen').classList.add('slide-out');
            
            // Show participant form after animation completes
            setTimeout(() => {
                document.getElementById('results-screen').style.display = 'none';
                document.getElementById('participant-form').style.display = 'block';
                document.getElementById('participant-form').classList.add('slide-in');
                currentScreen = 'participant';
                
                // Reset timer
                examTimeLeft = adminSettings.examDuration * 60;
            }, 500);
        }
        
        function contactAdmin() {
            const message = encodeURIComponent("Assalamualaikum mas admin, saya mau tanya tentang soal ujian CPNS/P3K nih....");
            window.open(`https://wa.me/6285647709114?text=${message}`, '_blank');
        }
        
        function showAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'flex';
        }
        
        function hideAdminPanelModal() {
            document.getElementById('admin-panel-modal').style.display = 'none';
        }
        
        function submitAdminPanelCode() {
            const code = document.getElementById('admin-panel-code').value;
            
            if (code === adminSettings.adminPanelCode) {
                // Show admin panel content
                document.getElementById('admin-panel-content').style.display = 'block';
                loadParticipantsData();
            } else {
                alert('Kode admin salah. Silakan coba lagi.');
            }
        }

        function loadParticipantsData() {
            const tableBody = document.getElementById('participants-table-body');
            tableBody.innerHTML = '';
            
            try {
                // Load participants
                participantsData = loadParticipantsFromStorage();
                
                if (participantsData.length === 0) {
                    tableBody.innerHTML = '<tr><td colspan="8" style="text-align: center;">Belum ada data peserta</td></tr>';
                    return;
                }
                
                // Sort by date (newest first)
                const sortedData = [...participantsData].sort((a, b) => 
                    new Date(b.examDate) - new Date(a.examDate));
                
                sortedData.forEach((participant, i) => {
                    const date = new Date(participant.examDate);
                    const dateStr = date.toLocaleDateString('id-ID', {
                        day: '2-digit',
                        month: '2-digit',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><input type="checkbox" class="select-checkbox participant-checkbox" data-index="${i}"></td>
                        <td>${dateStr}</td>
                        <td>${participant.fullname}</td>
                        <td>${participant.phone}</td>
                        <td>${participant.email}</td>
                        <td>${participant.score}%</td>
                        <td>${participant.certificateCode || '-'}</td>
                        <td>
                            <button class="question-action-btn edit-btn edit-participant-btn" data-index="${i}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="question-action-btn delete-btn delete-participant-btn" data-index="${i}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                // Add event listeners to participant checkboxes
                document.querySelectorAll('.participant-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', updateSelectedCount);
                });
                
                // Add event listeners to edit and delete buttons for individual participants
                document.querySelectorAll('.edit-participant-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        editParticipant(index);
                    });
                });
                
                document.querySelectorAll('.delete-participant-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        
                        if (confirm('Apakah Anda yakin ingin menghapus peserta ini?')) {
                            deleteParticipant(index);
                        }
                    });
                });
                
            } catch (e) {
                console.error('Error loading participants data:', e);
                tableBody.innerHTML = '<tr><td colspan="8" style="text-align: center; color: red;">Error memuat data peserta</td></tr>';
            }
        }
        
        function searchParticipants() {
            const searchTerm = document.getElementById('participant-search').value.toLowerCase();
            const rows = document.querySelectorAll('#participants-table-body tr');
            
            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                let shouldShow = false;
                
                // Check each cell (except the first and last which are checkboxes and actions)
                for (let i = 1; i < cells.length - 1; i++) {
                    if (cells[i].textContent.toLowerCase().includes(searchTerm)) {
                        shouldShow = true;
                        break;
                    }
                }
                
                row.style.display = shouldShow ? '' : 'none';
            });
        }
        
        function updateSelectedCount() {
            const selectedCount = document.querySelectorAll('.participant-checkbox:checked').length;
            document.getElementById('selected-count').textContent = `${selectedCount} dipilih`;
            
            // Enable/disable bulk action buttons
            document.getElementById('edit-selected-btn').disabled = selectedCount === 0;
            document.getElementById('delete-selected-btn').disabled = selectedCount === 0;
        }
        
        function toggleSelectAllParticipants() {
            const selectAll = document.getElementById('select-all-participants').checked;
            document.getElementById('select-all-header').checked = selectAll;
            document.querySelectorAll('.participant-checkbox').forEach(checkbox => {
                checkbox.checked = selectAll;
            });
            
            updateSelectedCount();
        }
        
        function toggleSelectAllParticipantsHeader() {
            const selectAll = document.getElementById('select-all-header').checked;
            document.getElementById('select-all-participants').checked = selectAll;
            document.querySelectorAll('.participant-checkbox').forEach(checkbox => {
                checkbox.checked = selectAll;
            });
            
            updateSelectedCount();
        }
        
        function editSelectedParticipants() {
            const selectedCheckboxes = document.querySelectorAll('.participant-checkbox:checked');
            
            if (selectedCheckboxes.length === 0) {
                alert('Tidak ada peserta yang dipilih');
                return;
            }
            
            if (selectedCheckboxes.length > 1) {
                alert('Hanya bisa mengedit satu peserta sekaligus');
                return;
            }
            
            const index = parseInt(selectedCheckboxes[0].getAttribute('data-index'));
            editParticipant(index);
        }
        
        function editParticipant(index) {
            const participant = participantsData[index];
            
            // Fill the edit form
            document.getElementById('edit-fullname').value = participant.fullname;
            document.getElementById('edit-address').value = participant.address;
            document.getElementById('edit-phone').value = participant.phone;
            document.getElementById('edit-email').value = participant.email;
            document.getElementById('edit-score').value = participant.score;
            document.getElementById('edit-certificate-code').value = participant.certificateCode || '-';
            
            // Store participant index
            document.getElementById('edit-participant-index').value = index;
            
            // Show the modal
            document.getElementById('edit-participant-modal').style.display = 'flex';
        }
        
        function hideEditParticipantModal() {
            document.getElementById('edit-participant-modal').style.display = 'none';
        }
        
        function saveEditedParticipant() {
            const index = parseInt(document.getElementById('edit-participant-index').value);
            const participant = participantsData[index];
            
            // Update participant data
            participant.fullname = document.getElementById('edit-fullname').value.trim();
            participant.address = document.getElementById('edit-address').value.trim();
            participant.phone = document.getElementById('edit-phone').value.trim();
            participant.email = document.getElementById('edit-email').value.trim();
            participant.score = parseInt(document.getElementById('edit-score').value);
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                // Refresh participants list
                loadParticipantsData();
                
                // Hide modal
                hideEditParticipantModal();
                
                alert('Perubahan data peserta berhasil disimpan!');
            }
        }
        
        function deleteSelectedParticipants() {
            const selectedCheckboxes = document.querySelectorAll('.participant-checkbox:checked');
            
            if (selectedCheckboxes.length === 0) {
                alert('Tidak ada peserta yang dipilih');
                return;
            }
            
            if (!confirm(`Apakah Anda yakin ingin menghapus ${selectedCheckboxes.length} peserta terpilih?`)) {
                return;
            }
            
            // Get indices of selected participants (sorted in descending order to avoid index shifting)
            const indices = Array.from(selectedCheckboxes)
                .map(checkbox => parseInt(checkbox.getAttribute('data-index')))
                .sort((a, b) => b - a);
            
            // Remove participants from array
            indices.forEach(index => {
                participantsData.splice(index, 1);
            });
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                // Refresh participants list
                loadParticipantsData();
                
                alert(`${indices.length} peserta berhasil dihapus!`);
            }
        }
        
        function deleteParticipant(index) {
            participantsData.splice(index, 1);
            
            // Save to storage
            if (saveParticipantsToStorage(participantsData)) {
                // Refresh participants list
                loadParticipantsData();
                
                alert('Peserta berhasil dihapus!');
            }
        }
        
        function validateCertificate() {
            const certificateCode = document.getElementById('certificate-code-input').value.trim();
            const validationResult = document.getElementById('validation-result');
            const certificateInfo = document.getElementById('certificate-info');
            
            if (!certificateCode) {
                alert('Silakan masukkan kode sertifikat');
                return;
            }
            
            // Find participant with this certificate code
            const participant = participantsData.find(p => p.certificateCode === certificateCode);
            
            if (participant) {
                validationResult.textContent = 'Sertifikat Valid';
                validationResult.className = 'validation-result valid';
                
                // Display participant info
                certificateInfo.innerHTML = `
                    <p><strong>Nama:</strong> ${participant.fullname}</p>
                    <p><strong>Tanggal Ujian:</strong> ${new Date(participant.examDate).toLocaleDateString('id-ID')}</p>
                    <p><strong>Nilai:</strong> ${participant.score}%</p>
                `;
                certificateInfo.style.display = 'block';
            } else {
                validationResult.textContent = 'Sertifikat Tidak Valid';
                validationResult.className = 'validation-result invalid';
                certificateInfo.style.display = 'none';
            }
            
            validationResult.style.display = 'block';
        }
        
        function saveCodes() {
            const newLoginCode = document.getElementById('new-login-code').value;
            const newCpnsCode = document.getElementById('new-cpns-code').value;
            const newAdminCode = document.getElementById('new-admin-code').value;
            
            if (newLoginCode || newCpnsCode || newAdminCode) {
                // Update admin settings
                if (newLoginCode) adminSettings.loginCode = newLoginCode;
                if (newCpnsCode) adminSettings.cpnsLicenseCode = newCpnsCode;
                if (newAdminCode) adminSettings.adminPanelCode = newAdminCode;
                
                // Save to storage
                saveAdminSettings();
                
                // Clear the fields
                document.getElementById('new-login-code').value = '';
                document.getElementById('new-cpns-code').value = '';
                document.getElementById('new-admin-code').value = '';
                
                alert('Kode berhasil diubah!');
            } else {
                alert('Silakan masukkan setidaknya satu kode baru');
            }
        }
        
        function saveContent() {
            const greetingMessage = document.getElementById('greeting-message-input').value;
            const adminMessage = document.getElementById('admin-message-input').value;
            const chairmanName = document.getElementById('chairman-name').value;
            const motivationMessage = document.getElementById('motivation-message-input').value;
            
            // Update admin settings
            adminSettings.greetingMessage = greetingMessage;
            adminSettings.adminMessage = adminMessage;
            adminSettings.chairmanName = chairmanName;
            adminSettings.motivationMessage = motivationMessage;
            
            // Save to storage
            saveAdminSettings();
            
            // Update UI
            document.getElementById('greeting-text').textContent = greetingMessage;
            document.getElementById('admin-message').textContent = adminMessage;
            
            alert('Perubahan konten berhasil disimpan!');
        }
    </script>
</body>
</html>
